<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Operating System | Notev</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/favicon152.png">
    <link rel="mask-icon" href="/icons/favicon152.png" color="#3eaf7c">
    <link rel="alternate" type="application/rss+xml" href="https://nyakku.moe/rss.xml" title="Notev RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://nyakku.moe/feed.atom" title="Notev Atom Feed">
    <link rel="alternate" type="application/json" href="https://nyakku.moe/feed.json" title="Notev JSON Feed">
    <meta name="description" content="一个小透明的透明世界">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta property="og:url" content="https://nyakku.moe">
    <meta property="og:site_name" content="Notev">
    <meta property="og:image" content="/bg.jpg">
    <meta property="og:description" content="一个小透明的透明世界">
    <meta property="og:title" content="Notev">
    <meta name="theme-color" content="#222222">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/favicon144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.f23e234c.css" as="style"><link rel="preload" href="/assets/js/app.77ce5594.js" as="script"><link rel="preload" href="/assets/js/18.2c15646e.js" as="script"><link rel="preload" href="/assets/js/5.6798c603.js" as="script"><link rel="preload" href="/assets/js/16.f883ba47.js" as="script"><link rel="prefetch" href="/assets/js/1.230b7e60.js"><link rel="prefetch" href="/assets/js/10.9343fec9.js"><link rel="prefetch" href="/assets/js/11.f7c4af63.js"><link rel="prefetch" href="/assets/js/12.ea790895.js"><link rel="prefetch" href="/assets/js/13.869e1202.js"><link rel="prefetch" href="/assets/js/14.c329aed5.js"><link rel="prefetch" href="/assets/js/15.03e20bf0.js"><link rel="prefetch" href="/assets/js/17.14519e30.js"><link rel="prefetch" href="/assets/js/19.13c3c933.js"><link rel="prefetch" href="/assets/js/20.4984fedc.js"><link rel="prefetch" href="/assets/js/21.b7226c27.js"><link rel="prefetch" href="/assets/js/22.1431c78e.js"><link rel="prefetch" href="/assets/js/23.becf0748.js"><link rel="prefetch" href="/assets/js/24.6eafdefd.js"><link rel="prefetch" href="/assets/js/25.6833967c.js"><link rel="prefetch" href="/assets/js/26.cbe1698c.js"><link rel="prefetch" href="/assets/js/27.250924b8.js"><link rel="prefetch" href="/assets/js/28.74a2bf18.js"><link rel="prefetch" href="/assets/js/29.ba4147a6.js"><link rel="prefetch" href="/assets/js/3.91ae9b9a.js"><link rel="prefetch" href="/assets/js/30.2db32b59.js"><link rel="prefetch" href="/assets/js/31.6ce023b1.js"><link rel="prefetch" href="/assets/js/32.b39adaa9.js"><link rel="prefetch" href="/assets/js/33.607eeb5d.js"><link rel="prefetch" href="/assets/js/34.9b5ef386.js"><link rel="prefetch" href="/assets/js/35.3b41d828.js"><link rel="prefetch" href="/assets/js/36.0ea955b1.js"><link rel="prefetch" href="/assets/js/37.14180136.js"><link rel="prefetch" href="/assets/js/38.ae5017e9.js"><link rel="prefetch" href="/assets/js/39.88cf2ed8.js"><link rel="prefetch" href="/assets/js/4.88b6f4ed.js"><link rel="prefetch" href="/assets/js/40.81328074.js"><link rel="prefetch" href="/assets/js/41.e53ac2d7.js"><link rel="prefetch" href="/assets/js/42.c21cb385.js"><link rel="prefetch" href="/assets/js/43.99cd7089.js"><link rel="prefetch" href="/assets/js/44.fb5b335e.js"><link rel="prefetch" href="/assets/js/45.b55deb04.js"><link rel="prefetch" href="/assets/js/46.cd720499.js"><link rel="prefetch" href="/assets/js/47.e96d8af2.js"><link rel="prefetch" href="/assets/js/48.d86b17f6.js"><link rel="prefetch" href="/assets/js/6.5e48ac17.js"><link rel="prefetch" href="/assets/js/7.5c1f2d2c.js"><link rel="prefetch" href="/assets/js/8.4a9a5d81.js"><link rel="prefetch" href="/assets/js/9.7b03fb43.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f23e234c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/bg.jpg);" data-v-7a046aea><div data-v-e4145d0a data-v-7a046aea><nav class="navbar" data-v-e4145d0a><div class="container" data-v-e4145d0a><a href="/" class="router-link-active" data-v-e4145d0a><span class="navbar-site-name" data-v-e4145d0a>
          Notev
        </span></a> <div class="navbar-toggler" data-v-e4145d0a><svg class="icon" style="font-size:1.2em;" data-v-e4145d0a data-v-e4145d0a><title data-v-e4145d0a data-v-e4145d0a>menu</title><use xlink:href="#icon-menu" data-v-e4145d0a data-v-e4145d0a></use></svg></div> <div class="navbar-links" data-v-e4145d0a><a href="/" class="navbar-link" data-v-e4145d0a>
            Home
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-e4145d0a>
            Posts
          </a><a href="/friends.html" class="navbar-link" data-v-e4145d0a>
            Friends
          </a><a href="/about.html" class="navbar-link" data-v-e4145d0a>
            About
          </a><a href="https://github.com/SigureMo/notev" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-e4145d0a><span data-v-e4145d0a>GitHub</span> <span data-v-e4145d0a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-e4145d0a></div></div> <div class="banner" data-v-98d6aa8c data-v-7a046aea data-v-7a046aea><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-7a046aea>
          Operating System
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-4dd605a1 data-v-4dd605a1><main class="main" data-v-4dd605a1><div class="post" data-v-4dd605a1 data-v-4dd605a1><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      Created : 2019-02-28
    </span> <span class="update-date" data-v-4e23451f>
      Updated : Invalid Date
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/10/14/deep-learning.html" class="post-link" data-v-4e23451f>
      Previous Post : Deep Learning
    </a> <a href="/posts/2019/05/19/katex-index.html" class="post-link" data-v-4e23451f>
      Next Post : KaTeX 索引表
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>《计算机操作系统》课程笔记</p></div> <h2 id="_1-操作系统引论"><a href="#_1-操作系统引论" class="header-anchor">#</a> 1 操作系统引论</h2> <p>配置在计算机硬件上的第一层软件</p> <h3 id="_1-1-操作系统的目标和作用"><a href="#_1-1-操作系统的目标和作用" class="header-anchor">#</a> 1.1 操作系统的目标和作用</h3> <h4 id="_1-1-1-操作系统的目标"><a href="#_1-1-1-操作系统的目标" class="header-anchor">#</a> 1.1.1 操作系统的目标</h4> <ul><li>方便性 避免用户书写机器语言</li> <li>有效性 防止大部分设备处于空闲状态，在操作系统的调度下各部分的协调恰如其分</li> <li>可扩充性 能方便地增添新的功能和模块</li> <li>开放性 按照某些标准开发，以便软硬件的兼容等等</li></ul> <h4 id="_1-1-2-操作系统的作用"><a href="#_1-1-2-操作系统的作用" class="header-anchor">#</a> 1.1.2 操作系统的作用</h4> <ul><li><p>OS 作为用户与计算机硬件系统之间的接口</p> <p><img src="/assets/img/OS01.65cbb556.png" alt="OS01"></p></li> <li><p>OS 作为计算机系统资源的管理者</p> <ul><li>处理器上可执行的指令分为
<ul><li>特权指令</li> <li>非特权指令</li></ul></li> <li>处理器状态划分为
<ul><li>管态（管理态）</li> <li>目态（用户态）</li></ul></li></ul> <blockquote><p>处理器状态保证了特权指令的正确使用，把 OS 与用户程序区别开来</p></blockquote></li> <li><p>OS 实现了对计算机资源的抽象</p></li></ul> <h4 id="_1-1-3-推动操作系统发展的主要动力"><a href="#_1-1-3-推动操作系统发展的主要动力" class="header-anchor">#</a> 1.1.3 推动操作系统发展的主要动力</h4> <ul><li>不断提高计算机资源利用率</li> <li>方便用户</li> <li>器件的不断更新换代</li> <li>计算机体系结构的不断发展</li> <li>不断提出新的应用要求</li></ul> <h3 id="_1-2-操作系统的发展过程"><a href="#_1-2-操作系统的发展过程" class="header-anchor">#</a> 1.2 操作系统的发展过程</h3> <h4 id="_1-2-1-未配置操作系统的计算机系统"><a href="#_1-2-1-未配置操作系统的计算机系统" class="header-anchor">#</a> 1.2.1 未配置操作系统的计算机系统</h4> <ol><li><p>人工操作方式</p> <p>人工装填纸带，CPU 大多数时间在等待，浪费了大量的资源</p></li> <li><p>脱机输入/输出（Off-Line I/O）方式</p> <p>在手工与 CPU 之间加上了一个磁带，以优化 I/O 与 CPU 速度不匹配的问题</p></li></ol> <h4 id="_1-2-2-单道批处理系统"><a href="#_1-2-2-单道批处理系统" class="header-anchor">#</a> 1.2.2 单道批处理系统</h4> <ul><li><p>单道批处理系统（Simple Batch Processing System）的处理过程</p> <p>用监督程序来解放装填纸带人员的双手，并进一步解决了 I/O 与 CPU 之间速度不匹配的问题</p></li> <li><p>单道批处理系统的特征</p> <ul><li>单道性 内存中仅有一道程序运行</li> <li>自动性</li> <li>顺序性</li></ul></li></ul> <h4 id="_1-2-3-多道批处理系统"><a href="#_1-2-3-多道批处理系统" class="header-anchor">#</a> 1.2.3 多道批处理系统</h4> <ul><li><p>多道程序设计的基本概念</p> <p>用户提交的作业形成队列，按一定算法将若干作业调入内存</p></li> <li><p>多道程序设计的优点</p> <ul><li>提高 CPU 利用率</li> <li>提高内存和 I/O 设备利用率</li> <li>增加系统吞吐量</li></ul></li> <li><p>多道程序设计的缺点</p> <ul><li>平均周转时间长</li> <li>依然无交互能力</li></ul></li></ul> <h4 id="_1-2-4-分时系统"><a href="#_1-2-4-分时系统" class="header-anchor">#</a> 1.2.4 分时系统</h4> <ul><li><p>分时系统产生的动力</p> <ul><li>人们亟需可以实现<strong>人机交互</strong>的处理机以便调试运行程序</li> <li><strong>共享主机</strong></li></ul></li> <li><p>分时系统实现中的关键问题</p> <ul><li>及时接收 及时接收各个用户终端的输入</li> <li>及时处理 及时处理用户键入的命令</li></ul></li></ul> <p>=&gt; 分时系统，将 CPU 的时间分片，每个作业每次只能运行一个时间片</p> <ul><li><p>分时系统的特征</p> <ul><li>多路性</li> <li>独立性 每个人都好像独占资源</li> <li>及时性</li> <li>交互性</li></ul></li></ul> <h4 id="_1-2-5-实时系统"><a href="#_1-2-5-实时系统" class="header-anchor">#</a> 1.2.5 实时系统</h4> <ul><li><p>需求</p> <ul><li>实时控制</li> <li>实时信息处理</li></ul></li> <li><p>实时任务</p> <ul><li>按任务执行时是否呈现周期性来划分
<ul><li>周期性实时任务</li> <li>非周期性实时任务</li></ul></li> <li>根据对截止时间的要求来划分
<ul><li>硬实时任务</li> <li>软实时任务</li></ul></li></ul></li> <li><p>实时系统与分时系统特征的比较</p> <ul><li>多路性</li> <li>独立性</li> <li>交互性</li> <li>及时性</li> <li>可靠性</li></ul></li></ul> <h4 id="_1-2-6-微机操作系统的发展"><a href="#_1-2-6-微机操作系统的发展" class="header-anchor">#</a> 1.2.6 微机操作系统的发展</h4> <ol><li><p>单用户单任务操作系统</p> <ul><li>CP/M</li> <li>MS-DOS</li></ul></li> <li><p>单用户多任务操作系统</p> <p>各种 Windows</p></li> <li><p>多用户多任务操作系统</p> <p>UNIX</p> <ul><li>Solaris</li> <li>Linux ❤️</li></ul></li></ol> <h4 id="_1-2-7-其它操作系统"><a href="#_1-2-7-其它操作系统" class="header-anchor">#</a> 1.2.7 其它操作系统</h4> <ul><li>网络操作系统</li> <li>分布式操作系统 可独立也可协同，对用户来说相当于一个操作系统</li> <li>嵌入式操作系统</li></ul> <h3 id="_1-3-操作系统的特征"><a href="#_1-3-操作系统的特征" class="header-anchor">#</a> 1.3 操作系统的特征</h3> <h4 id="_1-3-1-并发性"><a href="#_1-3-1-并发性" class="header-anchor">#</a> 1.3.1 并发性</h4> <p>并行和并发的区别，组原就有提到，并行是真的多处理器处理多数据，并发是利用时分技术实现的，其微观本质上还是串行</p> <p>为了实现并发，引入了进程的概念，其<strong>作为资源分配的基本单位，可在系统中能独立运行</strong></p> <p>为了进一步提高并发程度，在进程内引入了线程，其<strong>作为独立运行和独立调度的基本单位，并不会拥有系统资源，开销就会小很多</strong></p> <h4 id="_1-3-2-共享性"><a href="#_1-3-2-共享性" class="header-anchor">#</a> 1.3.2 共享性</h4> <ul><li><p>互斥共享技术</p> <p>保证各个进程之间不会混淆</p></li> <li><p>同时访问方式</p> <p>各个进程可以同时访问同一个设备，比如磁盘</p></li></ul> <h4 id="_1-3-3-虚拟技术"><a href="#_1-3-3-虚拟技术" class="header-anchor">#</a> 1.3.3 虚拟技术</h4> <ul><li>时分复用技术
<ul><li>虚拟处理机技术</li> <li>虚拟设备技术</li></ul></li> <li>空分复用技术
<ul><li>虚拟磁盘技术 磁盘分区</li> <li>虚拟存储器技术</li></ul></li></ul> <h4 id="_1-3-4-异步性"><a href="#_1-3-4-异步性" class="header-anchor">#</a> 1.3.4 异步性</h4> <p>各个进程停停走走……</p> <h3 id="_1-4-操作系统的五大功能"><a href="#_1-4-操作系统的五大功能" class="header-anchor">#</a> 1.4 操作系统的五大功能</h3> <h4 id="_1-4-1-处理机管理"><a href="#_1-4-1-处理机管理" class="header-anchor">#</a> 1.4.1 处理机管理</h4> <ul><li>进程控制</li> <li>进程同步</li> <li>进程通信</li> <li>调度</li></ul> <h4 id="_1-4-2-存储器管理功能"><a href="#_1-4-2-存储器管理功能" class="header-anchor">#</a> 1.4.2 存储器管理功能</h4> <ul><li>内存分配</li> <li>内存保护</li> <li>地址映射</li> <li>内存扩充</li></ul> <h4 id="_1-4-3-设备管理功能"><a href="#_1-4-3-设备管理功能" class="header-anchor">#</a> 1.4.3 设备管理功能</h4> <ul><li>缓存管理</li> <li>设备分配</li> <li>设备处理</li></ul> <h4 id="_1-4-4-文件管理功能"><a href="#_1-4-4-文件管理功能" class="header-anchor">#</a> 1.4.4 文件管理功能</h4> <ul><li>文件存储空间的管理</li> <li>目录管理</li> <li>文件的读/写管理和保护</li></ul> <h4 id="_1-4-5-操作系统与用户之间的接口"><a href="#_1-4-5-操作系统与用户之间的接口" class="header-anchor">#</a> 1.4.5 操作系统与用户之间的接口</h4> <ul><li>用户接口</li> <li>程序接口</li></ul> <h4 id="_1-4-6-现代操作系统的新功能"><a href="#_1-4-6-现代操作系统的新功能" class="header-anchor">#</a> 1.4.6 现代操作系统的新功能</h4> <ul><li>系统安全</li> <li>网络的功能和服务</li> <li>支持多媒体</li></ul> <h3 id="_1-5-os-结构设计"><a href="#_1-5-os-结构设计" class="header-anchor">#</a> 1.5 OS 结构设计</h3> <h4 id="_1-5-1-传统的操作系统结构"><a href="#_1-5-1-传统的操作系统结构" class="header-anchor">#</a> 1.5.1 传统的操作系统结构</h4> <ol><li>无结构操作系统</li> <li>模块化结构操作系统 分解成一个一个模块</li> <li>分层式结构 OS 有序分层</li></ol> <h4 id="_1-5-2-客户-服务器-c-s-模式简介"><a href="#_1-5-2-客户-服务器-c-s-模式简介" class="header-anchor">#</a> 1.5.2 客户/服务器（C/S）模式简介</h4> <p>便于集中管理，但会有瓶颈问题和不可靠性</p> <h4 id="_1-5-3-面向对象的程序设计-oop-简介"><a href="#_1-5-3-面向对象的程序设计-oop-简介" class="header-anchor">#</a> 1.5.3 面向对象的程序设计（OOP）简介</h4> <h4 id="_1-5-4-微内核-os-结构"><a href="#_1-5-4-微内核-os-结构" class="header-anchor">#</a> 1.5.4 微内核 OS 结构</h4> <ul><li><p>足够小的内核</p> <p>将操作系统中最基本的部分放入微内核，其他部分放在外面作为服务器</p></li> <li><p>基于 C/S 模式</p> <p><img src="/assets/img/OS02.f287f1f2.png" alt="OS02"></p></li> <li><p>应用”机制与策略分离“原理</p></li> <li><p>采用面向对象技术</p></li></ul> <h2 id="_2-进程管理"><a href="#_2-进程管理" class="header-anchor">#</a> 2 进程管理</h2> <h3 id="_2-1-进程的基本概念"><a href="#_2-1-进程的基本概念" class="header-anchor">#</a> 2.1 进程的基本概念</h3> <h4 id="_2-1-1-程序的顺序执行及其特征"><a href="#_2-1-1-程序的顺序执行及其特征" class="header-anchor">#</a> 2.1.1 程序的顺序执行及其特征</h4> <ul><li><p>程序的顺序执行是指程序可以保证其按照其顺序执行</p></li> <li><p>特征</p> <ul><li>顺序性</li> <li>封闭性</li> <li>可再现性</li></ul></li></ul> <h4 id="_2-1-2-程序的并发执行及其特征"><a href="#_2-1-2-程序的并发执行及其特征" class="header-anchor">#</a> 2.1.2 程序的并发执行及其特征</h4> <ul><li><p>多道程序并发执行</p></li> <li><p>特征</p> <ul><li>间断性</li> <li>失去封闭性</li> <li>不可再现性 （资源共享，可能使用时被其他程序所修改）</li></ul></li></ul> <h4 id="_2-1-3-进程的特征与状态"><a href="#_2-1-3-进程的特征与状态" class="header-anchor">#</a> 2.1.3 进程的特征与状态</h4> <p><img src="/assets/img/OS04.bb91542d.png" alt="OS04"></p> <ul><li><p>定义</p> <ul><li>进程是程序的一次执行</li> <li>进程是一个程序及其数据在处理机上顺序执行时所发生的活动</li> <li>进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位</li></ul></li> <li><p>特征</p> <ul><li>结构性</li> <li>动态性</li> <li>并发性</li> <li>独立性</li> <li>异步性</li></ul></li> <li><p>状态</p> <ul><li>活动进程的三种状态
<ul><li>就绪</li> <li>执行</li> <li>阻塞</li></ul></li> <li>另外两种状态
<ul><li>创建</li> <li>终止</li></ul></li> <li>挂起状态（将进程内存 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span></span> 外存）</li></ul> <p><img src="/assets/img/OS03.b036dcb2.png" alt="OS03"></p> <blockquote><p>N 核 CPU ，共有 M 个进程</p> <ul><li>就绪态用户进程最多几个？最少几个？</li> <li>M-N, 0</li> <li>执行态用户进程最多几个？最少几个？</li> <li>N, 0</li> <li>阻塞态用户进程最多几个？最少几个？</li> <li>M, 0</li></ul></blockquote></li></ul> <h4 id="_2-1-4-进程控制块-pcb"><a href="#_2-1-4-进程控制块-pcb" class="header-anchor">#</a> 2.1.4 进程控制块 PCB</h4> <p>系统是根据进程的 PCB 感知到该进程的存在的,PCB 是进程存在的<strong>唯一标志</strong>，因此系统总是通过 PCB 对进程进行控制的</p> <ul><li><p>PCB 中的信息</p> <ul><li>进程标识信息
<ul><li>内部标识号 PID ，操作系统分配</li> <li>外部标识号 由字母数字组成的，创建者提供</li></ul></li> <li>处理机状态信息
<ul><li>通用寄存器</li> <li>指令计数器</li> <li>程序状态字 PSW</li> <li>用户栈指针</li></ul></li> <li>进程调度信息
<ul><li>进程状态</li> <li>进程优先级</li> <li>进程调度所需的其它信息</li> <li>事件</li></ul></li> <li>进程控制信息
<ul><li>程序和数据的地址</li> <li>进程同步和通信机制</li> <li>资源清单</li> <li>链接指针（当然，索引方式应该是没有的）</li></ul></li></ul></li> <li><p>PCB 组织方式</p> <ul><li><p>链接方式 组织成链表</p> <p><img src="/assets/img/OS05.e21022a1.png" alt="OS05"></p></li> <li><p>索引方式 额外建立一个索引表，更快，但是额外消耗一部分内存</p> <p><img src="/assets/img/OS06.ad06b089.png" alt="OS06"></p></li></ul></li></ul> <h3 id="_2-2-进程控制"><a href="#_2-2-进程控制" class="header-anchor">#</a> 2.2 进程控制</h3> <p>通过<strong>原语</strong>来实现</p> <p>原语是原子操作，是不可分割的基本单位，要么全做、要么全不做</p> <h4 id="_2-2-1-进程的创建"><a href="#_2-2-1-进程的创建" class="header-anchor">#</a> 2.2.1 进程的创建</h4> <ul><li><p>进程图</p> <p>是一种树状的家族关系，子进程继承父进程资源，如 UNIX</p> <blockquote><p>Windows 不是这种关系，Win 的各个进程之间是平等的，并不是层次关系，进程之间的关系是通过获取句柄来调节的</p></blockquote></li> <li><p>引起创建进程的事件</p> <ul><li>用户登录</li> <li>作业调度</li> <li>提供服务</li> <li>应用请求</li></ul></li> <li><p>进程的创建原语（Create）</p> <ul><li>申请空白 PCB</li> <li>为新进程分配资源</li> <li>初始化 PCB</li> <li>将新进程插入就绪队列</li></ul></li></ul> <h4 id="_2-2-2-进程的终止"><a href="#_2-2-2-进程的终止" class="header-anchor">#</a> 2.2.2 进程的终止</h4> <ul><li><p>引起进程终止的事件</p> <ul><li>正常结束</li> <li>异常结束
<ul><li>越界错</li> <li>保护错</li> <li>非法指令</li> <li>特权指令错</li> <li>运行超时</li> <li>等待超时</li> <li>算术运算错</li> <li>I/O 故障</li></ul></li> <li>外界干预
<ul><li>操作员或操作系统干预</li> <li>父进程请求</li> <li>父进程中止</li></ul></li></ul></li> <li><p>进程的终止原语（termination）</p> <ul><li>根据被终止进程的标识符，检索出 PCB ，读取进程状态</li> <li>若处于执行状态，则立即终止</li> <li>若还有子孙进程，则递归终止</li> <li>将资源归还其父进程或者系统</li> <li>将被终止进程 PCB 从所在队列中移出</li></ul></li></ul> <h4 id="_2-2-3-进程的阻塞与唤醒"><a href="#_2-2-3-进程的阻塞与唤醒" class="header-anchor">#</a> 2.2.3 进程的阻塞与唤醒</h4> <ul><li><p>引起进程阻塞和唤醒的事件</p> <ul><li>请求系统服务</li> <li>启动某种操作</li> <li>新数据尚未到达</li> <li>无新工作可做</li></ul></li> <li><p>进程阻塞原语（block）</p></li> <li><p>进程唤醒原语（wakeup）</p></li></ul> <h4 id="_2-2-4-进程的挂起和激活"><a href="#_2-2-4-进程的挂起和激活" class="header-anchor">#</a> 2.2.4 进程的挂起和激活</h4> <ul><li>进程挂起原语（suspend）</li> <li>进程激活原语（active）</li></ul> <h3 id="_2-3-进程同步"><a href="#_2-3-进程同步" class="header-anchor">#</a> 2.3 进程同步</h3> <p><a href="https://github.com/SigureMo/os-work/tree/master/process_sync" target="_blank" rel="noopener noreferrer">本章节 Python 实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_2-3-1-进程同步的基本概念"><a href="#_2-3-1-进程同步的基本概念" class="header-anchor">#</a> 2.3.1 进程同步的基本概念</h4> <ul><li>两种形式的制约关系
<ul><li>间接相互制约关系（互斥） 多个进程共享系统资源</li> <li>直接相互制约关系（同步） 多个进程之间共同访问缓冲区</li></ul></li></ul> <p>问题的根源就在于 临界资源</p> <ul><li><p>临界资源 就是发生冲突的部分 比如共享的系统资源（硬件临界资源）、共享的缓冲区（软件临界资源）</p></li> <li><p>临界区 每个进程中访问临界资源的那段<em>代码</em>，我们将一个访问临界资源的循环进程描述如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>while (TRUE) {
   进入区（entry section）
   临界区（critical section）
   退出区（exit section）
   剩余区（remainder section）
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>各进程对自己的临界区访问是互斥的</p></li> <li><p>同步机制应遵循的规则</p> <ul><li>空闲让进</li> <li>忙则等待</li> <li>有限等待</li> <li>让权等待</li></ul></li></ul> <h4 id="_2-3-2-硬件同步机制"><a href="#_2-3-2-硬件同步机制" class="header-anchor">#</a> 2.3.2 硬件同步机制</h4> <ul><li>关中断 但是会引发一系列问题</li> <li>利用 Test-and-Set 指令实现互斥 将“测试并建立”作为一条原语</li> <li>利用 Swap 指令实现进程互斥 使用 lock 和 key 两个变量</li></ul> <p>他们虽然都实现了互斥，但是都有一个很大的问题，就是尝试访问资源是连续测试的（如 <code>while TS(&amp;lock);</code>），仍然浪费 CPU 资源，不符合“让权等待”原则</p> <h4 id="_2-3-3-信号量机制"><a href="#_2-3-3-信号量机制" class="header-anchor">#</a> 2.3.3 信号量机制</h4> <ul><li><p>整型信号量</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token function">wait</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>S <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    S<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">signal</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    S<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>问题当然是，还是不符合“让权等待”原则</p></li> <li><p>记录型信号量</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> value<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">process_control_block</span> <span class="token operator">*</span>list<span class="token punctuation">;</span>
<span class="token punctuation">}</span> semaphore<span class="token punctuation">;</span>
<span class="token function">wait</span> <span class="token punctuation">(</span>semaphore <span class="token operator">*</span>S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    S<span class="token operator">-&gt;</span>value<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token operator">-&gt;</span>value <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">block</span><span class="token punctuation">(</span>S<span class="token operator">-&gt;</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">signal</span><span class="token punctuation">(</span>semaphore <span class="token operator">*</span>S<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   S<span class="token operator">-&gt;</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token operator">-&gt;</span>value <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">wakeup</span><span class="token punctuation">(</span>S<span class="token operator">-&gt;</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>与前面不同的是，我们现在定义了一个数据结构，增加了一个列表，这个列表干嘛呢？</p> <p>由于我们要在无法获取资源的时候将 CPU 资源让出去，所以 while 轮询是不可行的了，我们可以使用 block 原语将自己阻塞起来，等到有资源的时候让别人唤醒自己，当然，为了保证别人能唤醒自己，就要把自己存储到一个列表中，就是我们新的数据结构中的那个列表啦</p> <p>另外，我们可以将 value 当做资源数，初始化的数量就是资源的总数量</p></li> <li><p>AND 型信号量</p> <p>当一个进程需要多个资源才能执行怎么办呢？比如进程一二都需要资源一二，进程一请求资源一成功，进程二请求资源二成功，这时候进程一继续请求资源二，把自己阻塞起来了，进程二请求资源一，也把自己阻塞起来了，结果……死锁了……</p> <p>如何解决？如果我们将某个进程请求一系列资源作为一个原语就可以啦，这样就不需要担心请求一部分另一部分没请求到的问题啦，这时候使用 <code>Swait(S1, S2, ..., Sn)</code> 和 <code>Ssignal(S1, S2, S3, ..., Sn)</code> ， <code>S1</code> 到 <code>Sn</code> 表示该进程所需要的所有资源</p></li> <li><p>信号量集</p> <p>在 AND 型信号量的基础上增加 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 和 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">d_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> ，<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 表示资源的分配下限值，<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>≥</mo><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i \geq t_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 才予以分配，<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">d_i</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 表示资源的需求量，对应格式变为 - <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>w</mi><mi>a</mi><mi>i</mi><mi>t</mi><mo stretchy="false">(</mo><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>t</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext></mtext><mo separator="true">,</mo><msub><mi>S</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Swait(S_1, t_1, d_1, \cdots, S_n, t_n, d_n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> - <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mi>a</mi><mi>l</mi><mo stretchy="false">(</mo><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext></mtext><mo separator="true">,</mo><msub><mi>S</mi><mi>n</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Ssignal(S_1,d_1, \cdots, S_n, d_n)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p> <p>有以下几个特殊用法：</p> <ul><li><code>Swait(S, d, d)</code> 每次申请 d 个资源，低于 d 个不予申请</li> <li><code>Swait(S, 1, 1)</code> 一般的记录型信号量</li> <li><code>Swait(S, 1, 0)</code> <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">S \geq 1</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></span> 时，允许多个进程进入特定区， <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S = 0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></span> 时，将阻止任何进程进入特定区</li></ul> <blockquote><p>有个细节需要注意下，就是 <code>Swait</code> 结束后被唤醒并不能直接进入临界区，还需要重新尝试请求资源，因为这个时候并不能保证所有资源都就绪，而 <code>wait</code> 只需要一个资源，这就保证了被唤醒后资源一定全部就绪，所以可以直接进入临界区</p></blockquote></li></ul> <h4 id="_2-3-4-信号量的应用"><a href="#_2-3-4-信号量的应用" class="header-anchor">#</a> 2.3.4 信号量的应用</h4> <ul><li><p>使用信号量实现互斥</p> <p>（两个进程为例）使用 mutex 作为互斥信号量，它可以取 <code>{-1, 0, 1}</code> ，初始化为 1</p> <blockquote><ul><li>mutex = 1，表示两个进程均未进入临界区</li> <li>mutex = 0，表示一个进程进入临界区</li> <li>mutex = -1，表示一个进程进入临界区，另一个尝试进入临界区失败，阻塞并存入队列</li></ul></blockquote> <p>为了实现互斥，就需要两个进程进入临界区前调用 <code>wait(mutex)</code> ，出临界区后调用 <code>signal(mutex)</code>，否则会引发错误</p></li> <li><p>利用信号量实现前趋关系</p> <p>如何保证一个进程运行到命令 B 的时候另一个进程已经将命令 A 运行完了？比如一个进程要读取另一个进程写完的文件，怎么保证在这之前另一进程写操作已经完成？</p> <p>仍然使用这个套路，不过将 mutex 初值置为 0 ，我们在后继任务<em>前</em>调用 <code>wait(mutex)</code> ，在前趋任务完成<em>后</em>调用 <code>signal(mutex)</code> ，这样就可以保证后继任务先到达的话会阻塞，而前趋任务完成后，就会“通知”后继任务可以开始做啦</p></li> <li><p>管程机制</p> <p>是使用面向对象将共享变量、条件变量以及各种方法等等封装起来，同时只能有一个进程进入管程，这就保证了对临界资源的访问是互斥的</p> <p>当调用管程的进程被阻塞时，其它进程也就不能进入管程使用资源，为了解决该问题，管程内设了条件变量，当进程因为条件 x 而发生阻塞时，进程调用 <code>x.wait</code> 方法，将自己加入阻塞队列，直到条件 x 发生了变化，其它进程（当时正在管程内的进程）调用 <code>x.signal</code> 将队列 x 下的进程唤醒</p></li></ul> <h3 id="_2-4-经典进程的同步问题"><a href="#_2-4-经典进程的同步问题" class="header-anchor">#</a> 2.4 经典进程的同步问题</h3> <h4 id="_2-4-1-生产者-消费者问题"><a href="#_2-4-1-生产者-消费者问题" class="header-anchor">#</a> 2.4.1 生产者-消费者问题</h4> <p><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/PC.py" target="_blank" rel="noopener noreferrer">PC.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>使用记录型信号量解决该问题</p> <ul><li>生产者先后使用 <code>wait(empty)</code> <code>wait(mutex)</code> <code>signal(mutex)</code> <code>signal(full)</code></li> <li>消费者先后使用 <code>wait(full)</code> <code>wait(mutex)</code> <code>signal(mutex)</code> <code>signal(empty)</code></li></ul> <blockquote><p>注意 <code>wait</code> 的先后顺序，如果 <code>wait(mutex)</code> <code>wait(empty)</code> 可以想象下满了或者空的情况，会出现死锁……</p></blockquote></li> <li><p>利用 AND 信号量解决该问题</p> <ul><li>生产者先后使用 <code>Swait(empty, mutex)</code> <code>Ssignal(mutex, full)</code></li> <li>消费者先后使用 <code>Swait(full, mutex)</code> <code>Ssignal(mutex, empty)</code></li></ul> <p>解决死锁问题</p></li> <li><p>利用管程解决该问题</p> <p>定义好管程内要做的，生产者用 <code>PC.put(x)</code>， 消费者用 <code>PC.get(x)</code> 即可</p></li></ul> <blockquote><p>一些变体</p> <ul><li>缓冲区无限大，那么我们就不需要 <code>wait(empty)</code> <code>signal(empty)</code> 了</li> <li>生产者生产者互斥、消费者消费者互斥，但生产者消费者不互斥，我们只需要设两个互斥信号量即可</li></ul></blockquote> <h4 id="_2-4-2-哲学家进餐问题"><a href="#_2-4-2-哲学家进餐问题" class="header-anchor">#</a> 2.4.2 哲学家进餐问题</h4> <p><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/The_Dining_Philosophers.py" target="_blank" rel="noopener noreferrer">The_Dining_Philosophers.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>利用记录型信号量解决该问题</p> <p>防止他们同时拿起左侧筷子造成的死锁，需要有一定的改进方案</p></li> <li><p>利用 AND 信号量机制解决该问题</p> <p>很容易想到这个方法解决上述问题</p></li></ul> <h4 id="_2-4-3-读者-写者问题"><a href="#_2-4-3-读者-写者问题" class="header-anchor">#</a> 2.4.3 读者-写者问题</h4> <p><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/Writer_and_Reader.py" target="_blank" rel="noopener noreferrer">Writer_and_Reader.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>需要注意的是，当一个 Writer 进程在写的时候，不允许任何 Reader 进程和 Writer 进程访问该对象</p> <p>但是要怎么实现呢？</p> <ul><li>写者的话，直接用一个互斥信号量 <code>wmutex</code> 就好了</li> <li>读者需要考虑的比较多
<ul><li>首先，读者之间是不互斥的，我们是要解决读者使写者不能读的问题，所以当读者在读的时候， <code>wait(wmutex)</code></li> <li>但是，如果直接 <code>wait(wmutex)</code> 的话，所有“者”都互斥了，可是多个读者是可以同时读的</li> <li>我们判断下是否已经有人在读了，当无人在读的情况下也就是第一个读者才 <code>wait(wmutex)</code>，相应地，最后一个读者才 <code>signal(wmutex)</code></li> <li>为了判断读者数量，额外引进了一个变量，这个变量会成为临界资源，所以需要使用 <code>rmutex</code> 包裹，以保证读者读写该变量时互斥</li></ul></li></ul> <p>另外，可以利用信号量集以更巧妙的方法实现（注意 <code>Swait(S, 1, 0)</code>，只检查资源，不消耗）</p> <p><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/Writer_and_Reader_SemSet.py" target="_blank" rel="noopener noreferrer">Writer_and_Reader.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_2-4-4-其他问题-习题"><a href="#_2-4-4-其他问题-习题" class="header-anchor">#</a> 2.4.4 其他问题（习题）</h4> <ul><li><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/Shopping.py" target="_blank" rel="noopener noreferrer">购物问题 Shopping.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/Processes.py" target="_blank" rel="noopener noreferrer">进程同步 Processes.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/SigureMo/os-work/tree/master/process_sync/Single-plank_Bridge.py" target="_blank" rel="noopener noreferrer">独木桥问题 Single-plank_Bridge.py<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_2-5-进程通信"><a href="#_2-5-进程通信" class="header-anchor">#</a> 2.5 进程通信</h3> <ul><li><p>共享存储器系统</p> <ul><li>基于共享数据结构的通信方式</li> <li>基于共享存储区的通信方式 中等信息传递，用户解决同步问题</li></ul></li> <li><p>管道(pipe)通信系统 大量信息传递，系统解决同步问题</p></li> <li><p>消息传递系统 少量信息传递，系统解决同步问题</p></li> <li><p>客户机-服务器系统</p> <ul><li>socket</li> <li>RPC</li></ul></li></ul> <h3 id="_2-6-线程的基本概念"><a href="#_2-6-线程的基本概念" class="header-anchor">#</a> 2.6 线程的基本概念</h3> <h4 id="_2-6-1-线程与进程的对比"><a href="#_2-6-1-线程与进程的对比" class="header-anchor">#</a> 2.6.1 线程与进程的对比</h4> <ul><li>调度的基本单位 切换开销小</li> <li>并发性 线程之间也可以并发执行</li> <li>拥有资源 并不拥有系统额外分配的资源，享有父进程的资源，故创建开销小</li> <li>独立性 同一进程的不同线程之间可以共享资源，独立性不明显</li> <li>系统开销 创建与切换都远比进程快</li> <li>支持多处理机系统 一个进程的多个线程可在多个核心上运行，这使得多个线程之间实现了真的并行，大大提高了该进程的完成速度</li></ul> <h4 id="_2-6-2-线程的状态和线程控制块"><a href="#_2-6-2-线程的状态和线程控制块" class="header-anchor">#</a> 2.6.2 线程的状态和线程控制块</h4> <ul><li>线程的三个状态 和进程一样 <strong>执行</strong>、<strong>就绪</strong>、<strong>阻塞</strong></li> <li>线程控制块 TCB 类似于 PCB</li></ul> <h3 id="_2-7-线程的实现"><a href="#_2-7-线程的实现" class="header-anchor">#</a> 2.7 线程的实现</h3> <h4 id="_2-7-1-线程的实现方式"><a href="#_2-7-1-线程的实现方式" class="header-anchor">#</a> 2.7.1 线程的实现方式</h4> <ul><li><p>内核支持线程 KST</p> <p>内核所“承认”的线程，可获得内核分配的 CPU 时间片，也可在多核 CPU 上实现并行</p> <ul><li>优点
<ul><li>更轻量的结构</li> <li>进程中一个线程阻塞后，其余线程可正常运行</li> <li>多核心可并发执行</li></ul></li></ul></li> <li><p>用户级线程 ULT</p> <p>使用函数库就可以实现，内核并不知道用户级线程的存在，所以内核给它分配的时间片是按其父进程分配的，各个线程将争夺进程的时间片执行</p> <ul><li>优点
<ul><li>线程切换不需要到内核空间（不需要用户态与核心态的切换）</li> <li>调度算法可以是进程专用的</li> <li>用户级线程的实现与 OS 平台无关</li></ul></li></ul></li> <li><p>组合方式</p> <p>用户级线程与内核支持线程的组合（多对一、一对一、多对多）</p></li></ul> <p><img src="/assets/img/OS07.ca97ff54.png" alt="OS07"></p> <h2 id="_3-处理机调度与死锁"><a href="#_3-处理机调度与死锁" class="header-anchor">#</a> 3 处理机调度与死锁</h2> <h3 id="_3-1-处理机调度的层次"><a href="#_3-1-处理机调度的层次" class="header-anchor">#</a> 3.1 处理机调度的层次</h3> <table><thead><tr><th>调度程序</th> <th>调度对象</th> <th>分配资源</th> <th>调度频率</th> <th>适宜的调度算法</th></tr></thead> <tbody><tr><td>长程调度（作业）</td> <td>后备作业</td> <td>内存、设备</td> <td>低</td> <td>资源搭配、先进先出、优先数、短作业优先、最高响应比优先</td></tr> <tr><td>中程调度（交换）</td> <td>就绪进程、等待进程</td> <td>内存、外存</td> <td>中</td> <td>优先算法、FIFO</td></tr> <tr><td>短程调度（进程）</td> <td>就绪进程、就绪线程</td> <td>CPU</td> <td>高</td> <td>轮转法、多级反馈</td></tr></tbody></table> <h4 id="_3-1-1-高级调度"><a href="#_3-1-1-高级调度" class="header-anchor">#</a> 3.1.1 高级调度</h4> <ul><li><p>作业 = JCB + 作业说明书 + 程序 + 数据</p></li> <li><p>作业步 作业的各个相对独立步骤</p></li> <li><p>作业控制块 JCB</p></li> <li><p>调度算法</p> <ul><li>先来先服务算法</li> <li>短作业优先调度算法</li> <li>响应比高者优先的调度算法 综合考虑上面两种算法</li> <li>基于作业优先级的调度算法</li></ul></li></ul> <h4 id="_3-1-2-低级调度"><a href="#_3-1-2-低级调度" class="header-anchor">#</a> 3.1.2 低级调度</h4> <ul><li><p>基本机制</p> <ul><li>排队器</li> <li>分派器</li> <li>上下文切换机制 （两对上下文切换操作）</li></ul></li> <li><p>进程调度方式</p> <ul><li>非抢占方式</li> <li>抢占方式（按一定原则抢占 CPU）
<ul><li>优先权原则</li> <li>短作业（进程）优先原则</li> <li>时间片原则</li></ul></li></ul></li></ul> <h4 id="_3-1-3-中级调度"><a href="#_3-1-3-中级调度" class="header-anchor">#</a> 3.1.3 中级调度</h4> <p>将内存上的进程转换到外存上或相反的过程，也就是进程的挂起与唤醒，提高了内存的利用率</p> <h3 id="_3-2-调度队列模型和调度准则"><a href="#_3-2-调度队列模型和调度准则" class="header-anchor">#</a> 3.2 调度队列模型和调度准则</h3> <h4 id="_3-2-1-调度队列模型"><a href="#_3-2-1-调度队列模型" class="header-anchor">#</a> 3.2.1 调度队列模型</h4> <ul><li><p>仅有进程调度的调度队列模型</p></li> <li><p>具有高级和低级调度的调度队列模型</p></li> <li><p>同时具有三级调度的调度队列模型</p> <p><img src="/assets/img/OS08.01b6738d.png" alt="OS08"></p></li></ul> <h4 id="_3-2-2-选择调度方式和调度算法的若干原则"><a href="#_3-2-2-选择调度方式和调度算法的若干原则" class="header-anchor">#</a> 3.2.2 选择调度方式和调度算法的若干原则</h4> <ul><li><p>面向用户的原则</p> <ul><li>周转时间快 （使用平均周转时间评估）</li> <li>响应时间快</li> <li>截止时间的保证</li> <li>优先权准则</li></ul></li> <li><p>面向系统的准则</p> <ul><li>系统吞吐量高</li> <li>处理机利用率好</li> <li>各类资源的平衡利用</li></ul></li></ul> <h3 id="_3-3-调度算法"><a href="#_3-3-调度算法" class="header-anchor">#</a> 3.3 调度算法</h3> <ul><li>周转时间：作业等待的时间</li> <li>带权周转时间：周转时间 / 服务时间</li></ul> <h4 id="_3-3-1-先来先服务算法"><a href="#_3-3-1-先来先服务算法" class="header-anchor">#</a> 3.3.1 先来先服务算法</h4> <p>很明显， FCFS 的周转时间会很长</p> <h4 id="_3-3-2-短作业-进程-优先调度算法"><a href="#_3-3-2-短作业-进程-优先调度算法" class="header-anchor">#</a> 3.3.2 短作业（进程）优先调度算法</h4> <p>SJF 算法极大地提高了系统吞吐量，但是会出现长作业长期不被调度的情况</p> <h4 id="_3-3-3-高优先权优先调度算法"><a href="#_3-3-3-高优先权优先调度算法" class="header-anchor">#</a> 3.3.3 高优先权优先调度算法</h4> <ul><li><p>优先权调度算法的类型</p> <ul><li>非抢占式优先权算法</li> <li>抢占式优先权调度算法</li></ul></li> <li><p>优先权的类型</p> <ul><li>静态优先权 不可改变的</li> <li>动态优先权 可随着进程的等待时间而改变，我们可以规定，在就绪队列的进程，随其等待时间的增长，其优先权以速率 a 提高</li></ul></li> <li><p>高响应比优先调度算法</p> <p>优先权 = (等待时间 + 要求服务时间) / 要求服务时间</p></li></ul> <h4 id="_3-3-4-基于时间片的轮转调度算法"><a href="#_3-3-4-基于时间片的轮转调度算法" class="header-anchor">#</a> 3.3.4 基于时间片的轮转调度算法</h4> <ul><li><p>时间片大小的确定</p> <ul><li>时间片太大会使得算法退化，时间片太小会增大切换上下文的开销，故可以取略大于一次典型交互所需要的时间作为时间片</li></ul></li></ul> <h4 id="_3-3-5-多队列调度算法"><a href="#_3-3-5-多队列调度算法" class="header-anchor">#</a> 3.3.5 多队列调度算法</h4> <p>分成不同的队列，为不同就绪队列设置不同的调度算法</p> <p><img src="/assets/img/OS09.26f96fce.png" alt="OS09"></p> <h4 id="_3-3-6-多级反馈队列调度算法"><a href="#_3-3-6-多级反馈队列调度算法" class="header-anchor">#</a> 3.3.6 多级反馈队列调度算法</h4> <ul><li>设置多个就绪队列</li> <li>为每个队列设置一个优先级</li> <li>仅当优先级高的队列空闲时才能调度优先级低的队列</li></ul> <h3 id="_3-4-实时调度"><a href="#_3-4-实时调度" class="header-anchor">#</a> 3.4 实时调度</h3> <h4 id="_3-4-1-实现实时调度的基本条件"><a href="#_3-4-1-实现实时调度的基本条件" class="header-anchor">#</a> 3.4.1 实现实时调度的基本条件</h4> <ul><li>提供必要的信息 就绪时间等等</li> <li>系统处理能力强</li> <li>采用抢占式调度机制</li> <li>具有快速切换机制</li></ul> <h4 id="_3-4-2-实时调度算法的分类"><a href="#_3-4-2-实时调度算法的分类" class="header-anchor">#</a> 3.4.2 实时调度算法的分类</h4> <ul><li>非抢占式调度算法
<ul><li>非抢占式轮转调度算法</li> <li>非抢占式优先调度算法 将实时任务放在队首</li></ul></li> <li>抢占式调度算法
<ul><li>基于时钟中断的抢占式优先权调度算法 时钟周期的整数倍时刻才能抢占</li> <li>立即抢占的优先权调度算法</li></ul></li></ul> <h3 id="_3-5-产生死锁的原因和必要条件"><a href="#_3-5-产生死锁的原因和必要条件" class="header-anchor">#</a> 3.5 产生死锁的原因和必要条件</h3> <h4 id="_3-5-1-产生死锁的原因"><a href="#_3-5-1-产生死锁的原因" class="header-anchor">#</a> 3.5.1 产生死锁的原因</h4> <ul><li><p>竞争资源（竞争非剥夺性资源） 资源数量不足需求 形成<strong>环路</strong></p> <p><img src="data:image/png;base64,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" alt="OS10"></p></li> <li><p>进程间推进顺序非法</p></li></ul> <h4 id="_3-5-2-产生死锁的必要条件"><a href="#_3-5-2-产生死锁的必要条件" class="header-anchor">#</a> 3.5.2 产生死锁的必要条件</h4> <ul><li>互斥条件</li> <li>请求和保持条件 所需资源使用完之前不释放已有资源</li> <li>不剥夺条件 只能主动释放资源，其他人不可抢占</li> <li>环路等待条件 发生死锁时，必然存在资源的环路链</li></ul> <h4 id="_3-5-3-处理死锁的基本方法"><a href="#_3-5-3-处理死锁的基本方法" class="header-anchor">#</a> 3.5.3 处理死锁的基本方法</h4> <ul><li>预防死锁</li> <li>避免死锁</li> <li>检测死锁</li> <li>解除死锁</li></ul> <h3 id="_3-6-预防死锁"><a href="#_3-6-预防死锁" class="header-anchor">#</a> 3.6 预防死锁</h3> <p>由于死锁时必要条件一定满足，所以破坏了死锁的必要条件就可以防止死锁，当然，互斥条件我们不应该破坏，因为我们需要它来保证进程的同步问题</p> <h4 id="_3-6-1-摒弃-请求和保持-条件"><a href="#_3-6-1-摒弃-请求和保持-条件" class="header-anchor">#</a> 3.6.1 摒弃“请求和保持”条件</h4> <p>由动态分配改为静态分配，在所有进程运行之前一次性将所有所需资源申请下来</p> <p>但是，这大大降低了资源的利用率</p> <h4 id="_3-6-2-摒弃-不剥夺-条件"><a href="#_3-6-2-摒弃-不剥夺-条件" class="header-anchor">#</a> 3.6.2 摒弃“不剥夺”条件</h4> <p>新的资源请求会剥夺已占有的资源</p> <p>很复杂很复杂，打印机写一半怎么处理呢？增加了系统开销</p> <h4 id="_3-6-3-摒弃-环路等待-条件"><a href="#_3-6-3-摒弃-环路等待-条件" class="header-anchor">#</a> 3.6.3 摒弃“环路等待”条件</h4> <p>资源有序分配，将各个资源标号，每次申请资源都要按序号递增的次序来申请，避免了环路的产生</p> <blockquote><p>比如一个进程已经拥有了一个序号比较高的资源，此时想申请序号比较低的资源的话，必须先释放序号比较高的资源</p></blockquote> <p>相比前两种是比较好的策略，但仍有一些不足，比如序号的分配等等问题</p> <h3 id="_3-7-避免死锁"><a href="#_3-7-避免死锁" class="header-anchor">#</a> 3.7 避免死锁</h3> <h4 id="_3-7-1-系统安全状态"><a href="#_3-7-1-系统安全状态" class="header-anchor">#</a> 3.7.1 系统安全状态</h4> <p>如果为进程分配资源后系统会进入不安全状态，那么就不给它分配资源</p> <p>所谓<strong>安全状态</strong>，就是指系统<strong>存在</strong>某种进程顺序来为每个进程分配其所需资源，使得所有进程都能顺利完成，否则即为不安全状态</p> <blockquote><p>当然，不安全状态只是不安全，可能发生死锁，并不是一定发生死锁，而安全状态保证了不会发生死锁</p></blockquote> <ul><li><p>Example</p> <table><thead><tr><th>进程号</th> <th>总共需求</th> <th>已分配</th> <th>还需</th> <th>剩余</th></tr></thead> <tbody><tr><td>P1</td> <td>10</td> <td>5</td> <td>5</td> <td>3</td></tr> <tr><td>P2</td> <td>4</td> <td>2</td> <td>2</td> <td></td></tr> <tr><td>P3</td> <td>9</td> <td>2</td> <td>7</td> <td></td></tr></tbody></table> <p>很明显，存在安全序列 &lt;P2, P1, P3&gt; 使得进程全部执行完毕</p> <p>那么，P3 申请一个资源的话，我们要不要给呢？</p> <p>首先，<strong>假如</strong>分配的话，会变成如下状态</p> <table><thead><tr><th>进程号</th> <th>总共需求</th> <th>已分配</th> <th>还需</th> <th>剩余</th></tr></thead> <tbody><tr><td>P1</td> <td>10</td> <td>5</td> <td>5</td> <td>2</td></tr> <tr><td>P2</td> <td>4</td> <td>2</td> <td>2</td> <td></td></tr> <tr><td>P3</td> <td>9</td> <td>3</td> <td>6</td> <td></td></tr></tbody></table> <p>嗯，找不出来那样的一个序列了，也就是系统会进入不安全状态，所以，拒绝！不给分配！</p></li></ul> <h4 id="_3-7-2-利用银行家算法避免死锁"><a href="#_3-7-2-利用银行家算法避免死锁" class="header-anchor">#</a> 3.7.2 利用银行家算法避免死锁</h4> <p>（万能的 Dijkstra）</p> <ul><li><p>银行家算法中的数据结构</p> <p>n 为进程数， m 为资源数</p> <ul><li>可利用资源向量 Available (<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span></span>)</li> <li>最大需求矩阵 Max (<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n \times m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span></span>)</li> <li>分配矩阵 Allocation (<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n \times m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span></span>)</li> <li>需求矩阵 Need (<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n \times m</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span></span>)</li></ul></li></ul> <blockquote><p>具体算法的话，就是上面例子里的一个资源换成多个资源就好啦</p></blockquote> <h3 id="_3-8-死锁的检测与解除"><a href="#_3-8-死锁的检测与解除" class="header-anchor">#</a> 3.8 死锁的检测与解除</h3> <h4 id="_3-8-1-死锁的检测"><a href="#_3-8-1-死锁的检测" class="header-anchor">#</a> 3.8.1 死锁的检测</h4> <p>由于死锁的预防的资源利用率太低，而死锁的避免又消耗了大量的计算资源来实现，所以在死锁发生的并不频繁的情况下，可以使用死锁的检测 + 解除，当然，我们可以选择在 CPU 利用率比较低的时候才检测，以降低对 CPU 的使用</p> <ul><li>资源分配图</li></ul> <p>与前面的环路图是一样的，只不过这里资源结点可以代表多个资源，进程指向资源仍旧代表进程请求资源，资源指向进程仍旧代表资源以分配给该进程，只不过每条线代表一个资源</p> <p><img src="/assets/img/OS11.cc2cef5a.png" alt="OS11"></p> <p>我们可以尝试通过对资源分配图进行简化来判断是否发生死锁，非死锁情况下资源分配图可简化为各个独立的结点</p> <h4 id="_3-8-2-死锁的解除"><a href="#_3-8-2-死锁的解除" class="header-anchor">#</a> 3.8.2 死锁的解除</h4> <ul><li>剥夺资源 从其他进程剥夺足够数量的资源给死锁进程</li> <li>撤销进程 kill 掉死锁进程</li></ul> <blockquote><p><a href="https://github.com/SigureMo/os-work/tree/master/process_scheduling_and_deadlocks" target="_blank" rel="noopener noreferrer">作业<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_4-存储器管理"><a href="#_4-存储器管理" class="header-anchor">#</a> 4 存储器管理</h2> <h3 id="_4-1-存储器的层次结构"><a href="#_4-1-存储器的层次结构" class="header-anchor">#</a> 4.1 存储器的层次结构</h3> <h4 id="_4-1-1-多级存储器结构"><a href="#_4-1-1-多级存储器结构" class="header-anchor">#</a> 4.1.1 多级存储器结构</h4> <p><img src="/assets/img/OS12.9908f945.png" alt="OS12"></p> <h4 id="_4-1-1-主存储器与寄存器"><a href="#_4-1-1-主存储器与寄存器" class="header-anchor">#</a> 4.1.1 主存储器与寄存器</h4> <p>嗯……就是主存储器和寄存器……</p> <h4 id="_4-1-2-高速缓存和磁盘缓存"><a href="#_4-1-2-高速缓存和磁盘缓存" class="header-anchor">#</a> 4.1.2 高速缓存和磁盘缓存</h4> <ul><li><p>高速缓存 Cache</p> <p>解决 Memory 与 CPU 速度不匹配的问题</p></li> <li><p>磁盘缓存</p> <p>解决磁盘 I/O 与 Memory 速度不匹配的问题，使用 Memory 部分空间作为磁盘的缓存区，用于暂存频繁使用的磁盘数据</p></li></ul> <h4 id="_4-1-3-内存管理"><a href="#_4-1-3-内存管理" class="header-anchor">#</a> 4.1.3 内存管理</h4> <p>（概述，后面详细阐述）</p> <ul><li>内存的分配与回收
<ul><li>直接分配 程序内地址为固定值</li> <li>静态分配 作业装入内存后地址固定不变</li> <li>动态分配 作业装入内存后地址可变</li></ul></li> <li>地址转换
<ul><li>逻辑地址：源程序内的变量等地址经过编译或汇编后生成逻辑地址</li> <li>物理地址：程序由操作系统装入内存后所指的真实内存地址</li></ul></li> <li>内存保护
<ul><li>防止进程的数据被非法访问</li> <li>防止越界
<ul><li>上下界寄存器</li> <li>基址、限长寄存器</li></ul></li></ul></li> <li>内存共享
<ul><li>多个进程共享内存中的同一段信息</li></ul></li> <li>内存扩充
<ul><li>覆盖 让常用功能常驻内存，非常用功能按需装入</li> <li>对换 挂起不用的程序段</li> <li>虚拟存储器 利用程序的局部性原理，将<strong>部分程序装入</strong></li></ul></li></ul> <h3 id="_4-2-程序的装入和链接"><a href="#_4-2-程序的装入和链接" class="header-anchor">#</a> 4.2 程序的装入和链接</h3> <h4 id="_4-2-1-程序的装入"><a href="#_4-2-1-程序的装入" class="header-anchor">#</a> 4.2.1 程序的装入</h4> <blockquote><p>即上面的三种分配方式</p></blockquote> <ul><li>绝对装入方式 直接</li> <li>可重定位装入方式
<ul><li>静态重定位 程序执行之前地址转换完毕</li> <li>动态重定位 程序执行期间进行地址转换</li></ul></li></ul> <h4 id="_4-2-2-程序的链接"><a href="#_4-2-2-程序的链接" class="header-anchor">#</a> 4.2.2 程序的链接</h4> <p><img src="/assets/img/OS13.08658412.png" alt="OS13"></p> <ul><li>静态链接 程序运行前链接</li> <li>装入时动态链接 运行前将所有可能需要运行的模块装入链接
<ul><li>便于修改和更新</li> <li>便于实现对目标模块的共享</li></ul></li> <li>运行时动态链接 运行时按需装入链接（如 <code>dll</code>）</li></ul> <h3 id="_4-3-连续分配方式"><a href="#_4-3-连续分配方式" class="header-anchor">#</a> 4.3 连续分配方式</h3> <h4 id="_4-3-1-单一连续分配"><a href="#_4-3-1-单一连续分配" class="header-anchor">#</a> 4.3.1 单一连续分配</h4> <p><strong>单用户、单任务</strong>，只需要考虑系统区和用户区，用户区也只有一个任务……</p> <h4 id="_4-3-2-固定分区分配"><a href="#_4-3-2-固定分区分配" class="header-anchor">#</a> 4.3.2 固定分区分配</h4> <p><strong>一个分区一道作业</strong>，所以就需要划分分区咯</p> <h4 id="_4-3-3-动态分区分配"><a href="#_4-3-3-动态分区分配" class="header-anchor">#</a> 4.3.3 动态分区分配</h4> <p>根据进程的实际需要，<strong>动态地为之分配内存空间</strong></p> <ul><li><p>数据结构</p> <ul><li>空闲分区表</li> <li>空闲分区链 （就是个链表）</li></ul></li> <li><p>分区分配算法</p> <ul><li>首次适应算法 从头找，能放下该作业就放</li> <li>循环首次适应算法 使用一个指针，这样就不会每次都从头找啦</li> <li>最佳适应算法 每次找满足条件的最小分区
<ul><li>易形成碎片</li></ul></li> <li>最坏适应算法 每次找最大的分区，分割出一部分分配给该作业使用
<ul><li>使得存储器中缺乏大的空闲分区</li> <li>查找效率高</li> <li>产生碎片少</li></ul></li></ul></li></ul> <blockquote><ul><li>内碎片 分区内部未利用的空间</li> <li>外碎片 分区之间未利用的空间</li></ul></blockquote> <ul><li>分区回收算法
<ul><li>看上下有没有空闲区咯，有的话当然要合并~</li></ul></li></ul> <h4 id="_4-3-4-可重定位分区分配"><a href="#_4-3-4-可重定位分区分配" class="header-anchor">#</a> 4.3.4 可重定位分区分配</h4> <p>依赖于 4.1.3 中提到的<em>动态分配</em>技术，这样分区就可以移动啦，然后我们就可以将分区进行拼接、使之紧凑起来</p> <h3 id="_4-4-基本分页存储管理方式"><a href="#_4-4-基本分页存储管理方式" class="header-anchor">#</a> 4.4 基本分页存储管理方式</h3> <p>将内存分为好多好多页，支持不连续分配，使用页表形成地址映射，<strong>每个进程一个页表</strong></p> <ul><li>可实现虚存</li> <li>避免移动</li> <li>避免外部碎片</li></ul> <h4 id="_4-4-1-页面与页表"><a href="#_4-4-1-页面与页表" class="header-anchor">#</a> 4.4.1 页面与页表</h4> <ul><li><strong>页面</strong>就是将<strong>逻辑地址空间</strong>分为大小相等的片，其大小应为 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></li> <li><strong>物理块</strong>是<strong>物理地址空间</strong>对应的与页面大小相同的存储块</li> <li><strong>页表</strong>就是将<strong>页（面）号与（物理）块号</strong>对应起来的映射表</li></ul> <p>当然，现在寻址的话需要两部分地址号了，一部分是页号，一部分是页内号（位移量），一般情况下页内大小为 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">4K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span></span> ，故页内号需要使用 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">12bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 的地址，如果是 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">32bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">2</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 系统的话，那么剩下 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">20bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 就是页号地址空间啦，即最多 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">1M</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span></span> 个页</p> <h4 id="_4-4-2-地址变换机构"><a href="#_4-4-2-地址变换机构" class="header-anchor">#</a> 4.4.2 地址变换机构</h4> <ul><li><p>基本的地址变换机构</p> <p>那么我们如何将逻辑地址转换成物理地址呢？</p> <p><img src="/assets/img/OS14.20204d81.png" alt="OS14"></p> <p>首先，获取页号和位移量，然后根据页表寄存器中的页面始址与页号获得该页的实际物理地址（开始位置），然后再加上页内的偏移量就得到了要找的物理地址</p> <p>但是，我们的页表已经非常大了，寄存器是肯定放不下了，需要放到内存中去，也就是说，我们每次访存需要先访问内存中的页表，然后据此再得到真正想要访问的地址，也就是访存次数多了一倍，效率大大降低……</p></li> <li><p>具有快表的地址变换机构</p> <p><img src="/assets/img/OS15.476453b8.png" alt="OS15"></p> <p>根据局部性原理，我们增加一个快表（联想寄存器），存储最近访问过的页表项，据统计，快表命中率可达 90% 以上，大大降低了页表方式带来的效率降低影响</p></li></ul> <h4 id="_4-4-3-两级和多级页表"><a href="#_4-4-3-两级和多级页表" class="header-anchor">#</a> 4.4.3 两级和多级页表</h4> <p><img src="/assets/img/OS16.2b7f2ba1.png" alt="OS16"></p> <p>我们的页表方式实现了非连续存储，但是我们的页表本身却也是放在内存里的，而且其大小也超过了一页的大小（<span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">1K</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span></span>），这样问题就来了，页表到底是要如何存储呢？</p> <p>回到最初，我们是如何将离散存储的内存页组织起来的？很明显是通过页表，但是现在要求连续存储的页表也要离散存储了，我们如何将其组织起来呢？那就再加一层页表咯，这就形成了两级页表</p> <p>事实上，在 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">64bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">4</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 系统下，三级页表都是不够的，但是我们事实上也用不上那么大的地址空间（等内存能那么大得多少年后啊……），所以暂时使用三级页表也是能满足现在的需求的</p> <h4 id="_4-4-4-页式管理的分配与回收"><a href="#_4-4-4-页式管理的分配与回收" class="header-anchor">#</a> 4.4.4 页式管理的分配与回收</h4> <p><img src="/assets/img/OS17.6065fbcb.png" alt="OS17"></p> <p>根据位示图进行分配与回收即可</p> <h4 id="_4-4-5-页式管理的特点"><a href="#_4-4-5-页式管理的特点" class="header-anchor">#</a> 4.4.5 页式管理的特点</h4> <ul><li>优点
<ul><li>分配与回收简单</li> <li>消除外碎片</li> <li>可实现虚存、共享</li></ul></li> <li>缺点
<ul><li>页面划分不考虑程序的逻辑结构</li> <li>共享受限</li> <li>二次访内，速度慢</li></ul></li></ul> <h3 id="_4-5-分段存储管理方式"><a href="#_4-5-分段存储管理方式" class="header-anchor">#</a> 4.5 分段存储管理方式</h3> <p>分页实现了对内存的高效利用，消除了外碎片，但是其对于用户来说仍然只是取某个地址，然后操作系统根据后 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">12bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 作为页内地址，前 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">20bit</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span></span> 为页号，实际过程对用户并不可见，用户只需要按原来的方式取某个地址就好</p> <p>所以说，分页存储可以说是在底层的一种管理实现方式，大多是与硬件相耦合的，可以做到对内存的更高效利用</p> <p>引入本节的分段存储方式，并不是说分页存储不好，因为它们根本是在两种层级上的问题，后面会介绍它们相互结合的方式——段页式存储——就很好地结合了两者的优点，在底层仍然使用分页式存储，上层逻辑存储使用分段式存储，但是这里，我们底层仍然使用的是连续存储方式哦</p> <p>那么分段有什么优点呢？</p> <h4 id="_4-5-1-分段存储管理方式的引入"><a href="#_4-5-1-分段存储管理方式的引入" class="header-anchor">#</a> 4.5.1 分段存储管理方式的引入</h4> <ul><li>方便编程 我们可以为某一段程序（比如一个函数）分配一段连续的空间，这样就可以很方便地使用段内的偏移量进行编程了</li> <li>信息共享 我们很容易分出一个段来供进程来共享</li> <li>信息保护</li> <li>动态增长</li> <li>动态链接</li></ul> <h4 id="_4-5-2-分段系统的基本原理"><a href="#_4-5-2-分段系统的基本原理" class="header-anchor">#</a> 4.5.2 分段系统的基本原理</h4> <p>既然逻辑空间仍然划分为不等长的几段，这几段也是分别放在不同的位置，所以，我们还是需要一个表建立索引关系，只不过这次我们需要记录的有段号、段长、基址（某段的首地址）三个信息，因为我们现在<strong>每段不等长</strong>了，形成的表格称为段表，也放在内存内</p> <p>相应地，我们现在给出的地址必须由段号和段内偏移两部分组成（真的是二维的寻址方式，而分页仍然使用一维寻址，两个号由操作系统自动计算得出），当然，我们仍然是两次访存，想要快点也是要建立快表</p> <h4 id="_4-5-3-信息共享"><a href="#_4-5-3-信息共享" class="header-anchor">#</a> 4.5.3 信息共享</h4> <p>比如一个多用户操作系统运行一个文本编辑进程，但多个用户每人一个数据区，如果是分页式是如何的呢？</p> <p><img src="/assets/img/OS18.f0d95302.png" alt="OS18"></p> <p>emmm 虽说共用一个进程吧，但是每个页表都要记录该进程的各个页</p> <p>相对来说，下面的分段式就很好看啦~</p> <p><img src="/assets/img/OS19.b384f54c.png" alt="OS19"></p> <h4 id="_4-5-4-段式管理的特点"><a href="#_4-5-4-段式管理的特点" class="header-anchor">#</a> 4.5.4 段式管理的特点</h4> <p>缺点的话，就是连续式存储的一些缺点，但这个的话我们下面的段页式可以解决</p> <p>优点就不用说了，前面介绍好久了都~</p> <h4 id="_4-5-5-段页式存储管理方式"><a href="#_4-5-5-段页式存储管理方式" class="header-anchor">#</a> 4.5.5 段页式存储管理方式</h4> <p>使用分段的逻辑存储方式，加之以底层分页式存储方式，每个进程建立一个段表，每个段建立一个页表，当然，我们现在需要三次访存咯，不建立快表没法用的说</p> <p><img src="/assets/img/OS20.a3d8e64e.png" alt="OS20"></p> <ul><li><p>共享的实现</p> <p>段页式和分段式是同样容易实现共享的，因为我们在逻辑层面上使用相同的段存储一段共享数据，在段表内只需要一项，而页表内也没有重复的，只需要该段与实际存储地址之间的映射关系</p></li></ul> <p>很好地结合了两者的优点，所以说，两者根本不冲突嘛，他们是两种层级上的方案，或者我们这么看</p> <table><thead><tr><th>逻辑\物理</th> <th>连续</th> <th>分页</th></tr></thead> <tbody><tr><td>不分段</td> <td>连续分配</td> <td>分页式</td></tr> <tr><td>分段</td> <td>分段式</td> <td>段页式</td></tr></tbody></table> <p>嗯，我们所学的四种，大概就是这样的关系~</p> <p>只不过逻辑分段与物理分页有着相似的实现方式，所以我们可能会认为他们是相同层级的方式，从原因与涉及的层面来看，它们并无太大关系</p> <h3 id="_4-6-虚拟存储器的基本概念"><a href="#_4-6-虚拟存储器的基本概念" class="header-anchor">#</a> 4.6 虚拟存储器的基本概念</h3> <p>前面所述的存储方式虽然实现了非连续存储，进而提高了内存的利用率，但每次都还是将整个进程装入内存，下面有个更逆天的方式，极大地提高内存利用率，那就是虚拟存储器</p> <p>为什么需要虚拟存储器？因为我们的整个程序往往是很大的，很容易就将内存撑爆了，根据局部性原理，我们可以只将当前运行的部分调入内存，这样就可以大大降低内存臃肿的状态啦</p> <h4 id="_4-6-1-虚拟存储器的引入"><a href="#_4-6-1-虚拟存储器的引入" class="header-anchor">#</a> 4.6.1 虚拟存储器的引入</h4> <ul><li><p>局部性原理</p> <ul><li>时间局部性</li> <li>空间局部性</li></ul></li> <li><p>虚拟存储器定义</p> <p>基于局部性原理，应用程序在运行之前，没有必要全部装入内存，仅需将那些单前要运行的少数页面或段先装入内存便可运行，其余部分暂留在盘上</p> <ul><li>请求调页 如果要访问的页（段）在内存则直接执行；否则需要发生请求调页中断</li> <li>页面置换 若内存已满，则将暂时不用的页调入硬盘</li></ul></li> <li><p>虚拟存储器特征</p> <ul><li>多次性 多次调入</li> <li>对换性</li> <li>虚拟性 从逻辑上扩充内存容量</li></ul></li></ul> <h3 id="_4-7-请求分页存储管理方式"><a href="#_4-7-请求分页存储管理方式" class="header-anchor">#</a> 4.7 请求分页存储管理方式</h3> <p>需要扩展页表以支持请求分页存储</p> <table><thead><tr><th>页号</th> <th>物理块号</th> <th>状态位 P</th> <th>访问字段 A</th> <th>修改位 M</th> <th>外存地址</th></tr></thead> <tbody><tr><td>0</td> <td>10</td> <td>1</td> <td>1</td> <td>0</td> <td>120</td></tr> <tr><td>1</td> <td>14</td> <td>1</td> <td>0</td> <td>0</td> <td>123</td></tr> <tr><td>2</td> <td>15</td> <td>1</td> <td>2</td> <td>0</td> <td>134</td></tr> <tr><td>3</td> <td>-</td> <td>0</td> <td>-</td> <td>-</td> <td>135</td></tr></tbody></table> <h4 id="_4-7-1-请求分页中的硬件支持"><a href="#_4-7-1-请求分页中的硬件支持" class="header-anchor">#</a> 4.7.1 请求分页中的硬件支持</h4> <ul><li><p>页表机制</p> <p>其中各字段说明：</p> <ul><li>状态位 P ：该页是否调入内存</li> <li>访问字段 A ： 本页在一段时间内被访问的次数，作为选择换出页面参考</li> <li>修改位 M ： 记录调入内存后是否被修改过，如果被修改过，换出时需要重新写入内存</li> <li>外存地址</li></ul></li> <li><p>缺页中断机构</p> <p>请求分页时，需要的页不在内存时，产生缺页中断</p> <p>与一般中断的区别</p> <ul><li>在指令<strong>执行期间</strong>产生和处理中断信号</li> <li><strong>一条指令</strong>在执行期间可能产生<strong>多次</strong>缺页中断，比如该指令本身跨两个页，所需要的两个数据块分别又跨两个页，共产生 6 次缺页中断</li></ul></li> <li><p>地址变换机构</p></li></ul> <h4 id="_4-7-2-内存分配策略和分配算法"><a href="#_4-7-2-内存分配策略和分配算法" class="header-anchor">#</a> 4.7.2 内存分配策略和分配算法</h4> <ul><li><p>最小物理块数的确定</p> <p>保证进程正常运行的最小物理块数</p></li> <li><p>内存分配策略
分配策略分为固定和可变分配策略，而置换时还有全局置换和局部置换两种置换策略</p> <ul><li><p>固定分配局部置换</p> <p>每个进程分配固定数量的物理块</p></li> <li><p>可变分配全局置换</p> <p>进程的物理块数可动态调整，当所需页不在内存时，从<strong>空闲内存或者其他进程内存</strong>选择一块换出，即该进程内存空间会增加</p></li> <li><p>可变分配局部置换</p> <p>进程物理块数仍可动态调整，发生缺页中断从<strong>该进程内存</strong>中选择一页换出，当频繁发生缺页中断时，才可以为该进程增加物理块数，反之，若缺页率特别低，则可适当减少该进程物理块数</p></li></ul></li> <li><p>物理块分配算法</p> <ul><li>平均分配算法 所有进程分配的物理块数一样，很明显不公平</li> <li>按比例分配算法 按照进程大小按比例分配</li> <li>考虑优先权的分配算法 在按比例分配算法基础上考虑重要的紧急的任务，可为该类任务额外分配物理块以使之更快地完成任务</li></ul></li></ul> <h4 id="_4-7-3-调页策略"><a href="#_4-7-3-调页策略" class="header-anchor">#</a> 4.7.3 调页策略</h4> <ul><li><p>调入页面的时机</p> <ul><li>预调页策略 额外调入连续的几页</li> <li>请求调页策略 当发现不在内存时，调入该页</li></ul></li> <li><p>确定从何处调入页面</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>外存分为</p> <ul><li>文件区 离散的分配方式，读写慢</li> <li>对换区 连续的分配方式，读写快</li></ul></div> <ul><li>系统拥有足够的对换区空间，可全部从对换区调入所需页面</li> <li>系统缺少足够的对换区空间，需要修改的放到对换区，以便需要时从对换区调入</li> <li>UNIX 方式，未运行的从文件区调入，运行过换出到对换区，下次可直接从对换区调入（甚至可能已经被其他进程调入内存）</li></ul></li> <li><p>页面调入过程</p> <p>访问需考虑是否缺页、换出需考虑是否修改过</p></li> <li><p>缺页率</p></li></ul> <h3 id="_4-8-页面置换算法"><a href="#_4-8-页面置换算法" class="header-anchor">#</a> 4.8 页面置换算法</h3> <h4 id="_4-8-1-最佳置换算法和先进先出算法"><a href="#_4-8-1-最佳置换算法和先进先出算法" class="header-anchor">#</a> 4.8.1 最佳置换算法和先进先出算法</h4> <ul><li><p>最佳（Optimal）置换算法</p> <p>每次换出的页应该是以后永不使用的或在最长（未来）时间内不再被访问的页面，很明显，我们并无法得知这样的页面是哪个，所以该算法仅仅是理论上的算法，虽然无法实现，但可以据此评估其他算法</p></li> <li><p>先入先出（FIFO）页面置换算法</p> <p>顾名思义，每次换出在内存中驻留时间最久的页面，可以为内存中的页面设置一个链表很容易地实现</p></li></ul> <h4 id="_4-8-2-最近最久未使用-lru-置换算法"><a href="#_4-8-2-最近最久未使用-lru-置换算法" class="header-anchor">#</a> 4.8.2 最近最久未使用（LRU）置换算法</h4> <p>选择<strong>最近最久未使用</strong>的页面予以淘汰，可为每个页面赋予一个访问字段进行实现</p> <ul><li>硬件支持
<ul><li>寄存器 用位记录最近访问行为，每次右移，若该次访问了则将最左位置 1 ，故每次只需淘汰值最小的即可</li> <li>栈 用于记录访问页面，访问之后放到栈顶，置换时从栈底置换</li></ul></li></ul> <h4 id="_4-8-3-clock-置换算法"><a href="#_4-8-3-clock-置换算法" class="header-anchor">#</a> 4.8.3 Clock 置换算法</h4> <ul><li><p>简单的 Clock 置换算法</p> <p>LRU 算法的一种近似算法，在页表内设一个访问位，另外设一替换指针，以免每次从头扫描</p> <ul><li>访问页面后，将该页面访问位置 1</li> <li>缺页导致需要扫描时，从替换指针向后扫描，若该页面访问位为 1 ，则将其置 0，若为 0 ，则替换出去</li></ul></li> <li><p>改进型 Clock 置换算法</p> <p>由于修改过的页需要写回磁盘，所以置换修改过的页代价相对会高些，所以该算法在考虑访问位的基础上，考虑到了修改位，在访问位一致的情况下，优先淘汰修改位为 0 的页面</p> <p>具体实现就是多扫描几次，开销增大不少</p></li></ul> <h3 id="_4-9-请求分段存储管理方式"><a href="#_4-9-请求分段存储管理方式" class="header-anchor">#</a> 4.9 请求分段存储管理方式</h3> <p>类似于请求分页，但是有少许的区别，该方式会更容易实现共享与保护</p> <h4 id="_4-9-1-分段的共享与保护"><a href="#_4-9-1-分段的共享与保护" class="header-anchor">#</a> 4.9.1 分段的共享与保护</h4> <ul><li><p>共享</p> <p>可使用共享段表来实现，可内记录共享段以及相应进程信息</p></li> <li><p>保护</p> <ul><li>越界检查</li> <li>存储控制检查 在段表表项中设存取控制字段</li></ul></li></ul> <blockquote><p><a href="https://github.com/SigureMo/os-work/tree/master/memory_management/" target="_blank" rel="noopener noreferrer">作业<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="_5-设备管理"><a href="#_5-设备管理" class="header-anchor">#</a> 5 设备管理</h2> <h3 id="_5-1-i-o-系统"><a href="#_5-1-i-o-系统" class="header-anchor">#</a> 5.1 I/O 系统</h3> <p>I/O 很容易成为系统性能的瓶颈，而且多而杂，甚至一个操作系统的 2/3 代码都是 I/O 相关代码</p> <h4 id="_5-1-1-i-o-设备"><a href="#_5-1-1-i-o-设备" class="header-anchor">#</a> 5.1.1 I/O 设备</h4> <ul><li>分类
<ul><li>按设备的使用特性分类
<ul><li>存储设备</li> <li>输入/输出设备</li></ul></li> <li>按传输速率分类
<ul><li>低速设备</li> <li>中速设备</li> <li>高速设备</li></ul></li> <li>按信息交换的单位分类
<ul><li>字符设备 以字节为单位，如打印机</li> <li>块设备 以块为单位，如磁盘</li></ul></li> <li>按设备的共享属性分类
<ul><li>独占设备（临界资源）</li> <li>共享设备</li> <li>虚拟设备</li></ul></li></ul></li></ul> <h3 id="_5-2-i-o-控制-数据传输-方式"><a href="#_5-2-i-o-控制-数据传输-方式" class="header-anchor">#</a> 5.2 I/O 控制（数据传输）方式</h3> <ul><li>四种 I/O 控制方式（组原里讲的那些）
<ul><li>程序 I/O 方式（循环等待，Polling）</li> <li>中断驱动 I/O 方式（Interrupts）</li> <li>直接存储器存取（DMA）</li> <li>I/O 通道控制方式（Channel）</li></ul></li></ul> <h3 id="_5-3-缓冲管理"><a href="#_5-3-缓冲管理" class="header-anchor">#</a> 5.3 缓冲管理</h3> <h4 id="_5-3-1-缓冲的引入"><a href="#_5-3-1-缓冲的引入" class="header-anchor">#</a> 5.3.1 缓冲的引入</h4> <ul><li>缓和 CPU 与 I/O 设备间速度不匹配的矛盾</li> <li>减少对 CPU 的中断频率，放宽对 CPU 中断响应时间的限制</li> <li>提高 CPU 和 I/O 设备之间的并行性</li></ul> <h4 id="_5-3-2-单缓冲和双缓冲"><a href="#_5-3-2-单缓冲和双缓冲" class="header-anchor">#</a> 5.3.2 单缓冲和双缓冲</h4> <ul><li>单缓冲
<img src="data:image/png;base64,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" alt="OS21"></li> <li>双缓冲
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAADICAAAAAA15NrGAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH5AYLCAMbthtKAgAAHItJREFUeNrt3edfE1nfBnDOIOq695bnfu77Wdddu6JAQieIZXEpiuIqKHYRBFRAbKhgb6CAbVUQXRSxUESaYKUqIhKwUAKi4P9yPS9mkkxCkJYQIL/rBcmcSUI+M/PNOWfmzIwZKBRKtzGjRUChEBAKhYBQKASEQiEgFAoBoVAICIVCQCgUAkKhEBAKhUJAKBQCQqEQEAqFgFAoBIRCISAUCgERRdFCy5hi6kAuJSYmJiYmnE1ISExMiL8uniWPyRZPvuvgH082AfeuqMs/xe1NgqKGn8ij1UIZUUCmhm0PD9/m5hQVERER5rxcY94pd/FU7clSAIDVcyB0s1AYd/pUYOCOc0hxTTh9+nRchKSU1gtlJAH5CwCQxVcdGTeVxa0A0JLcDOBjo1B22bcRACIAhDUIZbt3bpMCwE3X3VE7o3YGzn1H64UykoAsBQCk/w0ASFE2sVqjdsceiL5SdGlfzGGPjULbCpF1ABDSBoSW4YHyE5YAwB2hzRVGq4UyAoHc5rfvVBWQv7yOx0SnVF2Jjjns6P1Z9eqaw/u2S0P2xdivOZSsFLIYADKS+IkgWi2UEQVkCQAg7SIA4IoSSEvES9UrjsWqX/02/tgeh8jjp5w2neRbYQAWoeEUMs4AANo30WqhjCggdtvCw8O3e7ntiIiIDFt2SwkkvFD1ipho4cmXWgBAOICIer4oITJy64ytORcabsuiIiIiIje602qhjCggTmeTkpIS1i+9mJR07lSgspPesi1T9YroaABI3xq52P0DAIQC2PqKn3c7MWHdDwcBNP197vz58+fP36PVQhlRQHwBAPdTAQA3U4XStlULwsPCwsLCwraGT98FAJXnk9eu+QQAwQogtBSo5l964oeIO+qPq71A64Uy8vog6Xwn/ZoSiGLr/tSrfFLd9wqF2ak4sSF49Wy/oC02HoEb7asAALb/jt8aU7YxKChoc1BgZG42rRfKCALS6QYAuMH/8F9WdtLrdqpf0tEsPLl1GSXJN+JWJFxPm78rJfXGOwCo2r4Ab+e8Tb6WesE9LnXEt7Bu+vkPTmh/+dAAonDeumbtutUyp03r1q3zd08Xih+G63jtrUsAUHoVQPhbZeHuJh+gDgBweuQv8nxmNliJpA18KADJjcy5fTvj1rYN92/fzri+PU0ovr1XF5C/AWB3NYCwSqHs8wUsUs4/8Bm4NLIX+S6z3Y+Li0tKSkqKhZQYJvlm/6UNfCgASeA72HdTAAD/KPsgl653V4M8SYAYyDXwQEJ8fL2t3ZfvLK8c0Yt8r9k/g7Vyp9EGPhSArOnkO+l/A1APNXm5R2f7+28Aae0AEFLBF9XXCUAqCh/dDUguqR/hi3yvWSoBMSUgbYKE9Mt8fSCs/iu6NoPbdx9X1Vzlh51ECKPbKwB4K19wauQv8kEEMr2HF5x2dvxIBgwN5JZCeOT3Yu3kGxCvrup4afRR4J1PMj/xXjRDBWRvM4API3qRRw8JIJccZTK3MVwMETA4EOWAw/RYINLVxeUjALTe1PHKnDXvALQccJ87d+48N1eZi4vben7OQiDWbd7cuW4S13nz5rjdIyB6WbkzdBbftnVyln3PcRzHHScBBgfyQDzR+vLicQBov/att9TL5fL3N8Yxxi4J1YhbO9rq5HK5/F29XC5v+ExADAPk/gw7B6d/c6pkkoBB6KT3M61NTaoGcLsJLXKjAam1cp7NOI3YyVxcXFxcZDKZTCYTHvi4uhEOIwMx1RivBmlqxilu9OjRo8cogRxraWpqamrsmo+qc0AJCMWU+iAtbW1tbdjPjRkzZizHcY9ofRCQ4QBEIe4o2H3R2qj3f9JnJx0APnV2diLEfNTYD7RCCMjQB5JhJZxm1iCTSi1HrwYgOl7atGCf6nlRjvh9V90e9g+IMm20PgjIMACy/ATgK5FKJWsA5IUCwDOXEuXcRk/1TvND/2tnb2/v4ODg4ODoZHMRjwcGhEJAhgGQ1lUAUNICLG8EjkwrB4D3C5WjPZu81KeTxYTo/NCndiyHgBCQEQpkZzHgX5fmBDyc3gkv4TzL+EkdKPoMoNwjGfhyIQsAYrer37Zit/DkiquNmVk2ASEgIxOI4gzwaNoG+GQDnnhzTijuiIL8+eIpNjazRv8mlVqbBwBAzHYglj9384nVKHUPZBYBISAjBYj2MIOAcmDRFSCjEmj/Gtp0XDVM7WTn0mJA7nkT+OB7WQkEMTEAIPMWXRncloAQkBEKZPdEK5vv/IFF1lY/zrKxtrK2mi/MeX8PS8uARq8MoO2vqwAQEw4A8buBaOdaEBACYgI1yDnVcGZLzQMeh1p5IJ4ZQNsyERDsDz7qdBsEhICYAhAgtBzA545C6w+fv3z+ovDnD4I0RaE7IIjmtoGAGA9Ic0sfomhpaVEoFApFb9/Q3Cw89BiNf6NQtPJp49M6UoDkngTgY2Mz8RdrGxsbaxubAADApReATxo6C9yTgCeeyWIgB6bOe6YBhBGQQQRyxmxYpNBoy62puampm3F+PQQ7uwB5/GeVokUB4Nimtvb2T8qhze+XAfCcKJHM/mmSre0s2wIRkNOLq0Idy3sCMg0Kzd+lZuFra0RrlKIyhKN7ICVm5vw4aD1H1iXfmKP1DZydnZ2EOPJxYkZrIG6Q2vY7P2oDaZ48TSKR2CqABTNsJBLLH7MBoF2+PxbA/kZA4XUXgBxqILnr5Gi182jqAQiz4mNtbW1tY2NjI5FIpba2dsrYq8MfmhdHBiLyDSBrhsOXlxgLiN8TvTaxVr7kH68vfAIgf24TAPhM/K9wwBAfvTJUr40JB/B2x1sAzydsM2gTy4WEDHMgNkYCsnIgPnR20tEqbwAWPH2Ri0/zhau9lE1UDvFt1AJSdZgfYxi1uMOgnXQZCSEg/ciqAfnA3i5A6t7ULrW1/3g+Fgh7EHhEKK39vUU3kDe7hDG41XnivViZ+u+ku9JgeALSdx+PMUAgWkNNLtpJ5wF46A+gZMwvylohY3w3QHTsvHuTNd0s+Emj3vdiub0jIASkbwkogZ6BCNv4agBV2z0XbKgobQGApB8+6gCyb9HzirIXpaUvSktLS0vLt98FgE++bu6e81226h0I5skJCAHpS9YUwyBAKlc9Ly896aQAomzNZXIAjwJ0ATnoJHN1dZ2jzNxV3zjZUB/HQRa+JSAEpPdZO/CTuPfoAvJ+Tbu/q2OpspbQuk3j0dr+rVx9HCj0qCEgBKS3WaeHixzsMfaF4/oY72oCQkB6la/ri6APINeHFRAseklAhicQ68EF0rFBHz6GHxD4VBIQAtJjvujHxzAEgqUVBISA9JB2PfkYjkCwrJyAEBBdSbyYxB83/7RRTz6GJRAsL+N/JRLOJbwkIASET/ylTYyxSVefAm2b9OVjeAKBXykQf3EFY2z23/GvCAgBAdYxxiwTAxibmnIhQm8+sHtYAsHaiwGMMenZZYyxmfWoeElATBzIWjYtcX8esG8VY+bPYepAahmzOhNThq/R8UtZONaGEpAhHytDAqljE5SjSo74zG41eSCVbLJqb6/NzA81u6oJiEkDWcWpRyUWsnXDEsh0PX7YkrFVqufJbCpqNr4mICYMxJ8tVE9kMMtSPQK5MQyBLGF+6gnFYhaDV2trCMjQzmzDAWljE8SnfaxggcMRiP7uk17JpooPp19kp4GAQwTEZIE0M5l4Mp/t1COQ+bt27oyKioqKitqxY8eOHTsiIyMMkXCzqXr70q+Yr3jyDDsN1IS/JCCmCmQZcxBPXtcrkEHLND0CWdwFCF6vryYgJgokQhPILRaht4+W37jxjyhpaWlpaWk3DZJ0PQJZ0hUIala/JiCmCQTMXjyVynbBpPOS+YgnE3gg8D1DQEwTSDvjzqqnGiY4m7YPvGLm5zVqkFMAgPfBLwmIadYgZxlTC7nC9pg4EBxnTC2kcgqL55/Vr6kmICYJRCTk5WIbFmXqQHCMMeWtryp/UB8Uee/3moCYJBAkMObvdRpvPGYxzV04pluHrPBOQoWn32S2Ql38x0UC0iWRf3p4eHh4eHiq46WZriU9Rtc7PK8ZDwgSGGPMfzZjS6q/kg/gOGPM3H8aY+KD6sC6lwREK1GDeIeDO8YDgqevkxhj3vJOwgEAKKs5yRjzr9U8AffLymoCohk7s+zXrzTz0iB5tddsixGBAHhRVU61hyiVr6q6FvrUEhCNOA7aueDZZqHGBULpRWQPCIgWkPZB+nr3zcK+MdeKgAyN+FUTkKEIxJqADJH41hAQAkLpPgvkBEQdBwJC0frNLCMgBITSfRb3qxsS9+v4YgJiMCA2BGToxOtN315//r8zZlpbcHFUgxAQ04hDr2/5efPHSVOmf89xHMclUhOLgJhInHpzhevssb/+NulfnDIHqA8CANh5GMCVMwRkROfPnsb1yifbTuI0MsVOKpVKpbaq2KljkO/4+u8hCWShSzMQ+PsLUVGkxtLc5kZARoCQnrshD8aM//X371VAYg21y6AQAM7NtpFIplt3iGbsG39ryAD5Z45yoGHWnEdA1RKNy3c6WUpVsbMtxxMCMvwzqXfnhtwa9/ukqbySswP9l+k6/2W5tBHAqaMA9p0Qlb+Z+tssiY101n98jALkmKVUKpXaWv/PNDupVDJ78kJhYNuW1QAiA/lO3GPeie3TodDEchhlYWFhwTXTtq2HyCw4i9GjuV7eFvfCT1OnWY7l4vv6X+78+p9RP/yqvExZUQb/+Gm5pY1EMjFWuSYDWgEczwdwVPwfDri0AkCJd6pRgAhpWXhTY7opuBBQeEz8ZYqNRCKxnvkcAGxF7a0JJUYC4sD9NsvS0oobxbXQ9j1gH9wv06fPmGXO1fX+PXH/92N+n//RLuauuvd1zksAeLtwDH/i0PIxMaIG1eZiLSBF25pKAWBX7y95Zwggn7WAnFwH4HISAhJEhbYvgKX8fSb2j3IxDhAHzqIDAFxsOBIycB+jGwHA3bxPRPqRs+oTPD9mAEDyz3PeCQWpvzi+V73Q7yuAI7GdyvN5GvYD73KAGF8D90Hs+wSkfeGUUuDcB6xK1AKCJc8APJ4UZ5wmlj03Wvlz48JxtIkPKC7cmCb+2Xw7c8MuzAQ1kBv3AeRNHaU+rW7VqMWNHe2KDwByDgNA4hQLi1l1APA5qQHA2YdX+3IZWUMAadcEkjxvRiKuvIAOIAhKBuwijNMHceLGfBX9/n2kjXwAWciNVXfkfho8IHIAPpy3ekUWTTF3t5PMHnUMTTv4ksIZjpl87QIAePKjPYYUkJZzSWEVdWUAAnY0KBrrysVAMPfQdgcjddJtLcTnClpQFTKg1upoURv1J652cIDkZAF4bs2dEq9W82UAXD+17HjX1NTU1NT4NFujgxw784/rRgai2cR6WvMuKLcaADZMspFKJbMfi4FgtnmRcYA4cR/Ek6MIyADirrHvysuwbSw1kOxmAHd/4VLE/3zU/7UArs+OY6NktlQqlfwwQ3R4pij8HuDr+eKjgYF87jWQxhK8CeTHQq8636WJBcyVrPwmkM2QK1NfX98gTqe1WdU70XQ9H3l3qRcHDlw9AdFfD13jcMS/uJq6uro6uVwur5MPMPXdd9LzbgHAhTFaQMYrAH63zycAWJupmvdq31IAwIOpv66uf/t+SAAB1EC69kGwIhoz/b8FZJSDEDs79YAEW36AgpmZRHuggr1DL+M0WhvIa9rO+5toC82l9z0nLGV7e+WjKnY9xl4jrjqALOKfpD8FgLyp3CXR3Pnm1u2Ay1cAyAfw+i9hxvvX56YHNb19U1Pz5l3Dnl9tp7g/Gxp7sfBmc7dAoqKBot/29LOJJRlIE8tNG4jzK9rS+xsfrkYTiCH/mbIGqb8NAGibz4mveznbPBaArBMAGuqA7Vl8eYPn4paS/zo6O0we7+Ji65g5ZPogwJsgHsjq4LKK8tee59RAbscAwGmLfCP0QVw5uVYTy7Wykjb1/mURJz5f6u2YQQFyR9jIYzlr9W9b3oTvqgC4dKKgFYjpfKGsQCoBFJ0EkH8BwN0rRgTypRsgG6Y6z5HJ/nCpVgK5JVzs1fGIEYCc0hzlMIoDZPOqaFvvV+I0Tnwy5/4YDCAPlQXLuB2qmQv+FQ8ATkWnXwLIPOT3UPTO/BWlZSUH1peXPdqXYkQgbQvTdAJZdUmziZWivBjyo7LugYQaCgjmc6Lx9+XmiwFgbhlt7P3KEvGu1h8Nu8PjJPMGgEzV0cGPft/t4g/5vvezOQgAsHIsBYBGh2XiIRIPxs9bMHf21AULZLI0IwBpeJiXl5eXV3DbbUdJXl5eYXLwMw0gAVp9kJc9fz1DAjkzlkssBAA8K3qqPJI+/zlt7P1J/E9cXAEAoKK4dKxBgWT4MMvL9UCyqA8ZZxueXVRYnPGnszCszyoVAJ7tOLzBP1/d/iqKA1BwCcD9y0YAssfdw8PDw9PDe+1fHp4eHh5eXoG1YiDLxWOxJEdz83IfKJMTUDnoQJA0luOSivLzn3Icx60QCv94Slt7v9o9P3JcfGFBwQuO47glBvxH2QuWrFr2517U5WhWKwvcF7o7qo54XALw4vHq98BF+8nZhcIomMwlBYUPdq0qLMjedc2ITSztvNrIHz13EwMJUl7A3dvbe9GixQExgw8E8ZvH8eftBKxbrSr88zFt7f1amIE/8wvTf33AEPg6xQ+L1wmdTP/5fwoNqtOTvLy9l/7l5fWH+70hBKT+fBsAILnvm16mQYEAcYGbNwcGrtYo8yymrb1/RDZuCgwMDBgS30Wxyut019Jy1ZGPlvohBGQAMTQQ3R3OrDza2ikDAvJ5JAPBwvUFtGVQCEj30dh7TiEgBEQrK3No26AQkO6zOpM2DgoB6T7r7tHWQRneQAx7dfdNd2nzoBCQ7rNlTwZtIASEgHSb0EgSQkAIyLcqkdu0iRCQfgD5MiSA9HiX28YtoSF3BlaJkBAC0g8gQ2OoyTfukx4cFhYWts2HsfEDPAcqLJ02EgLSZyCBwXpOUBD/uIVPiJAFZiF9BRIUGhoatobxsb1ZPrDl0xG1O422ElGepxCQXgAZvPQJSFBoiJIGH8sLW1XYQkJCQgR/W4KDgzf2vHA6A4LtR/ux+8RCiNw/dNbojVkEpAcguVldkq0jWdnZWTqTrTtZWVlZWZlaedsXIH+nJmr4YDYZ15JTUlKSk5NTkpV/kpOTr169evVizwvHlv+QsZtvkQ0A71baM8YY+5+AbAKyZjh8eV1NrMzc3IdXVEBGD2RIlZRJHz3IKdjNmDlVIkDLLMYWPsl7sp2x0QUEZLgCAQBk5eUVXeCJJPf70yXMmr9ufjhjo0hIy0w2/0kjADzeyiwKCMhwBgIAeFBY+PQ4Y9f7+eHWzFr5tDCKhZm6D8U0pr6LS5Dp1CEjGAgAIO/h6/76sFJPZLNwE/fxRewD2MQOE5ARAaS/+cxmiCe3MRM/HFLObMWTF9gpAmLSQDqYnXjynj6rkJS589SZO4C48el2/kr9fecq9U1rAOAMATF5IFLx5E22S28ffW3wDiKt0SMQLwJCQMRANJoU6XoEEm0W3aDjhiX6T7XZJD0C8SYgBETUKdWsQVJZlB6BXBuslTtNbx9VyTzFkwkmDuSxyQPpZCxYPVVkzvabNpBqxiJFk6fYCRMHstrEgeChWEgqW4/hCGS6/j7rvljILY6dJSCmDQR5KiE5/xrHYk0dCLLUQtKZHrtkwxRIgMkDQb4gJI8xbhNMHgguM+7nSADpP4wyHR/dAHlCQAAUMDZx/PjfxrAwXNxj8kCKQ0o4jpvwywQLxnaCgBAQoICNGzdunPkWACd2mziQ4qUAMrnvxo3jogACQkC0cnyPSQN5vASmGQLS2xzba8JAniwCAdEAsoqAGErIMATy1BsEhID0lKP7DAaks1Y0cWVyi+bcxvVNRgXyzAsEhID0nCP7DQUkedoNAJ2deOVsZ2f5kx+At+pLKzXPV98HPPU88FUIkOScbXggzzxBQAhIb3L4gIGA+KYAi6zs7G39AJRuB4AqJ9XFsxu9MtRf4TsbO1shdpNTlPfS7ujsNBSQ5x4gINptTgKiO4diDAKkLhgAXrcAayuBPTP522a7K69M1OitBhKr68SUWkvGzL4vNQgQ0/ZBQPoqJNYQQLaVA57l/0ztxIsJX+ApdEGuTf+Cm3XNH9sL/0hCa8Ph6wAQIwIyR7ho2A6prb2jFTOLMACQF3+CgOgAspKA6M7Bg/oHUnMZyJwViNXpwHKUqy4zcQbVLz1/cXCwHjPRwd7aPEBZg8TyY83TJb8WAEC6azUAxRxmdlfvQF4sBAEhIIMqpCuQZSX1De4ZaE99Ut/wsWHt212q66XGty17BbR63wPgn6JqYp3YCaDDaR3/IiULO+1rrwwciMn7ICD9EHJooEBSNQv2TrO15zYCPo525rPt7Z3sHZW7jWoeYmk50Oh9B/i04qq6D3JtWysi5mtdQjyS7dZauQM9H+S5yfsgIP0RcniAQLRrkLuAcHrBTM0ZMR3wLQcave4A7WIgOLp2p12u1scEW1RqFrBp5MNQQJa+LSvnU1FRUVFRWVlZNeTSbGkcIDh4RM+ddKytBRpe16ROL62pqampWsTvxmrYCywtAz54ZQAKAYjQE99rvlX7QyZrX91ugDUIta++AWSYxEhL7eCJioqKiooK/tejb6n27wrkn0sAljs7T5ro6Ojo6Og0l9/Be6YaWHzpbW2KLLZBfn1RiqgGwX6pTOu6w7vnd1m5k1/16asJP4nlZWVlZWVlcCce3QGp8vyLzzI+vr6+vr5Lh14WGGuxHXed09+4/W8XILdccyrKKgGc2FAnr6+XC8Vv/AF4TJfJ7H6e6SqTuD4VAYld3bl3ep74Q5LndV25nKvMxUUmxNXV1dX1G99b4yJb8+b9QTi6B0IxYPZpA2n5t7XrHNd5nwAniescV8m4+wDw5mFQHIDjnwEszgLA3/aOB3I96Asw11F0b4gcHZfZ0O8ZhQSEMijp2geJ/Mg/nltRBODe0nYAWGn5s7Iq+eitvtFi7HYAT6M+Afjwm/qyEvm67gdEQAjIiAACoDK/CJhTXX0d9bJ3Qgvr99ZugOTGC5+0QijsvCGcJN5GQAjI8AeidRxEkZ+Tu9JnifzQeWDXhRWXheLXk1p0AQlHnXLIZGsx//h+ruO9B5lZWbl+RwkIARlxQK56e68AkLoJQN6o/yiE4us/K3TXIB2i93YCKBzPGGNmZmbau3UJCAEZCUD4FK4DWnN2rQv4K+t+GQCcG/dOB5A97ukPMu/c5XMva2USELx6E5/1uQSEgAz77NMJJHfNw+z7cX4dwAlf8+mPAbwKUfZBGkVAEvz81Vm5clXQ12+sXAJCQEYIkNZIbPH3e8NPnFsfrTn32sf+rVwCQkBGSg1ikJVLQAgIASEgBGTo5/zRo8cICAGhaOfakaNHjx6NY72/YC0BISAmkfRDR44ciWdCDvX6JBECQkBGfO4fPHyKY+KcOn9IlIPKxMbEHLhJQAiIyQGJt9DwwWIPdwsk3WhAptGaIiDGyotzly9nTFEB6f2lHAgIATGZPLmamnr3O8YYY5sICAGh6Er+P2lp98xZCAEhIJRueyW3z/QayHUCQkAoVIMQEEo/Em1mt9JfX1mpM/w8P7OptLQJyDCsQQYtVIMQkOGXT4+Ki0uEFGukpOcUF3d9S/cf8ZiWNgGhUAgIhUJAKBQCQqEQEAqFgFAoBIRCISAUCoWAUCgEhEIhIBQKAaFQCAiFQkAoFAJCoRAQCoWAUCgUAkKhEBAKZUD5f7y9AoxCVaakAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA2LTExVDA4OjAyOjE5KzAwOjAwv0pxLgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNi0xMVQwODowMjoxOSswMDowMM4XyZIAAAAASUVORK5CYII=" alt="OS22"></li></ul> <h4 id="_5-3-3-循环缓冲"><a href="#_5-3-3-循环缓冲" class="header-anchor">#</a> 5.3.3 循环缓冲</h4> <p><img src="/assets/img/OS23.ebad1ec2.png" alt="OS23"></p> <h4 id="_5-3-4-缓冲池"><a href="#_5-3-4-缓冲池" class="header-anchor">#</a> 5.3.4 缓冲池</h4> <p><img src="/assets/img/OS24.fc65b96c.png" alt="OS24"></p> <h3 id="_5-4-i-o-软件"><a href="#_5-4-i-o-软件" class="header-anchor">#</a> 5.4 I/O 软件</h3> <h4 id="_5-4-1-i-o-软件的设计目标和原则"><a href="#_5-4-1-i-o-软件的设计目标和原则" class="header-anchor">#</a> 5.4.1 I/O 软件的设计目标和原则</h4> <ul><li>与具体设备无关 上层的操作不应该考虑底层到底是什么设备</li> <li>统一命名 对设备进行统一逻辑命名</li> <li>对错误的处理 低层软件能够解决的错误就不让高层软件感知</li> <li>缓冲技术 向高层提供相同大小的数据块或字符单元</li> <li>设备的分配和释放 进程管理问题，防止死锁的发生</li> <li>I/O 控制方式 I/O 软件应向高层软件提供统一的操作接口</li></ul> <p><img src="data:image/png;base64,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" alt="OS25"></p> <h4 id="_5-4-2-用户层的-i-o-软件"><a href="#_5-4-2-用户层的-i-o-软件" class="header-anchor">#</a> 5.4.2 用户层的 I/O 软件</h4> <p>需要通过系统调用获得操作系统服务（可通过库函数实现）</p> <h4 id="_5-4-3-设备独立性软件"><a href="#_5-4-3-设备独立性软件" class="header-anchor">#</a> 5.4.3 设备独立性软件</h4> <p>应用程序独立于具体使用的物理设备</p> <ul><li>在应用程序中，使用逻辑设备名称来请求使用某类设备</li> <li>系统在实际执行时，还必须使用物理设备名称</li></ul> <p>这就需要操作系统能够完成这种转换功能</p> <p>这可以带来以下好处</p> <ul><li>设备分配时的灵活性</li> <li>易于实现 I/O 重定向</li></ul> <p>设备独立性软件功能主要有</p> <ul><li>执行所有设备的公有操作</li> <li>向用户层（或文件层）软件提供统一接口</li></ul> <p>逻辑设备名到物理设备名映射的实现</p> <p>使用逻辑设备表（LUT），内含逻辑设备名、物理设备名、设备驱动程序的入口地址</p> <h4 id="_5-4-4-设备驱动程序"><a href="#_5-4-4-设备驱动程序" class="header-anchor">#</a> 5.4.4 设备驱动程序</h4> <p>I/O 进程与设备控制器之间的通信程序</p> <p>功能：</p> <ul><li>接收由设备独立性软件发来的命令和参数</li> <li>检查用户 I/O 请求的合法性</li> <li>发出 I/O 命令</li> <li>及时响应由控制器或通道发来的中断请求</li> <li>对于设置有通道的计算机系统，驱动程序还应能够根据用户的 I/O 请求，自动地构成通道程序</li></ul> <p>特点：</p> <ul><li>设备驱动程序主要是指在请求 I/O 的进程与设备控制器间的一个通信和转换程序</li> <li>驱动程序与设备控制器和 I/O 设备的硬件特性紧密相关，因而对不同类型的设备一个配置不同而驱动程序</li> <li>驱动程序与 I/O 设备所采用的 I/O 空盒子方式紧密相关</li> <li>由于驱动程序与硬件紧密相关，因而其中的一部分必须用汇编语言书写</li></ul> <h4 id="_5-4-5-中断处理程序"><a href="#_5-4-5-中断处理程序" class="header-anchor">#</a> 5.4.5 中断处理程序</h4> <ul><li>唤醒被阻塞的驱动（程序）进程</li> <li>保护被中断进程的 CPU 环境</li> <li>转入相应的设备处理程序</li> <li>中断处理</li> <li>恢复被中断进程的现场</li></ul> <h3 id="_5-5-设备分配"><a href="#_5-5-设备分配" class="header-anchor">#</a> 5.5 设备分配</h3> <h4 id="_5-5-1-设备分配中的数据结构"><a href="#_5-5-1-设备分配中的数据结构" class="header-anchor">#</a> 5.5.1 设备分配中的数据结构</h4> <ul><li>系统设备表（SDT， 整个系统一张）：设备名、设备控制块指针</li> <li>设备控制块（DCT， 每设备一张）：设备状态、分配状态、等待队列、控制器控制块指针</li> <li>控制器控制块（COCT， 每控制器一张）：控制器状态、等待队列、通道控制块、指针</li> <li>通道控制块（CHCT， 每通道一张）：通道状态、等待序列</li></ul> <p><img src="/assets/img/OS26.30bdf9ab.png" alt="OS26"></p> <h4 id="_5-5-2-设备分配时应考虑的因素"><a href="#_5-5-2-设备分配时应考虑的因素" class="header-anchor">#</a> 5.5.2 设备分配时应考虑的因素</h4> <ul><li><p>设备的固有属性</p> <ul><li>独占性（是否是临界资源）</li> <li>共享性</li> <li>可虚拟设备</li></ul></li> <li><p>设备分配算法</p> <ul><li>先来先服务</li> <li>优先级高者优先</li></ul></li></ul> <h4 id="_5-5-3-独占设备的分配程序"><a href="#_5-5-3-独占设备的分配程序" class="header-anchor">#</a> 5.5.3 独占设备的分配程序</h4> <ul><li>基本的设备分配程序
<ul><li>分配设备</li> <li>分配控制器</li> <li>分配通道</li></ul></li> <li>设备分配程序的改进
<ul><li>增加设备的独立性 使用逻辑设备名而非物理设备名</li> <li>考虑多通路情况</li></ul></li></ul> <h4 id="_5-5-4-spooling-技术"><a href="#_5-5-4-spooling-技术" class="header-anchor">#</a> 5.5.4 SPOOLing 技术</h4> <p>为了缓和 CPU 的高速性与 I/O 设备低速型之间的矛盾而引入了脱机输入、脱机输出技术，使用专门控制的外围机将低速 I/O 设备上的数据传送到高速磁盘上</p> <p>SPOOLing 技术由脱机输入输出技术发展而来，使用输入进程和输出进程替代其中的输入处理器和输出处理器</p> <ul><li>组成
<img src="/assets/img/OS27.9eee729c.png" alt="OS27"> <ul><li>输入井和输出井</li> <li>输入缓冲区和输出缓冲区</li> <li>输入进程 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>P</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">SP_I</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 和输出进程 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><msub><mi>P</mi><mi>O</mi></msub></mrow><annotation encoding="application/x-tex">SP_O</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></li></ul></li> <li>特点
<ul><li>提高了 I/O 的速度</li> <li>将独占设备改造为共享设备</li> <li>实现了虚拟设备功能</li></ul></li></ul> <h3 id="_5-6-磁盘存储器的管理"><a href="#_5-6-磁盘存储器的管理" class="header-anchor">#</a> 5.6 磁盘存储器的管理</h3> <h4 id="_5-6-1-磁盘性能简述"><a href="#_5-6-1-磁盘性能简述" class="header-anchor">#</a> 5.6.1 磁盘性能简述</h4> <p><img src="/assets/img/OS28.9ab62171.png" alt="OS28"></p> <ul><li><p>数据的组织和格式</p> <ul><li>每个磁盘片分一个或两个存储面</li> <li>每个磁盘面被组织成若干个同心环，这种环称为磁道（同一半径的磁道总和称为柱面）</li> <li>每条磁道又被逻辑上划分为若干个扇区</li></ul> <blockquote><p>当然，这样的话，就会有一个三维的物理地址 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(c, h, s)</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mclose">)</span></span></span></span></span> 与一维的块号 <span class="vuepress-eq"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></span> 之间的转换关系，简单的进制转换算法，不赘述</p></blockquote></li> <li><p>磁盘的类型</p> <ul><li>固定头磁盘 每个磁道一个磁头，不需移臂</li> <li>移动头磁盘 只在每个盘面配有一个磁头，需要移臂</li></ul></li> <li><p>磁盘访问时间</p> <blockquote><p>地址：柱面号、磁头号、扇区号</p></blockquote> <ul><li>柱面定位时间 花费时间最多</li> <li>旋转延迟时间</li> <li>数据传送时间</li></ul></li></ul> <h4 id="_5-6-2-磁盘调度"><a href="#_5-6-2-磁盘调度" class="header-anchor">#</a> 5.6.2 磁盘调度</h4> <ul><li><p>先来先服务 FCFS</p></li> <li><p>最短寻道时间优先 SSTF</p> <p>每次都找离当前磁头最近的磁道</p></li> <li><p>扫描 SCAN</p> <p>为避免 SSTF 所带来的“饥饿”现象，使用类似于电梯的算法，每次都先沿一个方向走到最后一个（并非尽头），然后再改变方向</p></li></ul> <h4 id="_5-6-3-磁盘高速缓存"><a href="#_5-6-3-磁盘高速缓存" class="header-anchor">#</a> 5.6.3 磁盘高速缓存</h4> <ul><li><p>磁盘高速缓存的形式</p> <p>将内存上的一部分存储空间作为磁盘的 Cache 使用，会缓存一些最近用过的从磁盘中取出的盘快，逻辑上属于磁盘、物理上是驻留在内存中的盘块</p></li> <li><p>数据交付方式</p> <ul><li>缓存中有，则从缓存中取</li> <li>若无，则从盘中取出，并存入缓存</li></ul></li> <li><p>置换算法 类似于请求调页算法中的置换算法，比如 LRU，下面列举一些不同点</p> <ul><li>访问频率 对联想寄存器的访问频率远远高于对高速缓存的访问频率</li> <li>可预见性 高速缓存中对于哪些数据是会再次访问是有一定的可预见性的</li> <li>数据的一致性 出现问题时使得缓存与磁盘之间未同步的问题</li> <li>周期性地写回磁盘 按照 LRU 算法，经常使用的数据块是不会写回磁盘的，如果此时发生了故障，数据是会丢失的，所以我们可以周期性地写回磁盘以避免该问题</li></ul></li></ul> <h4 id="_5-6-4-提高磁盘-i-o-速度的其他方法"><a href="#_5-6-4-提高磁盘-i-o-速度的其他方法" class="header-anchor">#</a> 5.6.4 提高磁盘 I/O 速度的其他方法</h4> <ul><li>提前读 当要读取文件的时候，由于大多采用顺序访问，故可提前读取下一个盘块数据</li> <li>延迟写 有很大概率在不久之后再次访问</li> <li>优化物理块的分布</li></ul> <h2 id="_6-文件管理"><a href="#_6-文件管理" class="header-anchor">#</a> 6 文件管理</h2> <h3 id="_6-1-文件与文件系统"><a href="#_6-1-文件与文件系统" class="header-anchor">#</a> 6.1 文件与文件系统</h3> <h4 id="_6-1-1-文件的概念"><a href="#_6-1-1-文件的概念" class="header-anchor">#</a> 6.1.1 文件的概念</h4> <ul><li><p>定义</p> <p>文件是计算机系统中信息存放的一种组织形式</p></li> <li><p>文件的属性</p> <p>用于系统对文件进行管理，常见属性如下</p> <ul><li>保护信息</li> <li>创建者</li> <li>只读标志位</li> <li>隐藏标志位</li> <li>系统标志位</li> <li>创建时间、最后访问时间、最后修改时间</li> <li>文件长度</li></ul></li></ul> <h4 id="_6-1-2-文件的类型"><a href="#_6-1-2-文件的类型" class="header-anchor">#</a> 6.1.2 文件的类型</h4> <ul><li>以文件的性质和用途分类
<ul><li>系统文件</li> <li>库文件</li> <li>用户文件</li></ul></li> <li>按文件的存取控制属性分类
<ul><li>只读文件</li> <li>读写文件</li> <li>执行文件</li></ul></li> <li>按文件的组织形式分类
<blockquote><p>UNIX 依此组织文件</p></blockquote> <ul><li>普通文件</li> <li>目录文件 由文件目录项组成的文件</li> <li>特别文件 将设备作为文件进行管理</li></ul></li></ul> <h4 id="_6-1-3-文件的操作"><a href="#_6-1-3-文件的操作" class="header-anchor">#</a> 6.1.3 文件的操作</h4> <ul><li>建立文件</li> <li>打开文件</li> <li>读文件</li> <li>写文件</li> <li>关闭文件</li> <li>删除文件</li> <li>文件指针定位</li></ul> <h4 id="_6-1-4-文件系统"><a href="#_6-1-4-文件系统" class="header-anchor">#</a> 6.1.4 文件系统</h4> <p>OS 中负责处理文件相关事宜的程序和数据结构，包括文件的查找、存放、保护、共享、命名、文件常用操作的实现以及文件存储器的管理等等</p> <h3 id="_6-2-文件结构与存储设备"><a href="#_6-2-文件结构与存储设备" class="header-anchor">#</a> 6.2 文件结构与存储设备</h3> <h4 id="_6-2-1-文件的逻辑结构"><a href="#_6-2-1-文件的逻辑结构" class="header-anchor">#</a> 6.2.1 文件的逻辑结构</h4> <ul><li>流式文件（无结构文件） 基本信息单位是字节或字，其长度是所含字节的数量
<blockquote><p>UNIX 中，所有的文件都被看做是流式文件，即便是有结构文件，也被视为流式文件，系统不对文件进行格式处理</p></blockquote></li> <li>记录式文件（有结构文件） 是一种结构文件，由若干个记录组成
<ul><li>定长记录 处理方便，开销小</li> <li>变长记录</li></ul></li></ul> <h4 id="_6-2-2-文件的存取方法"><a href="#_6-2-2-文件的存取方法" class="header-anchor">#</a> 6.2.2 文件的存取方法</h4> <ul><li>顺序存取</li> <li>随机存取（直接存取）</li> <li>按键存取 使用 Hash 进行索引存取</li></ul> <h4 id="_6-2-3-文件的物理结构"><a href="#_6-2-3-文件的物理结构" class="header-anchor">#</a> 6.2.3 文件的物理结构</h4> <ul><li><p>连续结构 文件的全部信息存放在外存的一片连续编号的物理块中</p> <ul><li>优点 简单，支持顺序存取和随机存取</li> <li>缺点 文件不易动态增长，预留空间浪费，不利于文件的插入和删除，存在外部碎片问题</li></ul></li> <li><p>串联结构（链接结构） 非连续的结构，存放文件信息的每一<strong>物理块中有一个指针</strong>，指向下一个物理块</p> <ul><li><p>优点</p> <ul><li>提高了磁盘空间利用率</li> <li>有利于文件插入和删除</li> <li>有利于文件动态扩充</li></ul></li> <li><p>缺点</p> <ul><li>存取速度慢，不适合随机存取</li> <li>链接指针占用一定的空间</li> <li>可靠性问题，如指针出错</li></ul></li></ul></li> <li><p>索引结构 文件信息存放在若干不连续物理块中，系统为每个文件建立一个专用数据结构——索引表，并将这些块的块号存放在索引表中</p> <blockquote><p>注意，索引表也是存在物理块中的，我们使用 <code>open</code> （比如 <code>C</code> 啦， <code>Python</code> 啦）操作实际是将该文件的索引表加载到内存中</p></blockquote> <p><img src="/assets/img/OS29.af75cb9b.png" alt="OS29"></p> <ul><li><p>优点</p> <ul><li>保持了链接结构的优点又解决了其缺点，能顺序存取，又能随机存取</li> <li>满足了文件动态增长，插入删除的要求</li> <li>能充分利用外存空间</li></ul></li> <li><p>缺点</p> <ul><li><p>索引表本身带来了系统开销，如：内外存空间，存取时间开销等</p> <blockquote><p>当索引表本身很大时，可考虑建立多级索引</p></blockquote> <p><img src="data:image/png;base64,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" alt="OS30"></p></li></ul></li></ul></li> <li><p>混合索引结构（多重索引，UNIX 采用）
<img src="data:image/png;base64,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" alt="OS31"></p> <p>首先假设一个磁盘块 <code>512 Bytes</code> ，可存储 <code>128</code> 个 <code>4 Bytes</code> 的索引号，我们将主索引表分为以下区域</p> <ul><li>直接地址 使用 10 个直接地址项，如果文件小于 <code>10 * 512 Bytes</code> ，就用不到后面的啦</li> <li>一次间接地址 当超过十个直接地址项所能索引的大小时，一次间接地址指向一个磁盘块，将其作为索引表，很明显，我们又可以索引 <code>128</code> 个磁盘块，此时最大索引 <code>10 + 128</code> 个磁盘块</li> <li>多次间接地址 上述地址不足，则需要继续使用更高级的索引表……</li></ul></li></ul> <h4 id="_6-2-4-文件的存储设备"><a href="#_6-2-4-文件的存储设备" class="header-anchor">#</a> 6.2.4 文件的存储设备</h4> <p>磁带、磁盘、光盘、闪存 ……</p> <h3 id="_6-3-文件目录管理"><a href="#_6-3-文件目录管理" class="header-anchor">#</a> 6.3 文件目录管理</h3> <h4 id="_6-3-1-文件控制块与文件目录"><a href="#_6-3-1-文件控制块与文件目录" class="header-anchor">#</a> 6.3.1 文件控制块与文件目录</h4> <ul><li><p>目录项（文件控制块，FCB） 用于记录文件相关信息
<img src="/assets/img/OS32.26c08d3c.png" alt="OS32"></p> <p>将真正的文件属性存储在 iNode 中，更容易实现文件共享的操作</p> <p><img src="/assets/img/OS33.3d3a71eb.png" alt="OS33"></p> <p>如果只有根目录 inode 在内存，那么还需要读取根目录的目录文件，s1 i_node ，s1 目录的目录文件，...，经过 6 次磁盘读取得到 file1 i_node ，之后需要读取 5 次磁盘，即最多共 11 次，如果 file1 i_node 已经在内存，只需要读取 5 次磁盘即可</p></li></ul> <h4 id="_6-3-2-目录结构"><a href="#_6-3-2-目录结构" class="header-anchor">#</a> 6.3.2 目录结构</h4> <ul><li>单级目录结构</li> <li>二级目录结构</li> <li>多级目录结构 树形</li></ul> <h3 id="_6-4-文件存储空间管理"><a href="#_6-4-文件存储空间管理" class="header-anchor">#</a> 6.4 文件存储空间管理</h3> <h4 id="_6-4-1-空闲表法"><a href="#_6-4-1-空闲表法" class="header-anchor">#</a> 6.4.1 空闲表法</h4> <p>每个文件分配一块<strong>连续</strong>的存储空间，外存的所有空闲区建立一张空闲表</p> <p><img src="data:image/png;base64,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POtuJX4c2TPD/2BL0Spo2/MA8N/U6i/8R7YWr5GWxXrLuDUwJluLLlrya/oq1T4yWnkP8HbPlwB0i0vt0pAFI1OZwysty144MRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMRETMfnZREzEREzEREzEREzEREzEREzEREzEREzENDWmrLo3bWf66y0tPL18va2Fq98REzGVBxOnOU5zXDMREzEREzEREzEREzEREzER07ic/q6dmFIhkdW2Yoo2BBNT3E5McRERidqJKaoCiSlWU2MnptRFAHEZsBFTY0eHOUx3v2x3ETFNljuhXgsxNTagM5CYgLTFmN6zcWTqbEBFMYlJTN+xF9NaC9dMnfeBmKoQ00kZtg5T+j4QUxViOmlukjOHqVN56SWmKsKUNmmJmL5VmDZGL8JCTIVFODFVDaZ4FCCm6sIUq6mpqakZsA+TI2a3wIOLydw+U9RWTDEXk0NMM8bEqwbKHXZBISZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiKgemm6p+eHh4+Kp9yS2+amlWbrW08FUqMy2mv6hQq51Zcb+lhbf+4FHrSm5ra2tra5uvUpzmOM1xzURMxERMxERMxERMxERMxERMpWdDSKTVSkwf/EikzUZMG0JKNQ4FEFPc7IXUBjGdEhGROvswJdyvzQ0HD9MGw41pDH47pe4G8JLY1wVlw2UAL6ve4GECYLQxjTFMp903wLrvW7pmcoKK6T0LRyYPU3+dnZg65wf1bM5gYxpjmPLhOgB4Rj6xD9MZpbqDujVgsjGNuTXTOjG7AjeLSSWDicloYxqDWwMHwiLdKUunuYAuwM02pjG9aRm3dQGeaAggJsONaQxjOi29lmJyAojJdGMas5hOhe3btLy1Kg+gM4jTnOnGNOYw5cMiUveJfZhCSimlgtgFxTHcmMYcpk/DIjsMjnrGprlsqwrw1oDFayYbMRkvnJiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIySZMX6p6S/u7sKVO1bXUOcKWOmypU0I3Ha+lzjpOc5zmuGYiJmIiJmIiJmIiJmIiJmIiptKzIaRU85B1mE7H3Bv3quP7bcJ02u2CUh88TKb7u5jCFCem6sNkur+LGUxRER+TsW+QGsRk9FuvFV8zOcRETHMUg/1dTE1zaWKqRkxm+7sYwxQtrJke1JZhUkr9NBdUTAb7u5QDkxgZnkwvwAeCiMnGBfgoJgDAG3adzQEA3g7i2Zy3QdBgHabiL7TH7cOEeGAxOfXEREyzza3Vd2C0v4thTOs1gH4j5Ztr3ZxDMDvH3aox3N/F0D6Tv4SNK6WUMtLDxRgmt+Z5ATybO2e4v4thTH9vVUqZaaxjDNM/zNVcFWsm2zCVI7xqgJiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIiZiIySpMexXDlJwnODJxZOI0R0zEREzEREzEREzEREzEREwzS7SBmIhpjiwpYiKmuUljRwcxEdPcWGpAJzER01ykswHERExzYykKoLOemIhp1nG/ZU1MxDQXA5P/QXMvMRHTtxHTTRl/zYXYgalMhVe4pyWnOY5MxERMxERMxERMxFTREBMxERMxERMxERMxEVOQMb0bWEyLiImYiMnWwjcREzEREzEREzERk3WY/qeiaTvTb2vh6cRvLS38Jyo9LabbbBPDlJ5N009zrSttHZkW2zoyPbrR0sJTK45Pj4lhvlmIiSEmhpgYYmIYYmKIiSEmhpgYhpgYYmKIiWGIiSEmhpgYYmKYWeb/9xmLRap1VDEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDYtMTFUMDg6MDI6MTkrMDA6MDC/SnEuAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA2LTExVDA4OjAyOjE5KzAwOjAwzhfJkgAAAABJRU5ErkJggg==" alt="OS34"></p> <h4 id="_6-4-2-空闲链表法"><a href="#_6-4-2-空闲链表法" class="header-anchor">#</a> 6.4.2 空闲链表法</h4> <p>用链表来表示磁盘的空闲空间列表</p> <ul><li><p>空闲盘块链</p> <p><img src="/assets/img/OS35.d1279da1.png" alt="OS35"></p></li> <li><p>空闲盘区链</p></li></ul> <h4 id="_6-4-3-位示图"><a href="#_6-4-3-位示图" class="header-anchor">#</a> 6.4.3 位示图</h4> <p>以位示图来表征空闲区，可分配连续的区域，但是占用额外的空间</p> <p><img src="data:image/png;base64,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" alt="OS36"></p> <h4 id="_6-4-4-成组链接法"><a href="#_6-4-4-成组链接法" class="header-anchor">#</a> 6.4.4 成组链接法</h4> <p>UNIX 内采用的方法，使用空闲盘块号栈进行分配回收</p> <h3 id="_6-5-文件的共享"><a href="#_6-5-文件的共享" class="header-anchor">#</a> 6.5 文件的共享</h3> <ul><li>外存共享 （用户）</li> <li>内存共享 （进程）</li></ul> <h3 id="_6-6-文件的保护、保密与安全"><a href="#_6-6-文件的保护、保密与安全" class="header-anchor">#</a> 6.6 文件的保护、保密与安全</h3> <h4 id="_6-6-1-文件的存取控制"><a href="#_6-6-1-文件的存取控制" class="header-anchor">#</a> 6.6.1 文件的存取控制</h4> <ul><li>存取控制矩阵 存储占用大，验证费时</li> <li>存取控制表</li></ul> <h4 id="_6-6-2-文件的保密"><a href="#_6-6-2-文件的保密" class="header-anchor">#</a> 6.6.2 文件的保密</h4> <ul><li>口令</li> <li>密码</li></ul> <h1 id="experiment"><a href="#experiment" class="header-anchor">#</a> Experiment</h1> <p><a href="https://github.com/SigureMo/os-work/tree/master/experiments" target="_blank" rel="noopener noreferrer">本课程配套实验<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ol><li>杨志豪老师课程及其<a href="http://faculty.dlut.edu.cn/zhyang_CS/zh_CN/jxzy/749840/content/1641.htm" target="_blank" rel="noopener noreferrer">配套课件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>《计算机操作系统》 汤小丹 梁红兵 哲凤屏 汤子瀛</li></ol></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      Created : 2019-02-28
    </span> <span class="update-date" data-v-4e23451f>
      Updated : Invalid Date
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/10/14/deep-learning.html" class="post-link" data-v-4e23451f>
      Previous Post : Deep Learning
    </a> <a href="/posts/2019/05/19/katex-index.html" class="post-link" data-v-4e23451f>
      Next Post : KaTeX 索引表
    </a></section></section> <!----></div></main> <aside class="aside" data-v-4dd605a1><div class="info-card main-div" data-v-9d847660 data-v-4dd605a1><div class="info-card-header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(/info-bg.jpg);" data-v-9d847660><img src="/avatar.jpg" alt="喵ック" class="info-avatar" data-v-9d847660></div> <div class="info-card-body" data-v-9d847660><section class="info-nickname" data-v-9d847660>
      喵ック
    </section> <section class="info-desc" data-v-9d847660>可爱是第一驱动力～</section> <section class="info-contact" data-v-9d847660><section data-v-9d847660><span title="DLC, China" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>DLC, China</title><use xlink:href="#icon-location" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          DLC, China
        </span></span></section> <section data-v-9d847660><span title="Dalian University of Technology" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>Dalian University of Technology</title><use xlink:href="#icon-organization" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          Dalian University of Technology
        </span></span></section> <section data-v-9d847660><a href="mailto:sigure.qaq@gmail.com" title="sigure.qaq@gmail.com" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>sigure.qaq@gmail.com</title><use xlink:href="#icon-email" data-v-9d847660 data-v-9d847660></use></svg><span class="info-text" data-v-9d847660 data-v-9d847660>
          sigure.qaq@gmail.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-9d847660><section class="info-sns clearfix" data-v-9d847660><a href="https://github.com/SigureMo" target="_blank" class="sns-link" data-v-9d847660><span title="GitHub: SigureMo" class="sns-icon" data-v-9d847660 data-v-9d847660><svg class="icon" style="font-size:1.5em;" data-v-9d847660 data-v-9d847660><title data-v-9d847660 data-v-9d847660>GitHub: SigureMo</title><use xlink:href="#icon-github" data-v-9d847660 data-v-9d847660></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-4dd605a1><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>Table of Contents</span> <div class="post-nav-toc"><ul><li><a href="/posts/2019/02/28/operating-system.html#_1-操作系统引论">1 操作系统引论</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_1-1-操作系统的目标和作用">1.1 操作系统的目标和作用</a></li><li><a href="/posts/2019/02/28/operating-system.html#_1-2-操作系统的发展过程">1.2 操作系统的发展过程</a></li><li><a href="/posts/2019/02/28/operating-system.html#_1-3-操作系统的特征">1.3 操作系统的特征</a></li><li><a href="/posts/2019/02/28/operating-system.html#_1-4-操作系统的五大功能">1.4 操作系统的五大功能</a></li><li><a href="/posts/2019/02/28/operating-system.html#_1-5-os-结构设计">1.5 OS 结构设计</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#_2-进程管理">2 进程管理</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_2-1-进程的基本概念">2.1 进程的基本概念</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-2-进程控制">2.2 进程控制</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-3-进程同步">2.3 进程同步</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-4-经典进程的同步问题">2.4 经典进程的同步问题</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-5-进程通信">2.5 进程通信</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-6-线程的基本概念">2.6 线程的基本概念</a></li><li><a href="/posts/2019/02/28/operating-system.html#_2-7-线程的实现">2.7 线程的实现</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#_3-处理机调度与死锁">3 处理机调度与死锁</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_3-1-处理机调度的层次">3.1 处理机调度的层次</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-2-调度队列模型和调度准则">3.2 调度队列模型和调度准则</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-3-调度算法">3.3 调度算法</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-4-实时调度">3.4 实时调度</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-5-产生死锁的原因和必要条件">3.5 产生死锁的原因和必要条件</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-6-预防死锁">3.6 预防死锁</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-7-避免死锁">3.7 避免死锁</a></li><li><a href="/posts/2019/02/28/operating-system.html#_3-8-死锁的检测与解除">3.8 死锁的检测与解除</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#_4-存储器管理">4 存储器管理</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_4-1-存储器的层次结构">4.1 存储器的层次结构</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-2-程序的装入和链接">4.2 程序的装入和链接</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-3-连续分配方式">4.3 连续分配方式</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-4-基本分页存储管理方式">4.4 基本分页存储管理方式</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-5-分段存储管理方式">4.5 分段存储管理方式</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-6-虚拟存储器的基本概念">4.6 虚拟存储器的基本概念</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-7-请求分页存储管理方式">4.7 请求分页存储管理方式</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-8-页面置换算法">4.8 页面置换算法</a></li><li><a href="/posts/2019/02/28/operating-system.html#_4-9-请求分段存储管理方式">4.9 请求分段存储管理方式</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#_5-设备管理">5 设备管理</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_5-1-i-o-系统">5.1 I/O 系统</a></li><li><a href="/posts/2019/02/28/operating-system.html#_5-2-i-o-控制-数据传输-方式">5.2 I/O 控制（数据传输）方式</a></li><li><a href="/posts/2019/02/28/operating-system.html#_5-3-缓冲管理">5.3 缓冲管理</a></li><li><a href="/posts/2019/02/28/operating-system.html#_5-4-i-o-软件">5.4 I/O 软件</a></li><li><a href="/posts/2019/02/28/operating-system.html#_5-5-设备分配">5.5 设备分配</a></li><li><a href="/posts/2019/02/28/operating-system.html#_5-6-磁盘存储器的管理">5.6 磁盘存储器的管理</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#_6-文件管理">6 文件管理</a><ul><li><a href="/posts/2019/02/28/operating-system.html#_6-1-文件与文件系统">6.1 文件与文件系统</a></li><li><a href="/posts/2019/02/28/operating-system.html#_6-2-文件结构与存储设备">6.2 文件结构与存储设备</a></li><li><a href="/posts/2019/02/28/operating-system.html#_6-3-文件目录管理">6.3 文件目录管理</a></li><li><a href="/posts/2019/02/28/operating-system.html#_6-4-文件存储空间管理">6.4 文件存储空间管理</a></li><li><a href="/posts/2019/02/28/operating-system.html#_6-5-文件的共享">6.5 文件的共享</a></li><li><a href="/posts/2019/02/28/operating-system.html#_6-6-文件的保护、保密与安全">6.6 文件的保护、保密与安全</a></li></ul></li><li><a href="/posts/2019/02/28/operating-system.html#references">References</a></li></ul></div></div> <!----></div></aside></div> <footer class="footer" data-v-1375e54c><p class="footer-sns-links" data-v-1375e54c><a href="https://github.com/SigureMo" target="_blank" class="sns-link" data-v-1375e54c><span title="GitHub: SigureMo" class="sns-icon" data-v-1375e54c data-v-1375e54c><svg class="icon" style="font-size:25px;" data-v-1375e54c data-v-1375e54c><title data-v-1375e54c data-v-1375e54c>GitHub: SigureMo</title><use xlink:href="#icon-github" data-v-1375e54c data-v-1375e54c></use></svg></span></a></p> <p class="footer-text" data-v-1375e54c><span data-v-1375e54c>Powered by </span> <a href="https://github.com/vuejs/vuepress" target="_blank" data-v-1375e54c>
      VuePress
    </a> <span data-v-1375e54c> | </span> <a href="https://github.com/meteorlxy/vuepress-theme-meteorlxy" target="_blank" data-v-1375e54c>
        meteorlxy
      </a></p> <p class="footer-text" data-v-1375e54c>Copyright 2018-present <a href="https://github.com/SigureMo" target="_blank">Nyakku</a> | <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA-4.0</a></p></footer></div><div class="global-ui"><!----><!----><!----><canvas id="vuepress-canvas-ribbon"></canvas><canvas id="vuepress-canvas-cursor"></canvas><div></div><div id="goTop" class="hide-cat" data-v-bf92849a></div><APlayer audio="" fixed="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="3" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="/assets/js/app.77ce5594.js" defer></script><script src="/assets/js/18.2c15646e.js" defer></script><script src="/assets/js/5.6798c603.js" defer></script><script src="/assets/js/16.f883ba47.js" defer></script>
  </body>
</html>
