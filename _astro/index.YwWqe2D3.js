import{g as $,S as q,b as D,w as Y,r as H,v as S,i as y}from"./index.esm.DJviIL2C.js";import{a as tt}from"./index.esm.DJviIL2C.js";var T=s=>{throw TypeError(s)},I=(s,t,e)=>t.has(s)||T("Cannot "+e),i=(s,t,e)=>(I(s,t,"read from private field"),e?e.call(s):t.get(s)),n=(s,t,e)=>t.has(s)?T("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),r=(s,t,e,h)=>(I(s,t,"write to private field"),t.set(s,e),e),u=(s,t,e)=>(I(s,t,"access private method"),e),N=(s,t,e,h)=>({set _(o){r(s,t,o)},get _(){return i(s,t,h)}}),M,v,W;class X{constructor(t,e,h,o,a){n(this,M),n(this,v),n(this,W,0),this.size=h,this.color=o,r(this,M,a),r(this,v,e),this.position={...t}}move(){this.position.x=Math.sin(i(this,M))*i(this,v)+this.position.x,this.position.y=Math.cos(i(this,M))*i(this,v)+this.position.y+i(this,W)*.3,N(this,W)._++}shouleRemove(t){return this.position.x<0||this.position.x>t.width||this.position.y>t.height}}M=new WeakMap,v=new WeakMap,W=new WeakMap;class J extends X{draw(t,e){t.fillStyle=this.color,t.beginPath(),t.arc(this.position.x,this.position.y,this.size,0,Math.PI*2),t.fill()}}var p;class K extends X{constructor(t,e,h,o,a){super(t,e,h,o,a),n(this,p,0)}draw(t,e){t.fillStyle=this.color,t.beginPath();const h=this.size*2,o=this.size;for(let a=0;a<5;a++)t.lineTo(Math.cos((18+72*a-i(this,p))/180*Math.PI)*h+this.position.x,-Math.sin((18+72*a-i(this,p))/180*Math.PI)*h+this.position.y),t.lineTo(Math.cos((54+72*a-i(this,p))/180*Math.PI)*o+this.position.x,-Math.sin((54+72*a-i(this,p))/180*Math.PI)*o+this.position.y);t.fill(),r(this,p,i(this,p)+5)}}p=new WeakMap;const _=class{static create(t,e,h,o,a,g){const R=this.shapeMap.get(t);return new R(e,h,o,a,g)}};_.shapeMap=new Map([["star",K],["circle",J]]);let L=_;var d;class O{constructor(t,e,h,o){n(this,d),this.stopped=!1,r(this,d,new Set);for(let a=0;a<o;a++){const g=L.create(t,e,y.randomFloat(1,6),h,y.color("89ABCDEF"),y.randomFloat(Math.PI-1,Math.PI+1));i(this,d).add(g)}}move(t){for(const e of i(this,d)){if(e.shouleRemove(t)){i(this,d).delete(e);continue}e.move()}i(this,d).size===0&&(this.stopped=!0)}draw(t,e){for(const h of i(this,d))h.draw(t,e)}}d=new WeakMap;var Z=(s=>(s.Star="star",s.Circle="circle",s))(Z||{}),P,b,x,w,f,m,k,l,c,B,E,z,A,C,F;class Q{constructor({shape:t="star",size:e=2,numParticles:h=10}={},o={}){n(this,c),n(this,P),n(this,b),n(this,x),n(this,w,null),n(this,f,new Set),n(this,m,!1),n(this,k),n(this,l,new $),r(this,P,t),r(this,b,e),r(this,x,h),r(this,k,o),this.animate=this.animate.bind(this)}mount(t){r(this,w,new q(t,window.innerWidth,window.innerHeight,!0,i(this,k))),u(this,c,B).call(this),D("Theme Popper ðŸŽ‰",{leftBgColor:"#ffb366"})}unmount(){u(this,c,E).call(this),r(this,m,!1)}animate(){if(r(this,m,!0),i(this,f).size===0){r(this,m,!1),i(this,w).clear();return}requestAnimationFrame(this.animate);for(const t of i(this,f)){if(t.stopped){i(this,f).delete(t);return}t.move(i(this,w).size)}i(this,w).draw((t,e)=>{for(const h of i(this,f))h.draw(t,e)}),i(this,w).render()}}P=new WeakMap,b=new WeakMap,x=new WeakMap,w=new WeakMap,f=new WeakMap,m=new WeakMap,k=new WeakMap,l=new WeakMap,c=new WeakSet,B=function(){Y()?i(this,l).add("touchstart",u(this,c,z).bind(this)):i(this,l).add("mousedown",u(this,c,z).bind(this)),i(this,l).add("visibilitychange",u(this,c,C).bind(this)),i(this,l).add("resize",H(u(this,c,A).bind(this),500)),i(this,l).startAll()},E=function(){i(this,l).stopAll(),i(this,l).clear()},z=function(s){const t={x:S(s)?s.touches[0].clientX:s.clientX,y:S(s)?s.touches[0].clientY:s.clientY},e=new O(i(this,P),{...t},i(this,b),i(this,x));i(this,f).add(e),i(this,m)||u(this,c,F).call(this)},A=function(s){i(this,w).handleResize(s)},C=function(s){i(this,f).clear(),r(this,m,!1)},F=function(){requestAnimationFrame(this.animate)};export{q as DrawBoard,tt as MAX_Z_INDEX,Q as Popper,Z as PopperShape};
