(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{293:function(t,s,a){t.exports=a.p+"assets/img/DL01.79aee825.png"},294:function(t,s,a){t.exports=a.p+"assets/img/DL02.e85b707f.png"},295:function(t,s,a){t.exports=a.p+"assets/img/DL03.0f19314f.png"},296:function(t,s,a){t.exports=a.p+"assets/img/DL04.6a8deac7.png"},297:function(t,s,a){t.exports=a.p+"assets/img/DL05.dc5c9d38.png"},298:function(t,s,a){t.exports=a.p+"assets/img/DL06.4639cc01.png"},299:function(t,s,a){t.exports=a.p+"assets/img/DL07.b540c3ba.png"},300:function(t,s,a){t.exports=a.p+"assets/img/DL09.39fad2ec.png"},301:function(t,s,a){t.exports=a.p+"assets/img/DL10.9e331471.png"},302:function(t,s,a){t.exports=a.p+"assets/img/DL11.6a696e38.png"},303:function(t,s,a){t.exports=a.p+"assets/img/DL12.4bff6325.png"},304:function(t,s,a){t.exports=a.p+"assets/img/DL13.7d56c868.png"},305:function(t,s,a){t.exports=a.p+"assets/img/DL14.0e683181.png"},306:function(t,s,a){t.exports=a.p+"assets/img/DL15.c7683e03.png"},307:function(t,s,a){t.exports=a.p+"assets/img/DL16.39eef639.png"},308:function(t,s,a){t.exports=a.p+"assets/img/DL17.584c83e2.png"},309:function(t,s,a){t.exports=a.p+"assets/img/DL18.965fa4b1.png"},310:function(t,s,a){t.exports=a.p+"assets/img/DL19.3ce9950b.png"},311:function(t,s,a){t.exports=a.p+"assets/img/DL20.5c456ab7.png"},312:function(t,s,a){t.exports=a.p+"assets/img/DL21.88963536.png"},313:function(t,s,a){t.exports=a.p+"assets/img/DL22.f6984edf.png"},314:function(t,s,a){t.exports=a.p+"assets/img/DL23.b2a2de03.png"},315:function(t,s,a){t.exports=a.p+"assets/img/DL24.ec1180ea.png"},316:function(t,s,a){t.exports=a.p+"assets/img/DL25.d8c605f7.png"},317:function(t,s,a){t.exports=a.p+"assets/img/DL26.3f4df2fc.png"},318:function(t,s,a){t.exports=a.p+"assets/img/DL27.472d3678.png"},319:function(t,s,a){t.exports=a.p+"assets/img/DL28.d023867a.png"},320:function(t,s,a){t.exports=a.p+"assets/img/DL29.fdf6ef6f.png"},321:function(t,s,a){t.exports=a.p+"assets/img/DL30.2e1ba36d.png"},322:function(t,s,a){t.exports=a.p+"assets/img/DL31.b6f79af2.png"},323:function(t,s,a){t.exports=a.p+"assets/img/DL32.c3073c61.png"},324:function(t,s,a){t.exports=a.p+"assets/img/DL33.e12ad89f.png"},325:function(t,s,a){t.exports=a.p+"assets/img/DL34.485a5ef6.png"},326:function(t,s,a){t.exports=a.p+"assets/img/DL35.50062638.png"},327:function(t,s,a){t.exports=a.p+"assets/img/DL36.cbb133f5.png"},328:function(t,s,a){t.exports=a.p+"assets/img/DL37.fedb9f8f.png"},329:function(t,s,a){t.exports=a.p+"assets/img/DL38.131f4d32.png"},330:function(t,s,a){t.exports=a.p+"assets/img/DL39.def20f5d.png"},331:function(t,s,a){t.exports=a.p+"assets/img/DL40.1f848893.png"},332:function(t,s,a){t.exports=a.p+"assets/img/DL42.fa43e1cd.png"},333:function(t,s,a){t.exports=a.p+"assets/img/DL41.e8561dd8.png"},334:function(t,s,a){t.exports=a.p+"assets/img/DL43.0b00a324.png"},335:function(t,s,a){t.exports=a.p+"assets/img/DL44.4d7dde1d.png"},336:function(t,s,a){t.exports=a.p+"assets/img/DL46.c55ac06f.png"},337:function(t,s,a){t.exports=a.p+"assets/img/DL45.51507cda.png"},338:function(t,s,a){t.exports=a.p+"assets/img/DL47.70af29d0.png"},339:function(t,s,a){t.exports=a.p+"assets/img/DL48.8ca3063c.png"},340:function(t,s,a){t.exports=a.p+"assets/img/DL49.b76afc2b.png"},341:function(t,s,a){t.exports=a.p+"assets/img/DL50.8ca2874b.png"},342:function(t,s,a){t.exports=a.p+"assets/img/DL51.29ecdbca.png"},343:function(t,s,a){t.exports=a.p+"assets/img/DL52.a2a46625.png"},344:function(t,s,a){t.exports=a.p+"assets/img/DL53.c93e3f84.png"},345:function(t,s,a){t.exports=a.p+"assets/img/DL54.c93c57c8.png"},346:function(t,s,a){t.exports=a.p+"assets/img/DL55.f17df740.png"},347:function(t,s,a){t.exports=a.p+"assets/img/DL56.60638584.png"},348:function(t,s,a){t.exports=a.p+"assets/img/DL57.8906f935.png"},349:function(t,s,a){t.exports=a.p+"assets/img/DL58.2db91a91.png"},350:function(t,s,a){t.exports=a.p+"assets/img/DL59.7c1e3f1e.png"},351:function(t,s,a){t.exports=a.p+"assets/img/DL60.0e62b424.png"},352:function(t,s,a){t.exports=a.p+"assets/img/DL61.7efbc4f6.png"},353:function(t,s,a){t.exports=a.p+"assets/img/DL62.4d60eb1f.png"},354:function(t,s,a){t.exports=a.p+"assets/img/DL63.fb203a79.png"},525:function(t,s,a){"use strict";a.r(s);var i=a(2),l=Object(i.a)({},(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("p",[t._v("DeepLearning, Andrew Ng 慕课笔记")])]),t._v(" "),i("h2",{attrs:{id:"_1-neural-networks-and-deeplearning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-neural-networks-and-deeplearning"}},[t._v("#")]),t._v(" 1 Neural Networks and DeepLearning")]),t._v(" "),i("h3",{attrs:{id:"_1-1-introduction-to-deeplearning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-introduction-to-deeplearning"}},[t._v("#")]),t._v(" 1.1 Introduction to DeepLearning")]),t._v(" "),i("h4",{attrs:{id:"_1-1-1-welcome"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-welcome"}},[t._v("#")]),t._v(" 1.1.1 Welcome")]),t._v(" "),i("h4",{attrs:{id:"_1-1-2-what-is-a-neural-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-what-is-a-neural-network"}},[t._v("#")]),t._v(" 1.1.2 What is a Neural Network")]),t._v(" "),i("h4",{attrs:{id:"_1-1-3-supervised-learning-with-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-supervised-learning-with-neural-networks"}},[t._v("#")]),t._v(" 1.1.3 Supervised Learning with Neural Networks")]),t._v(" "),i("p",[t._v("Structured Data ： Database\nUnstructured Data : Image Audio Text")]),t._v(" "),i("h4",{attrs:{id:"_1-1-4-why-is-deep-learning-taking-off"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-why-is-deep-learning-taking-off"}},[t._v("#")]),t._v(" 1.1.4 Why is Deep Learning taking off?")]),t._v(" "),i("p",[i("img",{attrs:{src:a(293),alt:"DeepLearning01"}})]),t._v(" "),i("blockquote",[i("p",[t._v("数据量的增加，使得深度学习的优势越来越明显")])]),t._v(" "),i("p",[i("img",{attrs:{src:a(294),alt:"DeepLearning02"}})]),t._v(" "),i("blockquote",[i("p",[t._v("迭代过程需要的时间越长，所能实现的想法就越少，因此训练的算法改良对深度学习来说是一个很关键的问题。\n比如使用 sigmoid 函数作为激活函数时，过大的输入会使神经网络饱和，梯度下降算法越来越慢；改良为 ReLU 函数（修正线性单元）后，梯度下降的算法运行的更快，迭代时间相应就减少了很多")])]),t._v(" "),i("h4",{attrs:{id:"_1-1-5-about-this-course"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-5-about-this-course"}},[t._v("#")]),t._v(" 1.1.5 About this Course")]),t._v(" "),i("h4",{attrs:{id:"_1-1-6-course-resources"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-6-course-resources"}},[t._v("#")]),t._v(" 1.1.6 Course Resources")]),t._v(" "),i("h3",{attrs:{id:"_1-2-basics-of-neural-network-programming"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-basics-of-neural-network-programming"}},[t._v("#")]),t._v(" 1.2 Basics of Neural Network programming")]),t._v(" "),i("h4",{attrs:{id:"_1-2-1-binary-classification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-binary-classification"}},[t._v("#")]),t._v(" 1.2.1 Binary Classification")]),t._v(" "),i("ul",[i("li",[t._v("如果想要识别图片中是否有猫，可以将输入和输出组织成这样：输入为 64 * 64 * 3 维（像素点 64 * 64，三个颜色通道），输出为一个数字（0 或者 1）")]),t._v(" "),i("li",[t._v("我们对输入和输出符号做以下约定：\n"),i("ul",[i("li",[t._v("nx 为输入的维度，比如这里就是 64 * 64 * 3")]),t._v(" "),i("li",[t._v("用 X 将 x 按列组织起来")]),t._v(" "),i("li",[t._v("用 Y 将 y 按行组织起来")]),t._v(" "),i("li",[t._v("我们可以用 Python 里的"),i("code",[t._v("X.shape()")]),t._v("查看规模")])])])]),t._v(" "),i("h4",{attrs:{id:"_1-2-2-logistic-regression"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-logistic-regression"}},[t._v("#")]),t._v(" 1.2.2 Logistic Regression")]),t._v(" "),i("ol",[i("li",[t._v("相对于输入一个"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("X")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")])])])])]),t._v("，输出"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v("代表这个图片是不是猫，我们更喜欢它能够输出这个图片是猫的概率，这里便用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("表示")],1),t._v(" "),i("li",[t._v("我们可以使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("mo",[t._v("+")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y} = w^T+b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.924661em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("来表示这个关系，其中"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("是特征权重，维度与特征向量相同，但是这个函数是关于"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v("的一个线性函数，这无疑是很糟糕的，因为我们想要的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("是一个在 0 到 1 之间的数呀")],1),t._v(" "),i("li",[t._v("这个时候我们就会使用到"),i("strong",[t._v("sigmoid")]),t._v("函数了，这个神奇的函数将整个实数域映射到了 0-1 之间，将线性映射为非线性，那么，继续吧")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-3-logistic-regression-cost-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-logistic-regression-cost-function"}},[t._v("#")]),t._v(" 1.2.3 Logistic Regression Cost Function")]),t._v(" "),i("p",[i("img",{attrs:{src:a(295),alt:"DeepLearning03"}})]),t._v(" "),i("ol",[i("li",[t._v("计算误差时，如果使用误差的平方作为损失函数很有可能得到多个“低谷”（很多局部最优），使用梯度下降法将得不到真正最优的解")]),t._v(" "),i("li",[t._v("我们使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("−")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("-(ylog\\hat{y}+(1-y)log(1-\\hat{y}))")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("作为损失函数，至于为什么可以使 y 分别等于 0 和 1 推算一下（y 也只有这么两个可取的值）")],1),t._v(" "),i("li",[t._v("相对于只作用于某一样本的 loss function（损失函数），cost function（成本函数）J 是作用于整个样本集上的函数；对于某一样本，我们使用 loss function 来衡量 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v(" 与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("的差距，相对应的，对于某一样本集，我们使用 cost function 来衡量 W 和 b 的效果")],1)]),t._v(" "),i("h4",{attrs:{id:"_1-2-4-gradient-descent"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-gradient-descent"}},[t._v("#")]),t._v(" 1.2.4 Gradient Descent")]),t._v(" "),i("ol",[i("li",[t._v("因为我们选用了 logistic 的损失函数，所以我们将得到一个最优解而不是像平方误差函数那样的多个局部最优解，因此，我们随意地初始化这么一个 w 和 b，它最终都会随着梯度下降逐步收敛于我们想要的那个解")]),t._v(" "),i("li",[t._v("所谓梯度下降，就是在每一个状态下沿着下降最快的方向降低")]),t._v(" "),i("li",[t._v("现在先不考虑 b，只考虑 w，我们很容易根据 J 对 w 的导数得到使得 J 下降的 w 的方向，所以我们根据这个“方向”对 w 进行调整，就像："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")]),i("mo",[t._v("−")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("mfrac",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("w")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("w")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w -= \\alpha \\frac{dJ(w)}{dw}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.355em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，这里的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("称作学习率（learning rate），就是每次更新的步长")],1),t._v(" "),i("li",[t._v("扩展到 w 和 b 的情况，我们每次迭代就需要执行"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")]),i("mo",[t._v("−")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("mfrac",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("w")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("w")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w -=  \\alpha \\frac{\\partial J(w,b)}{\\partial w}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.355em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("mfrac",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("w")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("b")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b -=  \\alpha \\frac{\\partial J(w,b)}{\\partial b}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.77777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.355em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1)]),t._v(" "),i("h4",{attrs:{id:"_1-2-5-derivatives"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-5-derivatives"}},[t._v("#")]),t._v(" 1.2.5 Derivatives")]),t._v(" "),i("h4",{attrs:{id:"_1-2-6-more-derivative-examples"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-6-more-derivative-examples"}},[t._v("#")]),t._v(" 1.2.6 More Derivative Examples")]),t._v(" "),i("h4",{attrs:{id:"_1-2-7-computation-graph"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-7-computation-graph"}},[t._v("#")]),t._v(" 1.2.7 Computation Graph")]),t._v(" "),i("p",[t._v("前向传播")]),t._v(" "),i("h4",{attrs:{id:"_1-2-8-derivatives-with-a-computation-graph"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-8-derivatives-with-a-computation-graph"}},[t._v("#")]),t._v(" 1.2.8 Derivatives with a Computation Graph")]),t._v(" "),i("ol",[i("li",[t._v("反向传播")]),t._v(" "),i("li",[t._v("链式法则")]),t._v(" "),i("li",[t._v("导数用 dvar")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-9-logistic-regression-gradient-descent"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-9-logistic-regression-gradient-descent"}},[t._v("#")]),t._v(" 1.2.9 Logistic Regression Gradient Descent")]),t._v(" "),i("ol",[i("li",[t._v("首先把正向传播的公式列出来：\n"),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("z")]),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("mo",[t._v("+")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z=w^T+b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.924661em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",[t._v("=")]),i("mi",[t._v("a")]),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("z")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}=a=\\sigma (z)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("a")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mo",[t._v("−")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L(a,y)=-(ylog(a)+(1-y)log(1-a))")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)])]),t._v(" "),i("li",[t._v("首先计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("a")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("da")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")])])])])]),t._v("（a 对 J 的导数，dJ 省略掉），我们很容易求得"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mrow",[i("mo",[t._v("−")]),i("mi",[t._v("y")])],1),i("mi",[t._v("a")])],1),i("mo",[t._v("+")]),i("mfrac",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("y")])],1),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("a")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{-y}{a}+\\frac{1-y}{1-a}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.199439em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.854439em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.300547em","vertical-align":"-0.403331em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.897216em"}},[i("span",{staticStyle:{top:"-2.655em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.403331em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1),t._v(" "),i("li",[t._v("之后计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dz")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("，根据链式法则，我们先计算出"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("a")])],1),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("z")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{da}{dz}=a(1-a)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2251079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，再乘上刚刚算出来的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("a")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("da")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")])])])])]),t._v("，我们便可以得到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("z")]),i("mo",[t._v("=")]),i("mi",[t._v("a")]),i("mo",[t._v("−")]),i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dz=a-y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v("，很神奇吧，最终居然这么简单")],1),t._v(" "),i("li",[t._v("最后，我们的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("x")]),i("mn",[t._v("1")])],1),i("mi",[t._v("d")]),i("mi",[t._v("z")]),i("mo",{attrs:{separator:"true"}},[t._v(";")]),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("x")]),i("mn",[t._v("2")])],1),i("mi",[t._v("d")]),i("mi",[t._v("z")]),i("mo",{attrs:{separator:"true"}},[t._v(";")]),i("mi",[t._v("d")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mi",[t._v("d")]),i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw_1=x_1dz ;dw_2=x_2dz;db=dz")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mpunct"},[t._v(";")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mpunct"},[t._v(";")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("，你没看错，就是这么简单")],1)]),t._v(" "),i("h4",{attrs:{id:"_1-2-10-gradient-descent-on-m-examples"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-10-gradient-descent-on-m-examples"}},[t._v("#")]),t._v(" 1.2.10 Gradient Descent on m Examples")]),t._v(" "),i("ol",[i("li",[t._v("现在我们把上面的一个样本的算法应用到整个数据集上，很明显的，我们需要一个 for 循环去遍历 m 个样本，对每个样本进行累加并求取平均值")]),t._v(" "),i("li",[t._v("像前面一样的，我们在每一层循环内先正向传播计算 J，之后反向传播求导计算各项的导数，这并没有什么不同。")]),t._v(" "),i("li",[t._v("值得注意的的是，虽然我们是在计算每一个样本的，但是 w 和 b 是对于整个样本集而言的，所以我们在这里将样本集里所有 w 加和、b 也一样.当然这里只考虑了一个特征的 w，如果有多个特征（n 个），那么我们就对每个 w 都这么做，最终会得到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("~"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw_n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("还有"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("db")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("，诶？这不就是我们要求的吗？那么还剩最后一步了")],1),t._v(" "),i("li",[t._v("所谓最后一步，不过是让 w 减去"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha dw")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("、d 减去"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha db")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("，完成梯度下降的任务而已")],1),t._v(" "),i("li",[t._v("我们这里有两个 for 循环（m 和 n），我们知道，循环是很慢的，如果可以，我们会尽最大能力降低时间复杂度，以获得更高的效率，我们在前面提到过这对想法的实现来说是很重要的一件事，但是具体要怎么提高速度呢，我们继续看下一节——向量化")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-11-vectorization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-11-vectorization"}},[t._v("#")]),t._v(" 1.2.11 Vectorization")]),t._v(" "),i("ol",[i("li",[t._v("前面已经提到，如果我们直接使用 for 循环，那么速度会非常的慢，慢到什么程度呢？一个直观的测试告诉我们，它会比向量化慢上 300 倍！下面，就让我们使用向量化来取代这奇慢的循环吧")]),t._v(" "),i("li",[t._v("让我们来尝试：")])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\na "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 我们先试试怎么初始化一个数组")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br")])]),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("a "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rand"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nb "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rand"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nc "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dot"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这样就完成了点乘了？？？")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br")])]),i("h4",{attrs:{id:"_1-2-12-more-examples-of-vectorization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-12-more-examples-of-vectorization"}},[t._v("#")]),t._v(" 1.2.12 More Examples of Vectorization")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("让我们再看几个例子：")]),t._v(" "),i("ol",[i("li",[i("code",[t._v("np.exp(v) # 对每个元素求exp")])]),t._v(" "),i("li",[i("code",[t._v("np.log(v) # 对每个元素求log")])]),t._v(" "),i("li",[i("code",[t._v("np.abs(v) # 对每个元素求abs")])]),t._v(" "),i("li",[i("code",[t._v("np.maximum(v) # 求整个矩阵的最大值")])]),t._v(" "),i("li",[i("code",[t._v("v**2 # 对每个元素求平方")])]),t._v(" "),i("li",[i("code",[t._v("1/v # 对每个元素求倒数")])])])]),t._v(" "),i("li",[i("p",[t._v("现在，我们试着去优化那个有着两个 for 循环的神经网络过程，我们先简单的优化掉 n 这个 for 循环：")])])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("dw "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 因为要用矩阵，就将原来对每个w初始化为0改成初始化这样的一个全零矩阵")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n    dw "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" xi dzi\n    db "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" dzi\ndw "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/=")]),t._v(" m\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br"),i("span",{staticClass:"line-number"},[t._v("6")]),i("br"),i("span",{staticClass:"line-number"},[t._v("7")]),i("br")])]),i("p",[t._v("很明显，我们已经把里面的 n 循环优化掉了，也就是，可以一次将所有特征看做整体 w，而不必去对每个特征分别计算")]),t._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[t._v("很轻松地，我们完成了对一个 for 循环的优化，接下来，让我们把所有的 for 循环都优化掉吧 φ(>ω<*)")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-13-vectorizing-logistic-regression"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-13-vectorizing-logistic-regression"}},[t._v("#")]),t._v(" 1.2.13 Vectorizing Logistic Regression")]),t._v(" "),i("ol",[i("li",[t._v("在前面我们利用 X 将各组训练数据按列组织起来，我们现在再看如何利用矩阵对这些数据进行计算")]),t._v(" "),i("li",[t._v("我们先看一个训练集的时候，我们是使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{(i)} = w^Tx^{(i)}+b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{(i)}=\\sigma(z^{(i)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("对每个训练集的前向传播进行计算的\n"),i("ol",[i("li",[t._v("这里"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("是(n, 1)的矩阵，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^T")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])]),t._v("自然就是(1, n)的矩阵（也就是上节课说的将 n 个输入特征组织起来）")],1),t._v(" "),i("li",[t._v("再看"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("，这也是一组训练集的数据，对应于 n 个输入特征，很明显，它是(n, 1)的矩阵")],1),t._v(" "),i("li",[t._v("权重和输入特征矩阵相乘，最后输出的是一个数字（或者说(1, 1)矩阵），我们用它加上 b，自然就是我们想要的值")]),t._v(" "),i("li",[t._v("sigmoid 函数不必说也知道")])])],1),t._v(" "),i("li",[t._v("我们接下来看如何对 m 个训练集同时处理\n"),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^T")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])]),t._v("自然是不变的，他们不可能随着训练集的数量增加而增加，所以它仍然是(1, n)的矩阵")],1),t._v(" "),i("li",[t._v("继续看 X，不必说也知道它是(n, m)的矩阵了，每一列都是刚刚的一个训练集")]),t._v(" "),i("li",[t._v("然后我们利用矩阵的乘法使两个矩阵相乘，如果我们还对矩阵乘法有点印象的话，就可以知道结果的 i 行 j 列元素对应的就是第一个矩阵的 i 行与第二个矩阵的 j 列相乘并求和，看到这里想必大家都明白了，前面的每一行（虽然现在只有这么一行）不正对应于一个训练集的所对应的权重"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("嘛，后面的每一列不正对应于一个训练集的输入数据嘛，最后的结果不过是将原来的数据列在了一起，形成最后这样的(1, n)的矩阵，比如说(0, 3)是由特征权重 w 和第四组训练集相乘得来，也就是原来 for 循环的第四组")],1),t._v(" "),i("li",[t._v("然后让我们加上 b 吧，既然每个数据都要加 b，那就做一个(1, n)的全 b 矩阵咯")]),t._v(" "),i("li",[t._v("然后 sigmoid 又不用说了，还是那么简单")])])]),t._v(" "),i("li",[t._v("下面我们用 Python 试一下")])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("Z "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dot"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("t"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" X"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 咦？居然直接这样就可以了？原来numpy会自动将它扩展为(1, n)的全b矩阵")]),t._v("\nA "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" σ"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Z"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对每个z求sigmoid")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br")])]),i("h4",{attrs:{id:"_1-2-14-vectorizing-logistic-regression-s-gradient"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-14-vectorizing-logistic-regression-s-gradient"}},[t._v("#")]),t._v(" 1.2.14 Vectorizing Logistic Regression's Gradient")]),t._v(" "),i("ol",[i("li",[t._v("上节课仅仅展示了对前向传播的简化示例，下面我们对反向传播进行简化")]),t._v(" "),i("li",[t._v("经过上节课的讲解，我们应该是知道了我们怎么用矩阵将一组训练集组织起来以及为何可以这么组织起来，这样，我们应该很容易将单个训练集的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("z")]),i("mo",[t._v("=")]),i("mi",[t._v("a")]),i("mo",[t._v("−")]),i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dz=a-y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v("推到整个训练集的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("Z")]),i("mo",[t._v("=")]),i("mi",[t._v("A")]),i("mo",[t._v("−")]),i("mi",[t._v("Y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dZ=A-Y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")])])])])]),t._v("，他们都是(1, m)的矩阵")],1),t._v(" "),i("li",[t._v("下面要推的是 dw 和 db，db 我们可以很容易的写出来"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("u")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("d")]),i("mi",[t._v("Z")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("db=\\frac{1}{m}np.sum(dZ)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，dw 相应地，我们想得到那么一个(1, n)的矩阵代表待优化的 m 个特征，我们可以由每个训练集的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("w")]),i("mo",[t._v("=")]),i("mi",[t._v("x")]),i("mi",[t._v("d")]),i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw=xdz")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("推出在整个训练集上的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("w")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("X")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw=\\frac{1}{m}XdZ^T")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])]),t._v("，哦，你会发现这会得到一个(n, 1)的矩阵，但是这没关系，反正我们要的是他们的和，也就是"),i("code",[t._v("dw = np.sum(np.dot(X, dZ.T)) / m")]),t._v("，嗯，我们不仅将算式推出来了，还将 Python 代码写出来了，完美，let's continue.")],1),t._v(" "),i("li",[t._v("下面我们就是真正让 w 和 b 优化了，嗯，减一下就好，别忘了学习率")]),t._v(" "),i("li",[t._v("我们完美地、不显式使用一次循环地完成了一次迭代，哦，是整个训练集的一次迭代哦，如果我们多次迭代呢？我们暂时还没有简单的方法使他避免使用 for 循环，那就先使用 for 循环吧，就那样、简单地、在外面嵌套这么一层，就好了")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-15-broadcasting-in-python"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-15-broadcasting-in-python"}},[t._v("#")]),t._v(" 1.2.15 Broadcasting in Python")]),t._v(" "),i("ol",[i("li",[t._v("Python 的 numpy 会对某些不满足加减乘除条件的矩阵进行补全，比如某一维度为 1 的矩阵，这样使得很多操作会变得更加方便，这种特性就叫做广播")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-16-a-note-on-python-or-numpy-vectors"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-16-a-note-on-python-or-numpy-vectors"}},[t._v("#")]),t._v(" 1.2.16 A note on python or numpy vectors")]),t._v(" "),i("ol",[i("li",[t._v("广播特性更多的是给我们带来了很大的灵活性，使我们写代码更加方便，但如果对广播特性并不了解的话，很容易出现我们不可预料的 bug")]),t._v(" "),i("li",[t._v("我们看"),i("code",[t._v("np.random.randn(5)")]),t._v("，你可能会以为他是一个一维的向量，但是通过 print 它和它的转置可以发现，他不过是一个数组而已我们也可以通过观察它的括号层数来判断它的维度")]),t._v(" "),i("li",[t._v("使用上面说的数组很容易出现不可预料的错误，可能你会在使用的时候以为他是一个向量，所以就……那么如何避免呢？我们尽量总是使用"),i("code",[t._v("np.random.randn(5, 1)")]),t._v("或者"),i("code",[t._v("np.random.randn(1, 5)")]),t._v("这样的代码，另外使用几个 assert(a.sharp == (5, 1))以保证没有写错，还有我们要敢于使用 a.resharp(1, 5)以保证生成的是你想要形状的矩阵")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-17-quick-tour-of-jupyter-ipython-notebooks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-17-quick-tour-of-jupyter-ipython-notebooks"}},[t._v("#")]),t._v(" 1.2.17 Quick tour of Jupyter/iPython Notebooks")]),t._v(" "),i("p",[i("s",[t._v("emmmmm，我选择暂时不安装，我还是更喜欢原生的 pyshell（idle）")])]),t._v(" "),i("h4",{attrs:{id:"_1-2-18-explanation-of-logistic-regression-cost-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-18-explanation-of-logistic-regression-cost-function"}},[t._v("#")]),t._v(" 1.2.18 Explanation of logistic regression cost function")]),t._v(" "),i("ol",[i("li",[t._v("我们使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("来输入 x 时表示 y=1 的概率，那么，我们可以得出这样的一组式子：\n"),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("p")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p(y|x) = \\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v(" if y = 1")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("p")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p(y|x) = 1-\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v(" if y = 0")],1)])],1)]),t._v(" "),i("p",[t._v("哦，p(y|x)是什么鬼，让我们回忆下概率的知识，很容易猜出来这是在 x 的前提下 y 的概率，也就是刚刚说的输入 x 时 y 的概率，那就很明了了")]),t._v(" "),i("ol",{attrs:{start:"2"}},[i("li",[t._v("我们将这两个式子写在一起"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("p")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mi",[t._v("y")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p(y|x) = \\hat{y}^y(1-\\hat{y})^{(1-y)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("，我们不需要知道为什么这样写，我们只需要知道这样是对的，仔细看看，对吧？")],1),t._v(" "),i("li",[t._v("因为我们的损失函数更多的是关注整体的求导之后的方向性（梯度下降最大的方向），我们使用 log 这个严格递增的函数加在刚推出来的概率上，得到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("p")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("y")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("log(p(y|x))=ylog\\hat{y}+(1-y)log(1-\\hat{y})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，这个就是我们前面提到的损失函数的相反数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("−")]),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("-L(\\hat{y},y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("。嗯？为什么带个负号？哦我们分别来看，前面我们的"),i("strong",[t._v("损失函数是什么呢，是计算预测值与实际输出的一个差")]),t._v("，我们想要这个值尽量的小，我们再看看"),i("strong",[t._v("这里的这个，去掉 log 可是预测满足实际输出的概率")]),t._v("啊，我们当然希望这个值尽量地大，那么这其中的逻辑与关系便可以解释地清楚了")],1),t._v(" "),i("li",[t._v("刚刚我们推的是单样本的损失函数，这次我们求整个样本集的成本函数，"),i("strong",[t._v("根据最大似然估计法，我们已经出现的这个样本集所对应的概率应当是在该情况下出现概率最大的情况")]),t._v("，我们将所有样本的概率乘在一起，然后一样地取 log，这样的话，你会发现每一项都是刚刚所说的损失函数的相反数，我们把负号拿出去，这里我们要的是它取最大值，就是要去掉负号的那个的最小值，这不正是我们想要的成本函数嘛……然后我们再进行适当的缩放，这并不影响它的结果的我们的成本函数便得到了："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("w")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("m")])],1),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J(w,b)=\\frac{1}{m}\\sum_{i=1}^mL(\\hat{y}^{(i)},y^{(i)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("h3",{attrs:{id:"_1-3-shallow-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-shallow-neural-networks"}},[t._v("#")]),t._v(" 1.3 Shallow neural networks")]),t._v(" "),i("h4",{attrs:{id:"_1-3-1-neural-network-overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-neural-network-overview"}},[t._v("#")]),t._v(" 1.3.1 Neural Network Overview")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("我们已经学习了逻辑回归，现在我们要学习一下神经网络。至于神经网络，简单地说就是让我们上周学习的神经元排列成一个网络……天啊，一个神经元就要写那么多的代码，还要结个网？？？算了不学了不学了！等等，当然这张网是有规律组织起来的我们先看一下这张网长什么样子：")]),t._v(" "),i("p",[i("img",{attrs:{src:a(296),alt:"DeepLearning04"}})])]),t._v(" "),i("li",[i("p",[t._v("emmmmm，原来我们还只有一个圈圈，现在一下子变这么多了，不学了，别拦我(╯>д<)╯")])]),t._v(" "),i("li",[i("p",[t._v("（偷眼瞧）貌似理解错了，我们原来做的貌似不止这么一个圈圈，我们原来的貌似是去掉了中间这四个圈圈的东西，现在的话，貌似只加上了这么一”层“而已，诶呀，这么说我就放心啦")])]),t._v(" "),i("li",[i("p",[t._v("多了一层会有什么后果呢？事实上我们在每个圈圈的位置都使用 w 和 b 对左侧输入进行变换，然后加上激活函数，最左面到中间的一层圈圈这样，中间一层圈圈到最右面一层（个）圈圈也是这样")])]),t._v(" "),i("li",[i("p",[t._v("那么中间这 4 个圈圈怎么计算呢，我们只做过 n 个输入到 1 个输出的情况呀。我们先只看一个圈圈，它经过 w 和 b 会得到一个值，后面几个圈圈也是这样呀，不过对他们处理的 w 和 b 是不一样的，我们使用下标进行区分，我们已经学过了怎么使用矩阵组织多维数据，那么这里我们可以很方便地将各个 w 组织起来")])]),t._v(" "),i("li",[i("p",[t._v("先讲到这里啦，不然下节课没得讲了(～￣ ▽ ￣)～")])])]),t._v(" "),i("h4",{attrs:{id:"_1-3-2-neural-network-representation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-neural-network-representation"}},[t._v("#")]),t._v(" 1.3.2 Neural Network Representation")]),t._v(" "),i("ol",[i("li",[t._v("现在讲讲层与层之间的关系，我们学过了相邻两层之间的关系，也就是说知道了 0-1 和 1-2 的方法，那么还需要知道更多吗？")]),t._v(" "),i("li",[t._v("哦，我只想说没了，有的话，就是记得上标（带中括号的小数字）代表层数，输入层一般不算作一层，或者叫第 0 层"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mrow"),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("^{[0]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span"),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("li",[t._v("现在我们梳理一下各层的维度吧，以便更加直观地理解各层之间的关系：")])]),t._v(" "),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v("("),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[0]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(") | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(n^{[0]}, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (3, 1)\n"),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(n^{[1]}, n^{[0]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (4, 3)")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(n^{[1]}, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (4, 1)")],1)])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(n^{[1]}, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (4, 1)\n"),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[2]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1, n^{[1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (1, 4)")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[2]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (1, 1)")],1)])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("("),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[2]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(") | "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" eg. (1, 1)")],1)]),t._v(" "),i("p",[t._v("大概的看一下，我们可以发现，现在满足"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("W")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[i]}=\\sigma(Wa^{[i-1]}+b^{[i]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，而原来每个式子应该是满足"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[i]}=\\sigma(w^Ta^{[i-1]}+b^{[i]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，貌似差了一个转置，为啥呢？下节就可以知道了")],1),t._v(" "),i("h4",{attrs:{id:"_1-3-3-computing-a-neural-network-s-output"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-computing-a-neural-network-s-output"}},[t._v("#")]),t._v(" 1.3.3 Computing a Neural Network's output")]),t._v(" "),i("ol",[i("li",[t._v("嗯，我们先将我们以前的式子列出来"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[i]}=w^Ta^{[i-1]}+b^{[i]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，不要管 i，现在只看某两层之间的关系，那么我们可以通过加下标的方式用以区分各个结点，我们很容易写出来这样的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n^{[i]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("个式子，我们将它按行组织起来，就形成了"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[i]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("了呀，哦上节里面的转置便是差在了这里，W 本来就是将 w 的转置组织起来的，自然不需要再转置。")],1),t._v(" "),i("li",[t._v("很明显，我们已经在上节把需要推的推出来了，不过当前仅仅针对一次训练数据，我们再看看如何组织数据使得一次可以支持整个训练集的训练")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-4-vectorizing-across-multiple-examples"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-vectorizing-across-multiple-examples"}},[t._v("#")]),t._v(" 1.3.4 Vectorizing across multiple examples")]),t._v(" "),i("ol",[i("li",[t._v("和之前一样的，我们用列组织训练集的数据，每一列是一次训练数据，我们在上标上加一个带括号的数字来表示这是第几次训练，比如"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mrow"),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("3")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("^{(3)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span"),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("3")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("代表第三次训练")],1),t._v(" "),i("li",[t._v("需要我们组织的有哪些数据呢，首先就是输入的 x，它会被组织成 X，相应地，输出项 y 会被组织成 Y，哦，我们还有考虑中间项，比如 z、a，事实上我们只有 z 和 a，x 和 y 均可以用 a 来表示")]),t._v(" "),i("li",[t._v("我们再看看刚刚我们组织的 A 和 Z，他们各个位置上分别代表什么呢？\n"),i("ul",[i("li",[t._v("从左到右是按列组织的训练集各项，他们用右上角"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mrow"),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span"),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("来区分")],1),t._v(" "),i("li",[t._v("从上到下是各个特征的输入或输出，相关于特征个数 n，他们用右上角"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mrow"),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("^{[i]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span"),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("来区分")],1)])])]),t._v(" "),i("h4",{attrs:{id:"_1-3-5-justification-for-vectorized-implementation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-5-justification-for-vectorized-implementation"}},[t._v("#")]),t._v(" 1.3.5 Justification for vectorized implementation")]),t._v(" "),i("ol",[i("li",[t._v("前面我们已经在每一节课都认真地分析了总的训练集数据如何组织与为何这样组织，所以这节课可以说是非常轻松了")]),t._v(" "),i("li",[t._v("我们将"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^T")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])]),t._v("按行组织成一个矩阵，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v("等训练数据按列组织成一个矩阵，至于为什么，我们应该已经很清楚了，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("中的一行对应于一个输出结点，与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("X")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")])])])])]),t._v("中的一列相乘自然就得到了一个输出结点的一次输出数据，我们将此行和此列横向平移和纵向平移，那么我们得到的数据自然就组成了一个矩阵，这个矩阵各个位置分别是啥，前面已经说过")],1),t._v(" "),i("li",[t._v("最后我们再通过 Python 的广播机制加一个 b，就完成了")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-6-activation-functions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-6-activation-functions"}},[t._v("#")]),t._v(" 1.3.6 Activation functions")]),t._v(" "),i("ol",[i("li",[t._v("我们之前只用过 sigmoid 函数，但是事实上 sigmoid 函数很少使用的，相对来说 tanh 函数几乎总是比它表现的好，虽然 tanh 只是 sigmoid 向下平移变换就可以得来，但是 tanh 平均值是 0 而不是 0.5，这使得数据可以直接中心化")]),t._v(" "),i("li",[t._v("但是有一个例外情况，就是二分类，它最终需要一个 0~1 的值，而 sigmoid 函数本身就是 0~1 的值，所以我们可以用它作为输出层激活函数，而隐藏层往往使用别的激活函数")]),t._v(" "),i("li",[t._v("另外我们之前有介绍过 ReLu 函数，这是一个很好的激活函数，我们更多情况都是使用这个激活函数")]),t._v(" "),i("li",[t._v("除 ReLu 函数还有一个 Leaky ReLu 函数，不过它并不是特别的常用")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-7-why-need-a-nonlinear-activation-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-7-why-need-a-nonlinear-activation-function"}},[t._v("#")]),t._v(" 1.3.7 why need a nonlinear activation function?")]),t._v(" "),i("p",[t._v("为什么需要这么一个非线性的激活函数呢？课上已经说得很明白了，如果使用线性激活函数那么多层神经网络都可以看成一层神经网络了，所以我们不会在隐层上使用线性激活函数，不过输出层的话是可以考虑的")]),t._v(" "),i("h4",{attrs:{id:"_1-3-8-derivatives-of-activation-functions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-8-derivatives-of-activation-functions"}},[t._v("#")]),t._v(" 1.3.8 Derivatives of activation functions")]),t._v(" "),i("p",[t._v("要用梯度下降法算反向传播的话，就一定要计算激活函数的导数咯")]),t._v(" "),i("ol",[i("li",[t._v("sigmoid："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a(1-a)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[t._v("tanh："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("a")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1-a^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])])],1),t._v(" "),i("li",[t._v("ReLU：就是简单的分段函数，因为 0 处不可微，所以可以归到大于 0 或者小于 0 里面")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-9-gradient-descent-for-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-9-gradient-descent-for-neural-networks"}},[t._v("#")]),t._v(" 1.3.9 Gradient descent for neural networks")]),t._v(" "),i("p",[t._v("propagation：")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mi",[t._v("x")]),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Z^{[1]}=W^{[1]}x+b^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A^{[1]}=\\sigma(Z^{[1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Z^{[2]}=W^{[2]}A^{[1]}+b^{[2]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A^{[2]}=\\sigma(Z^{[2]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("p",[t._v("back propagation：")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("Y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dZ^{[2]}=A^{[2]}-Y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mi",[t._v("T")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dW^{[2]}=\\frac{1}{m}dZ^{[2]}A^{[1]T}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("u")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("a")]),i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")]),i("mi",[t._v("e")]),i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("d")]),i("mi",[t._v("i")]),i("mi",[t._v("m")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("u")]),i("mi",[t._v("e")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("db^{[2]}=\\frac{1}{m}np.sum(dZ^{[2]},axis=1,keepdims=True)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mi",[t._v("T")])],1)],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("∗")]),i("msup",[i("mi",[t._v("g")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dZ^{[1]}=W^{[2]T}dZ^{[2]}*g^{[1]'}(Z^{[1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("∗")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.19248em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.94248em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8278285714285715em"}},[i("span",{staticStyle:{top:"-2.931em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" # 这里是逐元素相乘")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("X")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dW^{[1]}=\\frac{1}{m}dZ^{[1]}X^{T}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("u")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("a")]),i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")]),i("mi",[t._v("e")]),i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("d")]),i("mi",[t._v("i")]),i("mi",[t._v("m")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("u")]),i("mi",[t._v("e")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("db^{[1]}=\\frac{1}{m}np.sum(dZ^{[1]},axis=1,keepdims=True)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("p",[t._v("这里先把我们需要的公式都列出来了，至于为什么，下节课再说（事实上我们每节课都有思索过这些问题，大致上已经知道了），有几点注意的如下：")]),t._v(" "),i("ol",[i("li",[t._v("axis=1 表示水平相加求和，db 自然是使用水平相加将所有样本数据加和")]),t._v(" "),i("li",[t._v("keepdims 是防止 Python 输出那些古怪的秩数为 1 的矩阵")]),t._v(" "),i("li",[t._v("为了防止 Python 输出古怪的矩阵，可以显示调用 reshape")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-10-backpropagation-intuition"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-10-backpropagation-intuition"}},[t._v("#")]),t._v(" 1.3.10 Backpropagation intuition")]),t._v(" "),i("p",[t._v("没什么，有几个值得注意的地方")]),t._v(" "),i("ol",[i("li",[t._v("反向传播公式 2 和 5 使用的是 X 的转置，那是因为我们当初一层时候使用的是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("w")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("X")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("z")]),i("mi",[t._v("T")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw=\\frac{1}{m}Xdz^T")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])]),t._v("现在的 W 是 dw 的转置组织起来的，自然要转置咯")],1),t._v(" "),i("li",[t._v("反向传播的时候我们可以通过增加对维度的判断（assert 等），以消除 bug")]),t._v(" "),i("li",[t._v("输出层的梯度是用梯度下降法计算得来的，之后的每层都是根据 W 分配得来")])]),t._v(" "),i("h4",{attrs:{id:"_1-3-11-random-initialization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-11-random-initialization"}},[t._v("#")]),t._v(" 1.3.11 Random+Initialization")]),t._v(" "),i("ol",[i("li",[t._v("如果使用全零初始化权重，那么每次反向传播的值将会均匀的分配到每个隐藏单元对应的权重上，再多的隐藏单元也只相当于一个隐藏单元")]),t._v(" "),i("li",[t._v("我们可以使用随机初始化的权重以保证不会出现上面的情况，另外 b 是可以初始化为 0 的，因为梯度的分配与 W 有关，随机的 W 便可使 b 每次反向传播得到的不相同")]),t._v(" "),i("li",[t._v("我们可以这么初始化权重："),i("code",[t._v("w = np.random.rand(2, 2) * 0.01")]),t._v("，咦，为什么有这么个 0.01，哦，原来是防止太大的初始值使得像 tanh 和 sigmoid 激活函数饱和，梯度太小")])]),t._v(" "),i("h3",{attrs:{id:"_1-4-deep-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-deep-neural-networks"}},[t._v("#")]),t._v(" 1.4 Deep Neural Networks")]),t._v(" "),i("h4",{attrs:{id:"_1-4-1-deep-l-layer-neural-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-deep-l-layer-neural-network"}},[t._v("#")]),t._v(" 1.4.1 Deep L-layer neural network")]),t._v(" "),i("ol",[i("li",[t._v("我们用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("l")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])])]),t._v(" 表示层数索引")],1),t._v(" "),i("li",[t._v("其他的前面提到过，没啥可说的（我发现 1.3.2 那次整理真的很有必要啊，整理之后后面基本都是浏览而过了）")])]),t._v(" "),i("h4",{attrs:{id:"_1-4-2-forward-and-backward-propagation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-forward-and-backward-propagation"}},[t._v("#")]),t._v(" 1.4.2 Forward and backward propagation")]),t._v(" "),i("p",[t._v("我们很容易得到前向传播和反向传播的关系式，或者说，我们已经在 1.3.9 写的很明白了这里 copy 一下吧：\npropagation：")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v("⋅")]),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Z^{[l]}=W^{[l]}·A^{[l-1]}+b^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v("⋅")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("g")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A^{[1]}=g^{[l]}(Z^{[1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("p",[t._v("back propagation：")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mi",[t._v("T")])],1)],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("∗")]),i("msup",[i("mi",[t._v("g")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dZ^{[l]}=W^{[l]T}dZ^{[l]}*g^{[l]'}(Z^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("∗")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.19248em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.94248em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8278285714285715em"}},[i("span",{staticStyle:{top:"-2.931em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" # 这里是逐元素相乘")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mi",[t._v("T")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dW^{[l]}=\\frac{1}{m}dZ^{[l]}A^{[l-1]T}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("u")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("a")]),i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")]),i("mi",[t._v("e")]),i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("d")]),i("mi",[t._v("i")]),i("mi",[t._v("m")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("u")]),i("mi",[t._v("e")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("db^{[l]}=\\frac{1}{m}np.sum(dZ^{[l]},axis=1,keepdims=True)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mi",[t._v("T")])],1)],1),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("Z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dA^{[l-1]}=W^{[l]T}dZ^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1)]),t._v(" "),i("ul",[i("li",[t._v("前向传播的时候可以将 Z 和 A 缓存起来以便后向传播使用")])]),t._v(" "),i("p",[t._v("上周作业已经将这个实现……（因为参考链接根本不告诉我作业题里哪些是要自己写的，哪些是直接给出的，我又最讨厌 copy 源代码，只好边看边加功能）")]),t._v(" "),i("h4",{attrs:{id:"_1-4-3-forward-propagation-in-a-deep-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-forward-propagation-in-a-deep-network"}},[t._v("#")]),t._v(" 1.4.3 Forward propagation in a Deep Network")]),t._v(" "),i("p",[t._v("emmmm 貌似没啥，到时候用 for 循环组织各层就好")]),t._v(" "),i("h4",{attrs:{id:"_1-4-4-getting-your-matrix-dimensions-right"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-4-getting-your-matrix-dimensions-right"}},[t._v("#")]),t._v(" 1.4.4 Getting your matrix dimensions right")]),t._v(" "),i("p",[t._v("维度：")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")]),i("mo",[t._v(":")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W:(n^{[l]}, n^{[l-1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")]),i("mo",[t._v(":")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b:(n^{[l]}, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" # Python 广播可以自动扩展")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("Z")]),i("mi",[t._v("A")]),i("mo",[t._v(":")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("m")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Z A:(n^{[l]}, m)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("Z")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("h4",{attrs:{id:"_1-4-5-why-deep-representations"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-5-why-deep-representations"}},[t._v("#")]),t._v(" 1.4.5 Why deep representations?")]),t._v(" "),i("ol",[i("li",[t._v("深度神经网络是一个从具体到抽象的过程")]),t._v(" "),i("li",[t._v("用人脸识别举例：比如说我们第零层是输入的特征，经过一层 W 的变换后自然得到了一些基本的线这样微小的，而且线性的特征，然后经过一层激活函数，继续传递到下一层，很明显，这一层可以得到上一层的不同组合了，可能我们得到了曲线，当层数不断提高，它所描述的特征越来越复杂，可能某一层已经足够描述某一器官比如鼻子的形状，某一层已经能表征出人脸的大概形状……")]),t._v(" "),i("li",[t._v("用声音识别举例：还是一样，最开始可能只能识别声调高低，之后某层可能识别音位，再之后某层可能已经可以识别单词，最后直到完整的句子")]),t._v(" "),i("li",[t._v("另外至于为什么层数多之后可以很有效地解决某些问题，可以参考电路理论，如果实现同样功能的神经网络，隐藏单元的数量可能成指数倍增长，反过来说就是，很多情况下，深层神经网络会比浅层神经网络好的多")])]),t._v(" "),i("h4",{attrs:{id:"_1-4-6-building-blocks-of-deep-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-6-building-blocks-of-deep-neural-networks"}},[t._v("#")]),t._v(" 1.4.6 Building blocks of deep neural networks")]),t._v(" "),i("p",[t._v("我们从"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\hat{y}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])])])])])]),t._v("得到 cost 等信息，然后利用 cost function 的导数计算反向传播梯度下降的的值，也就是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dA^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，之后，根据前面 1.4.2 的公式就好，另外"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dA^{[0]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("算不算都可以，是个没用的值")],1),t._v(" "),i("h4",{attrs:{id:"_1-4-7-parameters-vs-hyperparameters"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-7-parameters-vs-hyperparameters"}},[t._v("#")]),t._v(" 1.4.7 Parameters vs Hyperparameters")]),t._v(" "),i("ol",[i("li",[t._v("超参数就是那些控制了我们最终需要的 W、b 的参数，比如学习率、梯度下降法循环的数量、隐藏层的数目、隐藏层单元数目、激活函数的选择，之后我们还会遇到更多")]),t._v(" "),i("li",[t._v("如何选择呢？我们要不断尝试与观察，看最后得到的 J 是否有下降，如此迭代以找到最合适的超参数")]),t._v(" "),i("li",[t._v("另外一个很重要的就是直觉，这当然是要反复尝试锻炼的啦")])]),t._v(" "),i("h4",{attrs:{id:"_1-4-8-what-does-this-have-to-do-with-the-brain"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-8-what-does-this-have-to-do-with-the-brain"}},[t._v("#")]),t._v(" 1.4.8 What does this have to do with the brain?")]),t._v(" "),i("p",[t._v("关系？也许当初是模拟神经元所做的吧，但是神经元绝对比这复杂多了，也许这样真的可以模拟出来大脑，也许根本不一样。总之，深度学习可以达到大脑的效果绝对是夸大的说法，至少，现在是这样的")]),t._v(" "),i("h2",{attrs:{id:"_2-improving-deep-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-improving-deep-neural-networks"}},[t._v("#")]),t._v(" 2 Improving Deep Neural Networks")]),t._v(" "),i("h3",{attrs:{id:"_2-1-practical-aspects-of-deep-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-practical-aspects-of-deep-learning"}},[t._v("#")]),t._v(" 2.1 Practical aspects of Deep Learning")]),t._v(" "),i("h4",{attrs:{id:"_2-1-1-train-dev-test-sets"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-train-dev-test-sets"}},[t._v("#")]),t._v(" 2.1.1 Train / Dev / Test sets")]),t._v(" "),i("ol",[i("li",[t._v("超参数的优化是一个反复迭代的过程，即便一个领域的人才，对这个领域有着丰富的经验，到了另外一个领域仍然需要这个过程")]),t._v(" "),i("li",[t._v("事实上，这个优化过程更取决于数据集、计算机配置等因素")]),t._v(" "),i("li",[t._v("我们大多数情况下将数据分为三部分\n"),i("ul",[i("li",[t._v("训练集（training set） 用于训练")]),t._v(" "),i("li",[t._v("验证集（dev set） 根据训练集得到的模型在验证集上的表现调优超参数，直至在该验证集验证下误差达到最小")]),t._v(" "),i("li",[t._v("测试集（test set） 用于评估最终确定的模型的精确度（泛化能力）")])])])]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("p",[t._v("为什么要分成这么三份？我们来考虑下以下几种情况：")]),t._v(" "),i("ol",[i("li",[t._v("一整个 training set ，很明显不可取，因为这样的话可能最终模型只拟合了 training set 这些数据")]),t._v(" "),i("li",[t._v("training set + test set 由于超参数是用 test set 拟合的，所以很可能会出现对 test set 过拟合的现象")]),t._v(" "),i("li",[t._v("而再用一组在训练过程中从未“触碰”过的数据来验证就可以更好地证明模型的正确性")])]),t._v(" "),i("p",[t._v("另外，可以对 training set 进行分组，每次取一部分作为 dev set ，这叫做交叉验证，尽管这是一个很好的方法，但是由于训练往往是很耗时的，所以这种方法并不常用")]),t._v(" "),i("p",[t._v("还有一点一定要注意的是，收集数据后尽量将它打乱，如果说将最开始收集到的数据作为 training set ，后收集到的数据作为 test set 的话，很明显这并不满足同分布")])]),t._v(" "),i("ol",{attrs:{start:"4"}},[i("li",[t._v("小数据量的情况下需要分配很大比例的数据用于测试，但是在当今的大数据时代，这样的做法属实是没太大的必要了，我们完全可以拿出更小的部分用以验证")]),t._v(" "),i("li",[t._v("训练集和验证集要确保来自同一分布")]),t._v(" "),i("li",[t._v("测试集并不是必要的，因为它只是对最终所选定的神经网络做出无偏评估")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-2-bias-variance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-bias-variance"}},[t._v("#")]),t._v(" 2.1.2 Bias /Variance")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("偏差？方差？有区别吗？如果就数学概念而言的话，感觉这两个提不到一块去，不过也确实，他们一个评估的是预测模型，一个评估的是样本数据，但是在 ML 这里我们会经常见到他们的")])]),t._v(" "),i("li",[i("p",[t._v("让我们看下偏差方差与我们训练模型有着什么样的关系：")]),t._v(" "),i("p",[i("img",{attrs:{src:a(297),alt:"DeepLearning05"}})])]),t._v(" "),i("li",[i("p",[t._v("我们再用举一个简单的例子，这次就和实际操作有点联系了：")])])]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",[t._v("Train Set Error")]),t._v(" "),i("th",[t._v("Dev Set Error")]),t._v(" "),i("th")])]),t._v(" "),i("tbody",[i("tr",[i("td",[t._v("1%")]),t._v(" "),i("td",[t._v("11%")]),t._v(" "),i("td",[t._v("高偏差")])]),t._v(" "),i("tr",[i("td",[t._v("15%")]),t._v(" "),i("td",[t._v("16%")]),t._v(" "),i("td",[t._v("高偏差")])]),t._v(" "),i("tr",[i("td",[t._v("15%")]),t._v(" "),i("td",[t._v("30%")]),t._v(" "),i("td",[t._v("高偏差+高方差")])]),t._v(" "),i("tr",[i("td",[t._v("0.5%")]),t._v(" "),i("td",[t._v("1%")]),t._v(" "),i("td",[t._v("低偏差+低方差")])])])]),t._v(" "),i("ol",{attrs:{start:"4"}},[i("li",[t._v("不过偏差与方差也是相对的，前面的假设是基于我们判断的误差接近于 0%的前提下而言的，这里称为"),i("strong",[t._v("最优误差")]),t._v("或者"),i("strong",[t._v("贝叶斯误差")]),t._v("。但如果，贝叶斯误差比较高，比如说 15%，此时再看上面的第二个模型，可以说方差与偏差都不高，算是比较合理的了")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-3-basic-recipe-for-machine-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-basic-recipe-for-machine-learning"}},[t._v("#")]),t._v(" 2.1.3 Basic Recipe for Machine Learning")]),t._v(" "),i("p",[t._v("那么有误差和方差的时候怎么调整呢？")]),t._v(" "),i("ol",[i("li",[t._v("先看"),i("strong",[t._v("偏差")]),t._v("高不？高的话试试选择"),i("strong",[t._v("新的网络")]),t._v("，比如增加更多"),i("strong",[t._v("隐藏层或者隐藏单元")]),t._v("的网络，或者花费"),i("strong",[t._v("更多时间")]),t._v("来训练网络")]),t._v(" "),i("li",[t._v("当偏差降低到可以接受的数值时，我们利用验证集检查一下"),i("strong",[t._v("方差")]),t._v("是否有问题，如果方差较高，最好的解决方案就是采用"),i("strong",[t._v("更多数据")]),t._v("，当然这有点难度，因此我们也可以通过尝试"),i("strong",[t._v("正则化")]),t._v("来减少过拟合，如果可以找到合适的神经网络框架，有时是可以一箭双雕，同时减少方差和误差的，不过这个过程没有什么捷径了，就是反复的重复尝试……")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-4-regularization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-regularization"}},[t._v("#")]),t._v(" 2.1.4 Regularization")]),t._v(" "),i("p",[t._v("好难 QAQ")]),t._v(" "),i("ol",[i("li",[t._v("想解决"),i("strong",[t._v("过拟合")]),t._v("问题嘛，大概就需要准备"),i("strong",[t._v("更多数据")]),t._v("或者"),i("strong",[t._v("正则化")]),t._v("了，但是我们往往没有获取更多的数据的条件，所以我们可以尝试使用正则化避免过拟合或减少网络误差")]),t._v(" "),i("li",[t._v("我们这里在成本函数 J 上增加一个正则化参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("λ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lambda")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("λ")])])])])]),t._v("，因为 b 的维度较低，我们完全可以不对它进行正则化")],1),t._v(" "),i("li",[t._v("我们通常使用 L2 正则化，它是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mi",[t._v("λ")]),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("m")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{\\lambda}{2m}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2251079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("乘上"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("范数的平方，也就是每个元素平方之和，可以表示为"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mi",[t._v("T")])],1),i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^Tw")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8413309999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")])])])])])])])]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])])],1),t._v(" "),i("li",[t._v("而 L1 正则化则是使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mi",[t._v("λ")]),i("mi",[t._v("m")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{\\lambda}{m}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2251079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("乘上"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msub",[i("mi",[t._v("n")]),i("mi",[t._v("x")])],1)],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("w")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sum_{j=1}^{n_x}|w|")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.24011em","vertical-align":"-0.43581800000000004em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.16454285714285719em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.43581800000000004em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mord"},[t._v("∣")])])])])]),t._v("，这样得到的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("将会是系数的，也就是其中会有很多 0，也许这会节省些内存吧，但是这并不是我们所关注的，所以我们没必要因此去使用它")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("a")]),i("mi",[t._v("m")]),i("mi",[t._v("b")]),i("mi",[t._v("d")]),i("mi",[t._v("a")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("lambda")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")])])])])]),t._v("是 Python 中的一个保留字，我么可以使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("a")]),i("mi",[t._v("m")]),i("mi",[t._v("b")]),i("mi",[t._v("d")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("lambd")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")])])])])]),t._v("来代替它")],1),t._v(" "),i("li",[t._v("说这么多，怎么实现呢？我们先写下现在的成本函数："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("n")])],1),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mfrac",[i("mi",[t._v("λ")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("l")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("L")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msubsup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("F")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J(w^{[1]},b^{[1]},...,w^{[2]},b^{[2]})=\\frac{1}{m}\\sum_{i=1}^{n}L(\\hat{y}^{(i)},y^{(i)})+\\frac{\\lambda}{m}\\sum_{l=1}^L||W^{[l]}||_F^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.326231em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.981231em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("L")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.424669em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("F")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.275331em"}},[i("span")])])])])])])])])]),t._v("，该矩阵范数被称作“弗罗贝尼乌斯范数”，用下标 F 标注，嗯，先这么叫好了，那么如何实现梯度下降？？？嗯？这个问题应该问吗？求导呗！")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")]),i("mo",[t._v("+")]),i("mfrac",[i("mi",[t._v("λ")]),i("mi",[t._v("m")])],1),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw^{[l]}=backprop+\\frac{\\lambda}{m}w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，哦，这里的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("backprop")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")])])])])]),t._v("是原来没有正则化的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，然后我们就可以进行梯度递降了")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mfrac",[i("mrow",[i("mi",[t._v("α")]),i("mi",[t._v("λ")])],1),i("mi",[t._v("m")])],1),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")]),i("mo",[t._v("=")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mfrac",[i("mrow",[i("mi",[t._v("α")]),i("mi",[t._v("λ")])],1),i("mi",[t._v("m")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]} = w^{[l]} - \\alpha dw^{[l]} = w^{[l]}-\\frac{\\alpha\\lambda}{m}w^{[l]}-\\alpha backprop = (1-\\frac{\\alpha\\lambda}{m})w^{[l]}-\\alpha backprop")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")])])])])]),t._v("，这样我们就在"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("前加了一个小于 1 的系数，也就是趋向于使"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("更小，因此，L2 正则化也被称为“权重递减”，但是权重减不减什么的并不是我们所关注的，所以我们不必记住这个名字")],1)]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("p",[t._v("正则化使得对模型做的任何事情都尽量减轻模型的复杂度，而不是试图去拟合数据")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-5-why-regularization-reduces-overfitting"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-why-regularization-reduces-overfitting"}},[t._v("#")]),t._v(" 2.1.5 Why regularization reduces overfitting?")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("我们使用 L2 正则化的时候会有参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("λ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lambda")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("λ")])])])])]),t._v("，很明显这个参数越大的话，参数 W 会越来越接近于 0，不过这有什么影响呢？我们直观的感受下")],1)]),t._v(" "),i("li",[i("p",[t._v("这里以激活函数为 tanh 的情况进行举例：")]),t._v(" "),i("p",[i("img",{attrs:{src:a(298),alt:"DeepLearning06"}})]),t._v(" "),i("p",[t._v("我们知道"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]}=W^{[l]}a^{[l-1]}+b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，那么也就是说"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("很小的时候，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("也会很小，那么再计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("时，我们要通过这么一个激活函数对吧，我们可以看到，在激活函数输入很小的时候，它是线性的，而线性的意味着什么呢？再多的隐藏层都可以看做一层，也就是，简化了模型，这就使得模型很可能处于高偏差的状态，然后我们通过减小"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("λ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lambda")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("λ")])])])])]),t._v("，就可以调整到那么一个，合适的、Just right 状态")],1)]),t._v(" "),i("li",[i("p",[t._v("应用梯度下降的时候一定要记得加上正则化项，这样才能保证梯度下降，否则我们可能只能使得原来的梯度下降，并没有使新的梯度函数下降")])])]),t._v(" "),i("h4",{attrs:{id:"_2-1-6-dropout-regularization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-6-dropout-regularization"}},[t._v("#")]),t._v(" 2.1.6 Dropout Regularization")]),t._v(" "),i("p",[t._v("下面介绍下一种正则化——Dropout（随机失活），这个理解起来相对于 L2 正则化简单得多")]),t._v(" "),i("ol",[i("li",[t._v("我们每次随机地让一部分结点失去作用，比如说以 0.5 的概率，这样会使得我们的神经网络变的更加的简单、规模更小，然后我们用 backprop 方法进行训练")]),t._v(" "),i("li",[t._v("那么如何实现呢？我们最常用的方法是 inverted dropout（反向随机失活），我们使用一个三层（l=3）的网络来举例，我们定义下第三层的 dropout 向量"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("d")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("3")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d^{[3]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("3")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("：\n"),i("code",[t._v("d3 = np.random.rand(a3.shape[0], a3.shape[1]) < keep_prob")]),t._v("\n然后我们看下它时候小于某数，我们称之为 keep-prob，比如 0.5？0.9？它表示保留某个隐藏单元的概率，哦 Python 会把这个变成一个只有 True 和 False 的矩阵，然后怎么用呢？")],1),t._v(" "),i("li",[t._v("下面，我们只需要对 a3 进行一点小小的改变")])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("a3 "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("multiply"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a3"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d3"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# a3 *= d3`")]),t._v("\na3 "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/=")]),t._v(" keep_prob\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br")])]),i("p",[t._v("完了")]),t._v(" "),i("ol",{attrs:{start:"4"}},[i("li",[t._v("上面第一步是让结点随机失活，第二步是让期望值保持原来的水平（否则会损失一部分的）")]),t._v(" "),i("li",[t._v("不过我们测试的时候可不能加上 d 的影响， 不然结果会是一个，随机的结果")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-7-understanding-dropout"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-7-understanding-dropout"}},[t._v("#")]),t._v(" 2.1.7 Understanding Dropout")]),t._v(" "),i("ol",[i("li",[t._v("dropout 使得神经网络不依赖于某个输入单元，不会给他过多的权重，因为它随时有可能被清除")]),t._v(" "),i("li",[t._v("dropout 可以为每一层设置不同的 keep-prob，我们经常为隐藏单元比较多的层设置较小的 keep-prob，以缓和该层的过拟合现象，而过拟合现象不严重的层可以设置为较高的数值，比如 0.9、1.0，1.0 的话就表示该层将全部保留")]),t._v(" "),i("li",[t._v("不过这也带来一个问题就是，我们要调的超参数更多了")]),t._v(" "),i("li",[t._v("我们通常在计算机视觉上使用 dropout")]),t._v(" "),i("li",[t._v("dropout 一大缺点是成本函数 J 不再被明确定义，因为每次都是随机的，我们很难明确的定义 J 使之每次迭代都下降，所以我们可以关闭 dropout，也就是 keep-prob 设为 1，确保 J 单调递减再打开 dropout")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-8-other-regularization-methods"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-8-other-regularization-methods"}},[t._v("#")]),t._v(" 2.1.8 Other regularization methods")]),t._v(" "),i("ol",[i("li",[t._v("数据扩增\n再拿猫的识别举例子，当我们数据不够时，我们可以将猫的图片水平翻转或者转动一定角度、放缩等操作，当然我们要保证他还是一只猫，比如竖直翻转什么的就是有点蠢的操作了")]),t._v(" "),i("li",[t._v("early stopping\n就是在过拟合之前就、停止继续训练了，但是这个缺点也很明显，就是很可能停下来的位置的 J 还是很高，但为了防止过拟合不得不过早停下来")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-9-normalizing-inputs"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-9-normalizing-inputs"}},[t._v("#")]),t._v(" 2.1.9 Normalizing inputs")]),t._v(" "),i("p",[t._v("归一化输入，它包括这么两步：")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("零均值\n"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("μ")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("m")])],1),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mu=\\frac{1}{m}\\sum_{i=1}^{m}x^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")]),i("mo",[t._v("−")]),i("mo",[t._v("=")]),i("mi",[t._v("μ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x-=\\mu")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("归一化方差\n"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("m")])],1),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("∗")]),i("mo",[t._v("∗")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma^2=\\frac{1}{m}\\sum_{i=1}^mx^{(i)}**2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("∗")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("∗")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("/")]),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x/=\\sigma^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("/")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])])],1),t._v(" "),i("p",[i("img",{attrs:{src:a(299),alt:"DeepLearning07"}})])])]),t._v(" "),i("ul",[i("li",[i("p",[t._v("这样我们就得到了一个，均值为 0，方差为 1 的输入特征，当然，我们要对每个输入特征都进行归一化，这样才能让每一个输入都很……嗯……规范……那么有什么好处呢？？？")])]),t._v(" "),i("li",[i("p",[t._v("我们首先看上面第一个“碗”，很明显，这是一个长相很奇怪的代价函数，而且它不是归一化的，如果我们使用梯度下降，那么他将不断地沿着梯度最大（这里体现为“等高线”的法线方向）崎岖的、蜿蜒的路走下去，而且这样我们没办法使用过大的步长（学习率），否则很难到达“终点”")])]),t._v(" "),i("li",[i("p",[t._v("我们再看第二个圆整的“碗”，我们直观上会很喜欢这样的一个碗，因为它很标准，每个方向上都是这样，任何一个初始值都会直接奔向“终点”，这使得 J 的优化会加快很多")])]),t._v(" "),i("li",[i("p",[t._v("另外，我们是在各特征的范围差距比较大时使用这个是非常必要的，如果各输入特征范围相似度比较高，那么我们使用归一化就不是那么重要了")])])]),t._v(" "),i("h4",{attrs:{id:"_2-1-10-vanishing-exploding-gradients"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-10-vanishing-exploding-gradients"}},[t._v("#")]),t._v(" 2.1.10 Vanishing / Exploding gradients")]),t._v(" "),i("p",[t._v("为什么会产生梯度消失和梯度爆炸现象呢？看下面的例子")]),t._v(" "),i("ol",[i("li",[t._v("我们有那么一个"),i("strong",[t._v("层数很多")]),t._v("的，线性激活的矩阵，我们假设每层的参数 w 都是稍稍小于 1 的对角矩阵，b 当 0 处理，嗯，w 只需要稍稍小于 1，当传递到最后一层会是什么情况呢？不用说也能想象得到，那么我们又如何得到梯度优化参数呢？")]),t._v(" "),i("li",[t._v("就是这样的过程，相反地，如果参数 w 稍稍大于 1，那么最后一层的数据将会是爆炸式的")])]),t._v(" "),i("h4",{attrs:{id:"_2-1-11-weight-initialization-for-deep-networksvanishing-exploding-gradients"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-11-weight-initialization-for-deep-networksvanishing-exploding-gradients"}},[t._v("#")]),t._v(" 2.1.11 Weight Initialization for Deep NetworksVanishing / Exploding gradients")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("如果是一个神经元，我们可能不会希望随着输入层数量的增加而产生过高的输出，所以我们也许会希望除以输入层特征的数量")])]),t._v(" "),i("li",[i("p",[t._v("让我们来计算一下，以免看不懂后面的根号是怎么来的")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("然后就算自闭了……")])]),t._v(" "),i("li",[i("p",[t._v("z = wx+"),i("s",[t._v("b")]),t._v(" = "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1),i("msub",[i("mi",[t._v("x")]),i("mn",[t._v("1")])],1),i("mo",[t._v("+")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1),i("msub",[i("mi",[t._v("x")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mo",[t._v("+")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("n")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w_1x_1+w_2x_2+...+w_nx_n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.73333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.73333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("a")]),i("mo",[t._v("=")]),i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("z")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a = \\sigma(z)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("z")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(z)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("n")])],1),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=D(\\sum_{i=1}^nw_ix_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.104002em","vertical-align":"-0.29971000000000003em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("n")])],1),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=\\sum_{i=1}^nD(w_ix_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.104002em","vertical-align":"-0.29971000000000003em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" # 相互独立\n"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("n")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=nD(w_ix_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" # 同分布")],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(w_ix_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("w")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("msubsup",[i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=E(w_i^2x_i^2)-E^2(w_i)E^2(x_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.072772em","vertical-align":"-0.258664em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("w")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=E(w_i^2)E(x_i^2)-E^2(w_i)E^2(x_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.072772em","vertical-align":"-0.258664em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("blockquote",[i("p",[t._v("假设：\n"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v("已经均一化 => "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(x_i)=0,D(x_i)=1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" > "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("是以 0 为均值进行的初始化 => "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(w_i)=0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])])],1)]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=D(w_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("即"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("z")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("n")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(z)=nD(w_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("blockquote",[i("p",[t._v("我们更期望每层得到的方差不会累积增加，维持在“1”这个 Just right 刚刚好（与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(x_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("一样）")],1)]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(w_i)=\\frac{1}{n}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v(" # 根据"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("a")]),i("mi",[t._v("X")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("a")]),i("mn",[t._v("2")])],1),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(aX)=a^2D(X)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("很容易得出，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w_i")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("应每个除"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msqrt",[i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sqrt{n}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.04em","vertical-align":"-0.23972em"}}),i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8002800000000001em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord mathdefault"},[t._v("n")])])]),i("span",{staticStyle:{top:"-2.76028em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.23972em"}},[i("span")])])])])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("完了？？？啊不对，我在算什么啊，下一层可不是 z 哦，下一层是 a 啊，那好说，其实上面的过程是使用线性激活的情况，非线性激活也是一样的步骤啦，下面试着推下 ReLU 作为激活函数的情况")])]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(a)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("n")])],1),i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("mi",[t._v("U")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=D\\{\\sum_{i=1}^nReLU(w_ix_i)\\}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.104002em","vertical-align":"-0.29971000000000003em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("{")]),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v("}")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("n")]),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("mi",[t._v("U")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=nD\\{ReLU(w_ix_i)\\}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("{")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v("}")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("mi",[t._v("U")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D\\{ReLU(w_ix_i)\\}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("{")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v("}")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("msup",[i("mi",[t._v("U")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("mi",[t._v("U")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=E\\{ReLU^2(w_ix_i)\\}-E^2\\{ReLU(w_ix_i)\\}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("{")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v("}")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("{")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[t._v("}")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("w")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("msubsup",[i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=\\frac{1}{2}E(w_i^2x_i^2)+\\frac{1}{2}E(0)-[\\frac{1}{2}E(w_ix_i)+\\frac{1}{2}E(0)]^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("w")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("x")]),i("mi",[t._v("i")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("4")])],1),i("msup",[i("mi",[t._v("E")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("msub",[i("mi",[t._v("x")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=\\frac{1}{2}E(w_i^2)E(x_i^2)-\\frac{1}{4}E^2(w_ix_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.441336em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.258664em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("=\\frac{1}{2}D(w_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mi",[t._v("n")]),i("mn",[t._v("2")])],1),i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(a)=\\frac{n}{2}D(w_i)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.095em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.695392em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("2")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("D(w_i)=\\frac{2}{n}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("就是这样，我们就算出来了 ReLU 的随机初始化方差应该取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("2")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{2}{n}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，也就是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("o")]),i("mi",[t._v("m")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("d")]),i("mi",[t._v("n")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("e")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("∗")]),i("mi",[t._v("n")]),i("mi",[t._v("p")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("q")]),i("mi",[t._v("r")]),i("mi",[t._v("t")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mfrac",[i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[l]}=np.random.randn(shape)*np.sqrt(\\frac{2}{n^{[l-1]}})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("∗")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2305329999999999em","vertical-align":"-0.38542499999999996em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.38542499999999996em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("当然，这是 ReLU 的情况，它是使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msqrt",[i("mfrac",[i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sqrt{\\frac{2}{n^{[l-1]}}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.84em","vertical-align":"-0.6251585em"}}),i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2148415000000001em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3.8em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"1em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.38542499999999996em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-3.1748415em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"1.02em",height:"1.8800000000000001em"}},[i("svg",{attrs:{width:"400em",height:"1.8800000000000001em",viewBox:"0 0 400000 1944",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6251585em"}},[i("span")])])])])])])])]),t._v("，还有其他的激活函数呢，对于 tanh，有人说使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msqrt",[i("mfrac",[i("mn",[t._v("1")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sqrt{\\frac{1}{n^{[l-1]}}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.84em","vertical-align":"-0.6251585em"}}),i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2148415000000001em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3.8em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"1em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.38542499999999996em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-3.1748415em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"1.02em",height:"1.8800000000000001em"}},[i("svg",{attrs:{width:"400em",height:"1.8800000000000001em",viewBox:"0 0 400000 1944",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6251585em"}},[i("span")])])])])])])])]),t._v("，也有人提到使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msqrt",[i("mfrac",[i("mn",[t._v("2")]),i("mrow",[i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("n")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sqrt{\\frac{2}{n^{[l-1]}+n^{[l]}}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.8399999999999999em","vertical-align":"-0.654324em"}}),i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.185676em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3.8em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"1em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.44375599999999993em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-3.145676em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.8em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"1.02em",height:"1.8800000000000001em"}},[i("svg",{attrs:{width:"400em",height:"1.8800000000000001em",viewBox:"0 0 400000 1944",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.654324em"}},[i("span")])])])])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("不过，权重的初始化只是一个起点，这些公式只能给一个好的起点，他们会给出初始化权重矩阵的方差的默认值，如果想增加方差，那么方差会成为另一个超参数，这可以通过在刚才式子上增加一个调优参数实现，但这并不是我们的首要调优参数，所以，我们往往将它的优先级放的比较低。")])]),t._v(" "),i("li",[i("p",[t._v("边复习边算的，很多东西都忘了，可信度不高(～￣ ▽ ￣)～")])])])])]),t._v(" "),i("h4",{attrs:{id:"_2-1-12-numerical-approximation-of-gradients"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-12-numerical-approximation-of-gradients"}},[t._v("#")]),t._v(" 2.1.12 Numerical approximation of gradients")]),t._v(" "),i("p",[t._v("使用导数定义近似估计梯度，首先我们看下单边误差")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow")],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("mfrac",[i("mrow",[i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mi",[t._v("ε")])],1),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("msup",[i("mi",[t._v("ε")]),i("mi",[t._v("k")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("msup",[i("mi",[t._v("ε")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("ε")]),i("mi",[t._v("k")])],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mi",[t._v("k")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("ε")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\n& \\lim \\limits_{\\varepsilon \\to 0} \\frac{\\frac{f(\\theta + \\varepsilon) - f(\\theta)}{\\varepsilon} - f'(\\theta)}{\\varepsilon ^k} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f(\\theta + \\varepsilon) - f(\\theta) - \\varepsilon f'(\\theta)}{\\varepsilon ^{k+1}} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f'(\\theta + \\varepsilon) - f'(\\theta)}{(k+1)\\varepsilon ^k} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f''(\\theta + \\varepsilon)}{k(k+1) \\varepsilon ^{k-1}}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"10.537892em","vertical-align":"-5.018945999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.518946em"}},[i("span",{staticStyle:{top:"-7.518946em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"})]),i("span",{staticStyle:{top:"-5.072946em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])]),i("span",{staticStyle:{top:"-2.6269460000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])]),i("span",{staticStyle:{top:"0.03794599999999848em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.018945999999999em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.518946em"}},[i("span",{staticStyle:{top:"-7.518946em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.745em"}},[i("span",{staticStyle:{top:"-2.324em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2399999999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.745em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-5.072946em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.989em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-2.6269460000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"0.03794599999999848em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.989em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.018945999999999em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("故 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("k-1 = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.77777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 即误差是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("ε")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])])])]),t._v(" 的同阶无穷小")],1),t._v(" "),i("p",[t._v("下面看看双边误差")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow")],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("mfrac",[i("mrow",[i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("ε")])],1)],1),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("msup",[i("mi",[t._v("ε")]),i("mi",[t._v("k")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mn",[t._v("2")]),i("mi",[t._v("ε")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("ε")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("f")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("ε")]),i("mi",[t._v("k")])],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("k")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("ε")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mo",{attrs:{lspace:"0em",rspace:"0em"}},[t._v("=")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("munder",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("ε")]),i("mo",[t._v("→")]),i("mn",[t._v("0")])],1)],1),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")]),i("mo",{attrs:{mathvariant:"normal"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("θ")]),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("k")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("k")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mi",[t._v("ε")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\n& \\lim \\limits_{\\varepsilon \\to 0} \\frac{\\frac{f(\\theta + \\varepsilon) - f(\\theta - \\varepsilon)}{2 \\varepsilon} - f'(\\theta)}{\\varepsilon ^k} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f(\\theta + \\varepsilon) - f(\\theta - \\varepsilon) - 2 \\varepsilon f'(\\theta)}{2 \\varepsilon ^{k+1}} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f'(\\theta + \\varepsilon) + f'(\\theta - \\varepsilon) - 2 f'(\\theta)}{2 (k+1)\\varepsilon ^k} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f''(\\theta + \\varepsilon) - f''(\\theta - \\varepsilon)}{2 k(k+1) \\varepsilon ^{k-1}} \\\\\n=& \\lim \\limits_{\\varepsilon \\to 0} \\frac{f'''(\\theta + \\varepsilon) + f'''(\\theta - \\varepsilon)}{2 (k-1)k(k+1) \\varepsilon ^{k-2}}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"13.202783999999998em","vertical-align":"-6.351392em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"6.851391999999999em"}},[i("span",{staticStyle:{top:"-8.851391999999999em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"})]),i("span",{staticStyle:{top:"-6.405391999999999em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])]),i("span",{staticStyle:{top:"-3.959392em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])]),i("span",{staticStyle:{top:"-1.2945000000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])]),i("span",{staticStyle:{top:"1.3703919999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mrel"},[t._v("=")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"6.351392em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"6.851391999999999em"}},[i("span",{staticStyle:{top:"-8.851391999999999em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.745em"}},[i("span",{staticStyle:{top:"-2.324em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2399999999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.745em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.01em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-6.405391999999999em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.989em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-3.959392em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"-1.2945000000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.989em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"1.3703919999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.745em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-2.382892em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop"},[t._v("lim")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717108em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.428892em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7751079999999999em"}},[i("span",{staticStyle:{top:"-2.989em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")]),i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.936em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"6.351392em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("故 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("−")]),i("mn",[t._v("2")]),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("k-2 = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.77777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 即误差是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("ε")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("ε")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v(" 的同阶无穷小")],1),t._v(" "),i("p",[t._v("也就是说，双边误差比单边误差小，所以我们会用双边误差做梯度检验")]),t._v(" "),i("h4",{attrs:{id:"_2-1-13-gradient-checking"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-13-gradient-checking"}},[t._v("#")]),t._v(" 2.1.13 Gradient checking")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("就是利用刚刚所说的双边误差对 backprop 的梯度进行检验")]),t._v(" "),i("p",[i("img",{attrs:{src:a(300),alt:"DeepLearning09"}})])]),t._v(" "),i("li",[i("p",[t._v("按某种规则用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("θ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])])]),t._v("将所有参数（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1),i("mtext"),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("1")])],1),i("mtext"),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1),i("mtext"),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("2")])],1),i("mtext"),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mtext"),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("n")])],1),i("mtext"),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w_1\\ b_1\\ w_2\\ b_2\\ ...\\ w_n\\ b_n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("）组织起来，嗯，是一个很大的向量，按同样规则用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("θ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])])]),t._v("将所有反向传播参数（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("1")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("2")])],1),i("mtext"),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("n")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw_1\\ db_1\\ dw_2\\ db_2\\ ...\\ dw_n\\ db_n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("）")],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1),i("mo",[t._v("−")]),i("mi",[t._v("ε")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("ε")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta_{approx}[i]=\\frac{J(\\theta_1,\\theta_2,...\\theta_i+\\varepsilon...)-J(\\theta_1,\\theta_2,...\\theta_i-\\varepsilon...)}{2\\varepsilon}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.355em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3280857142857143em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3280857142857143em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mord mtight"},[t._v(".")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，这里的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("ε")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])])])]),t._v("只在"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_i")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("上加，也就是只对"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_i")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("求的偏导（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("J")])],1),i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{\\partial J}{\\partial \\theta_i}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.325208em","vertical-align":"-0.44509999999999994em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.655em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3280857142857143em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.44509999999999994em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，用双边的导数定义近似求解），相应地，因为"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("θ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])])]),t._v("也是这样维度的向量，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta[i]")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mclose"},[t._v("]")])])])])]),t._v("就表示的是我们自己根据反向传播计算的对"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("i")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_i")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("的求导（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("1")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mn",[t._v("2")])],1),i("mtext"),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("n")])],1),i("mtext"),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dw_1\\ db_1\\ dw_2\\ db_2\\ ...\\ dw_n\\ db_n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("都是一步步按反向传播计算出来的，虽然现在按照某种变换改变了，但他们都是对 J 的导数是没有问题的）")],1)]),t._v(" "),i("li",[i("p",[t._v("我们要求"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta_{approx}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("θ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])])]),t._v("，但我们现在只有各个偏导组成的向量，要怎么度量两个向量是否彼此接近呢？我们可以使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",[t._v("−")]),i("mi",[t._v("d")]),i("mi",[t._v("θ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta_{approx}[i]-d\\theta[i]")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mclose"},[t._v("]")])])])])]),t._v("的欧几里得范数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("d")]),i("mi",[t._v("θ")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msub",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("||d\\theta_{approx}-d\\theta||_2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("，然后对向量的长度进行归一化，也就是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("d")]),i("mi",[t._v("θ")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msub",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")]),i("mo",[t._v("+")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("d")]),i("mi",[t._v("θ")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msub",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{||d\\theta_{approx}-d\\theta||_2}{||d\\theta_{approx}||2+||d\\theta||_2}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.5746399999999998em","vertical-align":"-0.5423199999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.03232em"}},[i("span",{staticStyle:{top:"-2.655em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.16454285714285716em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2818857142857143em"}},[i("span")])])])])]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.50732em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.16454285714285716em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2818857142857143em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5423199999999999em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，Python 的话，可以使用 np.linalg.norm(grad)\n来求范数")],1)]),t._v(" "),i("li",[i("p",[t._v("我们看下这个值是否有问题，可以试着将它与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("msup",[i("mn",[t._v("0")]),i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("7")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("10^{-7}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("7")])])])])])])])])])])])])]),t._v("比较一下，一般比它小的话就说明导数很可能是正确的，但如果高于它，很可能是出 bug 了，去调试吧！")],1)])]),t._v(" "),i("h4",{attrs:{id:"_2-1-14-gradient-checking-implementation-notes"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-14-gradient-checking-implementation-notes"}},[t._v("#")]),t._v(" 2.1.14 Gradient Checking Implementation Notes")]),t._v(" "),i("ol",[i("li",[t._v("因为梯度检验真的只是对梯度进行检验，没必要在训练的时候也进行，它只是帮我们调试与排除一个 bug 的方法，对训练本身并没有用处，如果真的在训练的时候使用了的话，很可能会花费大量的时间在上面")]),t._v(" "),i("li",[t._v("梯度检验也可以帮助我们大概地定位 bug 的位置，因为如果某个地方出 bug 了，那附近的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msub",[i("mi",[t._v("θ")]),i("mrow",[i("mi",[t._v("a")]),i("mi",[t._v("p")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta_{approx}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("θ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d\\theta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")])])])])]),t._v("相差的会比较大")],1),t._v(" "),i("li",[t._v("如果使用正则化，那么在梯度检验的时候不要忘了正则项")]),t._v(" "),i("li",[t._v("如果使用 dropout，需要先把 dropout 关闭，然后再进行梯度检验")]),t._v(" "),i("li",[t._v("有的时候会出现这样的情况："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("比较小时，梯度下降是正确的，运行梯度下降的时候，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("会变得更大，会越来越不准确，为了防止出现这种情况，需要在"),i("strong",[t._v("随机初始化过程中运行梯度检验，训练网络一段时间后再运行梯度检验")])],1)]),t._v(" "),i("h3",{attrs:{id:"_2-2-optimization-algorithms"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-optimization-algorithms"}},[t._v("#")]),t._v(" 2.2 Optimization algorithms")]),t._v(" "),i("h4",{attrs:{id:"_2-2-1-mini-batch-gradient-descent"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-mini-batch-gradient-descent"}},[t._v("#")]),t._v(" 2.2.1 Mini-batch gradient descent")]),t._v(" "),i("p",[t._v("Mini-batch？好奇怪的名字，但如果我们把以前的方法称作 batch，Mini-batch 就很好理解了。")]),t._v(" "),i("ol",[i("li",[t._v("batch 每次是使用整个样本集 m 条数据对网络进行训练，但当 m 比较大的时候呢？这时每次训练完整个样本才能进行一次的梯度下降法，效率就会很低")]),t._v(" "),i("li",[t._v("当样本集数量比较大的时候，我们将样本集拆分为一个个的"),i("strong",[t._v("mini-batch")]),t._v("，我们每对一个 mini-batch 使用梯度递法，这样会很有效地加快训练的速度")]),t._v(" "),i("li",[t._v("比如说有 5,000,000 个样本数据，我们可以将"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x^{(1)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1000")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x^{(1000)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("作为第一个 mini-batch，我们把它记作"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("X")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X^{\\{1\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("，同样地，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1001")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x^{(1001)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("2000")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x^{(2000)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("称为"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("X")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X^{\\{2\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("and so on.直到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("X")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mn",[t._v("5000")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X^{\\{5000\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mtight"},[t._v("5")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("，相应的，对 y 也做同样的处理；当然，我们现在需要用一个 for 循环来遍历整个训练集了")],1),t._v(" "),i("li",[t._v("我们现在需要如何计算成本？因为自己规模是 1000，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("1000")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("l")])],1),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J=\\frac{1}{1000}\\sum_{i=1}^lL(\\hat{y}^{(i)},y^{(i)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3340079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9890079999999999em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("，当然，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L(\\hat{y}^{(i)},y^{(i)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("是来自 mini-batch"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("X")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("t")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X^{\\{t\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("Y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("t")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Y^{\\{t\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("中的样本")],1),t._v(" "),i("li",[t._v("如果用到了正则化，可以使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("1000")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("l")])],1),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mfrac",[i("mi",[t._v("λ")]),i("mrow",[i("mn",[t._v("2")]),i("mo",[t._v("⋅")]),i("mn",[t._v("1000")])],1)],1),i("msub",[i("mo",[t._v("∑")]),i("mi",[t._v("l")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",[t._v("ω")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msubsup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("F")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J=\\frac{1}{1000}\\sum_{i=1}^lL(\\hat{y}^{(i)},y^{(i)})+\\frac{\\lambda}{2\\cdot1000}\\sum_l||\\omega^{[l]}||_F^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3340079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9890079999999999em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mbin mtight"},[t._v("⋅")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("λ")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.1863979999999999em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("ω")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-2.424669em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("F")])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.275331em"}},[i("span")])])])])])])])])])],1)]),t._v(" "),i("h4",{attrs:{id:"_2-2-2-understanding-mini-batch-gradient-descent"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-understanding-mini-batch-gradient-descent"}},[t._v("#")]),t._v(" 2.2.2 Understanding mini-batch gradient descent")]),t._v(" "),i("p",[t._v("batch 梯度下降时每次迭代成本都会下降（除非学习率过大导致在最优解处不收敛），但如果是 mini-batch，我们更可能看到的是一个整体趋势减小但噪声很大的成本")]),t._v(" "),i("ol",[i("li",[t._v("我们如果选取 1 作为 mini-batch 的话，噪声会非常非常的大")]),t._v(" "),i("li",[t._v("如果选取 m 作为 mini-batch 也就是 m 的话，也就是 batch 梯度下降法，噪声是小了，但是单次迭代耗时太长")]),t._v(" "),i("li",[t._v("我们通常在样本"),i("strong",[t._v("小于 2000 的时候直接使用 batch 梯度下降法")]),t._v("，"),i("strong",[t._v("如果大于 2000 的时候设 mini-batch 为 64 到 512")]),t._v("，因为考虑到电脑内存的设置和使用方式，我们最好使用这些 2 的 n 次方型数据")]),t._v(" "),i("li",[t._v("最后需要注意的一点是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("X")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("t")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X^{\\{t\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("Y")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("{")]),i("mi",[t._v("t")]),i("mo",{attrs:{stretchy:"false"}},[t._v("}")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Y^{\\{t\\}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("{")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mclose mtight"},[t._v("}")])])])])])])])])])])])])]),t._v("需要符合 CPU/GPU 内存")],1)]),t._v(" "),i("h4",{attrs:{id:"_2-2-3-exponentially-weighted-averages"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-exponentially-weighted-averages"}},[t._v("#")]),t._v(" 2.2.3 Exponentially weighted averages")]),t._v(" "),i("p",[t._v("指数加权平均，也叫指数加权移动平均")]),t._v(" "),i("ol",[i("li",[t._v("首先，我们有这么一堆数据，哦，看起来像一些散点图，那么如何求他们的指数加权平均呢")]),t._v(" "),i("li")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("0")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0.9")]),i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("0")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0.9")]),i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("1")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0.9")]),i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("3")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow")],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("⋯")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mi",[t._v("t")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0.9")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("t")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("t")])],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_0 & = 0 \\\\\nv_1 & = 0.9v_0+0.1\\theta_1 \\\\\nv_1 & = 0.9v_1+0.1\\theta_2 \\\\\nv_1 & = 0.9v_2+0.1\\theta_3 \\\\\n & \\cdots \\\\\nv_t & = 0.9v_{(t-1)}+0.1\\theta_t \\\\\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"9.000000000000002em","vertical-align":"-4.250000000000001em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.750000000000001em"}},[i("span",{staticStyle:{top:"-6.910000000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-5.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.9099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.4099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-0.9099999999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"})]),i("span",{staticStyle:{top:"0.5900000000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.250000000000001em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.750000000000001em"}},[i("span",{staticStyle:{top:"-6.910000000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-5.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.9099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.4099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-0.9099999999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"minner"},[t._v("⋯")])])]),i("span",{staticStyle:{top:"0.5900000000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.34480000000000005em"}},[i("span",{staticStyle:{top:"-2.5198em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3551999999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.250000000000001em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("这里"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("表示第 t 天的数据，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("就是指数加权平均数")],1),t._v(" "),i("li",[t._v("如果我们令这里的 0.9 为"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("，那么我们会得到")],1)]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("0")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mi",[t._v("t")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("t")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("t")])],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_0 & = 0 \\\\\nv_t & = \\beta v_{(t-1)} + (1-\\beta)\\theta_t\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.0000000000000004em","vertical-align":"-1.2500000000000002em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.34480000000000005em"}},[i("span",{staticStyle:{top:"-2.5198em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3551999999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("可以看做最近"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{1}{1-\\beta}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.326216em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("天的平均值")],1)]),t._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("越大每个数值平均的天数越多，曲线越光滑，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("越小每个数值平均的天数越少，故曲线噪声很大")],1)]),t._v(" "),i("h4",{attrs:{id:"_2-2-4-understanding-exponentially-weighted-averages"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-understanding-exponentially-weighted-averages"}},[t._v("#")]),t._v(" 2.2.4 Understanding exponentially weighted averages")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("我们依然使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("=")]),i("mn",[t._v("0.1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta=0.1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v("作为例子")],1),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("100")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0.1")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("100")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("mo",[t._v("×")]),i("mn",[t._v("0.9")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("99")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("mo",[t._v("×")]),i("mn",[t._v("0.")]),i("msup",[i("mn",[t._v("9")]),i("mn",[t._v("2")])],1),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("98")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("mo",[t._v("×")]),i("mn",[t._v("0.")]),i("msup",[i("mn",[t._v("9")]),i("mn",[t._v("3")])],1),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("97")])],1),i("mo",[t._v("+")]),i("mn",[t._v("0.1")]),i("mo",[t._v("×")]),i("mn",[t._v("0.")]),i("msup",[i("mn",[t._v("9")]),i("mn",[t._v("4")])],1),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("96")])],1),i("mo",[t._v("+")]),i("mo",[t._v("⋯")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{100} = 0.1\\theta_{100} + 0.1\\times0.9\\theta_{99} + 0.1\\times0.9^2\\theta_{98} + 0.1\\times0.9^3\\theta_{97} + 0.1\\times0.9^4\\theta_{96} + \\cdots")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("9")]),i("span",{staticClass:"mord mtight"},[t._v("9")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.964108em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("9")]),i("span",{staticClass:"mord mtight"},[t._v("8")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.964108em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("9")]),i("span",{staticClass:"mord mtight"},[t._v("7")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.964108em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("9")]),i("span",{staticClass:"mord mtight"},[t._v("6")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.31em","vertical-align":"0em"}}),i("span",{staticClass:"minner"},[t._v("⋯")])])])])])],1)])]),t._v(" "),i("ul",[i("li",[t._v("将"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("100")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{100}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("展开后很容易看出来这是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("与一个指数函数相乘（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta (1-\\beta)^t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.043556em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7935559999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])])])])])])])])]),t._v("，这里以 100 天为原点，向负方向增长）")],1),t._v(" "),i("li",[t._v("那么为什么是表示最近"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{1}{1-\\beta}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.326216em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("的平均值呢，我们推一下\n"),i("ol",[i("li",[t._v("首先，我们知道"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("是一个 0-1 的数，它更趋近于 1（越趋近于 0 噪声越大，指数加权平均的意义越小）")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("n")]),i("mo",[t._v("→")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∞")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("+")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("x")])],1),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("x")])],1),i("mo",[t._v("=")]),i("mi",[t._v("e")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lim_{n\\rightarrow\\infty} (1+\\frac{1}{x})^x=e")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop"},[t._v("lim")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[t._v("∞")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("e")])])])])]),t._v("，emmm，很基本的极限公式")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("→")]),i("msup",[i("mn",[t._v("1")]),i("mo",[t._v("−")])],1)],1)],1),i("msup",[i("mi",[t._v("β")]),i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")])],1)],1)],1),i("mo",[t._v("=")]),i("msub",[i("mo",[i("mi",[t._v("lim")]),i("mo",[t._v("⁡")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("β")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("→")]),i("msup",[i("mn",[t._v("0")]),i("mo",[t._v("−")])],1)],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("β")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mrow",[i("mo",[t._v("−")]),i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("β")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("e")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lim_{\\beta\\rightarrow1^-}\\beta^{\\frac{1}{1-\\beta}}=\\lim_{(\\beta-1)\\rightarrow0^-}[1+(\\beta-1)]^{-\\frac{1}{(\\beta-1)}} = \\frac{1}{e}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.322898em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop"},[t._v("lim")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.34186500000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7026642857142857em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mbin mtight"},[t._v("−")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0367899999999999em"}},[i("span",{staticStyle:{top:"-3.44577em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen nulldelimiter sizing reset-size3 size6"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8443142857142858em"}},[i("span",{staticStyle:{top:"-2.656em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticStyle:{top:"-3.2255000000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line mtight",staticStyle:{"border-bottom-width":"0.049em"}})]),i("span",{staticStyle:{top:"-3.384em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.48288571428571425em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter sizing reset-size3 size6"})])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.1052em","vertical-align":"-0.3551999999999999em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop"},[t._v("lim")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.34480000000000005em"}},[i("span",{staticStyle:{top:"-2.5198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"mrel mtight"},[t._v("→")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7026642857142857em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mbin mtight"},[t._v("−")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3551999999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.32522em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.07522em"}},[i("span",{staticStyle:{top:"-3.4842000000000004em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen nulldelimiter sizing reset-size3 size6"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8443142857142858em"}},[i("span",{staticStyle:{top:"-2.640785714285714em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])]),i("span",{staticStyle:{top:"-3.2255000000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line mtight",staticStyle:{"border-bottom-width":"0.049em"}})]),i("span",{staticStyle:{top:"-3.384em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5377857142857143em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter sizing reset-size3 size6"})])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1),t._v(" "),i("li",[t._v("也就是说"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{1}{1-\\beta}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.326216em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("天后的权重降低到了"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("⋅")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("e")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1-\\beta)\\cdot\\frac{1}{e}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("⋅")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.190108em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("之下，可以说是一个足够小的值了")],1)])],1)]),t._v(" "),i("ol",{attrs:{start:"2"}},[i("li",[t._v("不过，我们如何计算它呢？")])]),t._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("v = 0\nfor loop{\n    v = beta * v + (1-beta) * theta_t\n}\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br")])]),i("ol",{attrs:{start:"3"}},[i("li",[t._v("由上面的实现方法我们可以知道这种算法很少占用内存，计算的时候只需要读入一个数据并使用计算后的结果覆盖掉原来的数据")])]),t._v(" "),i("h4",{attrs:{id:"_2-2-5-bias-correction-in-exponentially-weighted-averages"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5-bias-correction-in-exponentially-weighted-averages"}},[t._v("#")]),t._v(" 2.2.5 Bias correction in exponentially weighted averages")]),t._v(" "),i("p",[t._v("这里讲下对早期数据偏差大的一个优化方案")]),t._v(" "),i("ol",[i("li",[t._v("很明显，令"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("0")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_0=0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v("的话，起点会有点偏低，这导致前期的数据整体处于一个偏低的趋势，当然，后期数据会逐渐弱化掉前期数据的影响，但如果要考虑前期数据的话，我们需要做一下调整")],1),t._v(" "),i("li",[t._v("其实也没啥，就是令我们原来求得的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("变成"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("msub",[i("mi",[t._v("v")]),i("mi",[t._v("t")])],1),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("β")]),i("mi",[t._v("t")])],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{v_t}{1-\\beta^t}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.1925999999999999em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7114919999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7253428571428571em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.4101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29634285714285713em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v("，那么"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("1")])],1),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("∗")]),i("msub",[i("mi",[t._v("v")]),i("mn",[t._v("0")])],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1)],1),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1)],1)],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_1=\\frac{\\beta*v_0+(1-\\beta)\\theta_1}{1-\\beta^1}=\\theta_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.491108em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.01em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7463142857142857em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.485em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mbin mtight"},[t._v("∗")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31731428571428577em"}},[i("span",{staticStyle:{top:"-2.357em","margin-left":"-0.02778em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.143em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("，嗯，第一个值已经修正到"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("θ")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\theta_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("θ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02778em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("了，那么后期数据呢？当"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("t")]),i("mo",[t._v("→")]),i("mo",[t._v("+")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∞")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t\\rightarrow+\\infty")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("→")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("+")]),i("span",{staticClass:"mord"},[t._v("∞")])])])])]),t._v("时，修正分母趋近于 1，和原曲线是重合的")],1),t._v(" "),i("li",[t._v("注意，是使原来的数据除以"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("β")]),i("mi",[t._v("t")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1-\\beta^t")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9879959999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7935559999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])])])])])])])])]),t._v("进行修正，修正后的数据并不会参与之后的运算，伪码描述大概是这样：")],1)]),t._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[t._v("v = 0\nfor loop{\n    v = beta * v + (1-beta) * theta_t\n}\nv /= 1-beta**t // 注意，不是放在forloop内的哦\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br")])]),i("h4",{attrs:{id:"_2-2-6-gradient-descent-with-momentum"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-6-gradient-descent-with-momentum"}},[t._v("#")]),t._v(" 2.2.6 Gradient descent with Momentum")]),t._v(" "),i("p",[t._v("动量梯度下降法？听着很好玩，让我们来看看到底是个什么东西")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("我们使用梯度递降法的时候经常会遇到这种情况：\n"),i("img",{attrs:{src:a(301),alt:"DeepLearning10"}})]),t._v(" "),i("p",[t._v("每次梯度递降都会不断地波动，指向的方向并不是最终的位置，当然，增大学习率会使得这个现象更加严重")]),t._v(" "),i("p",[t._v("我们更希望图中竖直方向上的波动更小些，水平方向移动更快些，要如何做呢？")])]),t._v(" "),i("li",[i("p",[t._v("我们试试这个方法：")])])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_{dW} & = \\beta v_{dW} + (1-\\beta)dW \\\\\nv_{db} & = \\beta v_{db} + (1-\\beta)db\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.0000000000000004em","vertical-align":"-1.2500000000000002em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("当然，我们后来梯度递降时候也相应地变成了：")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("W")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("b")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nW & = W - \\alpha v_{dW} \\\\\nb & = b - \\alpha v_{db}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.0000000000000004em","vertical-align":"-1.2500000000000002em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[i("p",[t._v("不过这有什么好处呢？很明显，在梯度递降的过程中，由于移动平均值的相互抵消，我们在纵轴方向上的移动变缓了，又由于"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("是不变的，我们水平方向上必然会变快，所以最终得到的曲线会像红线这样：")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(302),alt:"DeepLearning11"}})])])]),t._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[t._v("不过为啥叫动量梯度递降呢？我们可以这样理解：\n"),i("ul",[i("li",[t._v("一个小球从山上向下滚")]),t._v(" "),i("li",[t._v("以"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW} = \\beta v_{dW} + (1-\\beta)dW")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("为例")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("看作是速度，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dW")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("看作是加速度，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("看作一个阻力的系数吧，也可以理解成摩擦力什么的，不过这不太严谨")],1),t._v(" "),i("li",[t._v("很明显，移动平均后的值使得每次梯度递降的部分受到前几次的影响，类似于速度这样的“连续”的物理量，不像单纯的梯度递降法每次都是独立的")])])]),t._v(" "),i("li",[t._v("怎么计算呢？我们现在在梯度递降的过程中有了"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("这两个超参数，嗯，计算方法前面已经写出来了，这里再整理下：")],1)]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("W")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_{dW} & = \\beta v_{dW} + (1-\\beta)dW \\\\\nv_{db} & = \\beta v_{db} + (1-\\beta)db \\\\\nW & = W - \\alpha v_{dW}, b = b - \\alpha v_{db}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"4.500000000000002em","vertical-align":"-2.000000000000001em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.5000000000000004em"}},[i("span",{staticStyle:{top:"-4.66em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.16em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.6599999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.000000000000001em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.5000000000000004em"}},[i("span",{staticStyle:{top:"-4.66em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.16em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])]),i("span",{staticStyle:{top:"-1.6599999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.000000000000001em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("我们经常取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("=")]),i("mn",[t._v("0.9")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta=0.9")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")])])])])])],1),t._v(" "),i("li",[t._v("至于偏差修正，我们很少使用它，因为那只影响前几次，如果取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("=")]),i("mn",[t._v("0.9")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta=0.9")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")])])])])]),t._v("的话，那只影响前十次的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("，所以并没有太大必要去使用它")],1),t._v(" "),i("li",[t._v("有时我们会看到去掉"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1-\\beta)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("的公式，emmm，就是：")],1)]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("W")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_{dW} & = \\beta v_{dW} + dW \\\\\nv_{db} & = \\beta v_{db} + db \\\\\nW & = W - \\alpha v_{dW}, b = b - \\alpha v_{db}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"4.500000000000002em","vertical-align":"-2.000000000000001em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.5000000000000004em"}},[i("span",{staticStyle:{top:"-4.66em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.16em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.6599999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.000000000000001em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.5000000000000004em"}},[i("span",{staticStyle:{top:"-4.66em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.16em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])]),i("span",{staticStyle:{top:"-1.6599999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.000000000000001em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("当然，它的原理还是 Momentum 法，只不过把"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1-\\beta)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("隐藏到后面的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("里了（"),i("strong",[t._v("后面的推导没太大意义，可以略过")]),t._v("），当然其实"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("也是变了的，我们先只看"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dW")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("，把这个式子改写成：")],1),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("W")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("W")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nv_{dW} & = \\beta' v_{dW} + dW \\\\\nW & = W - \\alpha' v_{dW} = W - \\alpha'(\\beta'v_{dW} + dW)\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.0000000000000004em","vertical-align":"-1.2500000000000002em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.7500000000000002em"}},[i("span",{staticStyle:{top:"-3.91em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-2.41em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mclose"},[t._v(")")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.2500000000000002em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("与原来式子相比，我们可以知道：")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("W")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("W")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\alpha'(\\beta'v_{dW} + dW) = \\alpha(\\beta v_{dW} + (1-\\beta)dW)\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.051892em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])])],1),i("p",[t._v("易知：")]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("α")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("β")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mi",[t._v("α")])],1),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("msup",[i("mi",[t._v("β")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("α")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\n\\alpha & = \\alpha'\\beta'+\\alpha' \\\\\n\\beta & = \\frac{\\alpha'\\beta'}{\\alpha} = \\frac{\\alpha'\\beta'}{\\alpha'\\beta'+\\alpha'}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"4.109332em","vertical-align":"-1.804666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.304666em"}},[i("span",{staticStyle:{top:"-4.893558em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428892em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])]),i("span",{staticStyle:{top:"-2.804666em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428892em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.804666em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.304666em"}},[i("span",{staticStyle:{top:"-4.893558em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428892em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.801892em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])]),i("span",{staticStyle:{top:"-2.804666em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428892em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.4288919999999998em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.4288919999999998em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6778919999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6778919999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6778919999999999em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.751892em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8804400000000001em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.804666em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("很明显，原来的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("是可以用现在的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("与"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("表示出来的，当然，这和原来的式子可以说没有任何区别，但是这个式子表意并不如原来的明确")],1),t._v(" "),i("ol",{attrs:{start:"5"}},[i("li",[t._v("当然，我们在 batch 或者 mini-batch 都可以使用 Momentum 的方法")])]),t._v(" "),i("h4",{attrs:{id:"_2-2-7-rmsprop"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-7-rmsprop"}},[t._v("#")]),t._v(" 2.2.7 RMSprop")]),t._v(" "),i("p",[t._v("和 Momentum 的图一样，我们参考那张图下")]),t._v(" "),i("ol",[i("li",[t._v("我们假设横轴代表"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("，纵轴代表"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("，那么我们使用下面的方法试试：")],1)]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("W")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("β")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("b")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("W")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mfrac",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("msqrt",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1)],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mfrac",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("msqrt",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nS_{dW} & = \\beta S_{dW} + (1-\\beta)dW^2 \\\\\nS_{db} & = \\beta S_{db} + (1-\\beta)db^2 \\\\\nW & = W - \\alpha \\frac{dW}{\\sqrt{S_{dW}}}, b = b - \\alpha \\frac{db}{\\sqrt{S_{db}}}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"5.649656em","vertical-align":"-2.574828em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"3.074828em"}},[i("span",{staticStyle:{top:"-5.58216em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-4.058052em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.0266119999999996em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.574828em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"3.074828em"}},[i("span",{staticStyle:{top:"-5.58216em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-4.058052em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-2.0266119999999996em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.3714399999999998em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[i("span",{staticStyle:{top:"-2.2583349999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.851665em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.811665em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.18833500000000003em"}},[i("span")])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.93em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.37144em"}},[i("span",{staticStyle:{top:"-2.2583349999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.851665em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.811665em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.18833500000000003em"}},[i("span")])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.93em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.574828em"}},[i("span")])])])])])])])])])])])],1),i("ol",{attrs:{start:"2"}},[i("li",[t._v("我们直观上这么理解这个方法：\n"),i("ul",[i("li",[t._v("如果纵轴"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("上移动过快，那么"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S_{db}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("会是一个比较大的值，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("梯度下降的梯度下降就会降低，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("也是一样的，这样做就使得某一项移动不会过快，以消除摆动")],1),t._v(" "),i("li",[t._v("当然，这里只是为了简单只考虑了"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("，事实上"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),t._v("也是一个高维度的量，要考虑"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("W")]),i("mn",[t._v("1")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("W")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("W")]),i("mn",[t._v("3")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mo",[t._v("⋯")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W_1, W_2, W_3, \\cdots")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"minner"},[t._v("⋯")])])])])])],1),t._v(" "),i("li",[t._v("为了防止分母为 0，我们经常使用在分母上加一个比较小的值"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("ε")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])])])]),t._v("（通常取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("msup",[i("mn",[t._v("0")]),i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("8")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("10^{-8}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("8")])])])])])])])])])])])])]),t._v("）")],1)])])]),t._v(" "),i("h4",{attrs:{id:"_2-2-8-adam-optimization-algorithm"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-8-adam-optimization-algorithm"}},[t._v("#")]),t._v(" 2.2.8 Adam optimization algorithm")]),t._v(" "),i("p",[t._v("Adam 优化算法，简单的说，这是一个结合了 Momentum 算法和 RMSprop 算法的算法，直接上算法，相信大家也明白")]),t._v(" "),i("ul",[i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("I")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("t")]),i("mi",[t._v("i")]),i("mi",[t._v("a")]),i("mi",[t._v("l")]),i("mi",[t._v("i")]),i("mi",[t._v("z")]),i("mi",[t._v("e")]),i("mo",[t._v(":")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Initialize :")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW} = 0, S_{dW} = 0, v_{db} = 0, S_{db} = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("W")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW} = \\beta_1v_{dW} + (1-\\beta_1)dW, v_{db} = \\beta_1v_{db} + (1-\\beta_1)db")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("W")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("=")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1),i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mo",[t._v("+")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("b")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S_{dW} = \\beta_2v_{dW} + (1-\\beta_2)dW^2, S_{db} = \\beta_2v_{db} + (1-\\beta_2)db^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msubsup",[i("mi",[t._v("β")]),i("mn",[t._v("1")]),i("mi",[t._v("t")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("msub",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msubsup",[i("mi",[t._v("β")]),i("mn",[t._v("1")]),i("mi",[t._v("t")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("v_{dW}^{corrected} = \\frac{v_{dW}}{(1-\\beta_1^t)}, v_{db}^{corrected} = \\frac{v_{db}}{(1-\\beta_1^t)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.132216em","vertical-align":"-0.2831079999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.849108em"}},[i("span",{staticStyle:{top:"-2.4168920000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2831079999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.426068em","vertical-align":"-0.5769599999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717252em"}},[i("span",{staticStyle:{top:"-2.6411000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7841428571428571em"}},[i("span",{staticStyle:{top:"-2.188485714285714em","margin-left":"-0.05278em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31151428571428574em"}},[i("span")])])])])]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.41586em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3448em"}},[i("span",{staticStyle:{top:"-2.3487714285714287em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15122857142857138em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5769599999999999em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.849108em"}},[i("span",{staticStyle:{top:"-2.4168920000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2831079999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.294212em","vertical-align":"-0.5769599999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.717252em"}},[i("span",{staticStyle:{top:"-2.6411000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7841428571428571em"}},[i("span",{staticStyle:{top:"-2.188485714285714em","margin-left":"-0.05278em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31151428571428574em"}},[i("span")])])])])]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.41586em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3448em"}},[i("span",{staticStyle:{top:"-2.3487714285714287em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15122857142857138em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5769599999999999em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msubsup",[i("mi",[t._v("β")]),i("mn",[t._v("2")]),i("mi",[t._v("t")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("msub",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("msubsup",[i("mi",[t._v("β")]),i("mn",[t._v("2")]),i("mi",[t._v("t")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S_{dW}^{corrected} = \\frac{S_{dW}}{(1-\\beta_2^t)}, S_{db}^{corrected} = \\frac{S_{db}}{(1-\\beta_2^t)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.132216em","vertical-align":"-0.2831079999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.849108em"}},[i("span",{staticStyle:{top:"-2.4168920000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2831079999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.4711509999999999em","vertical-align":"-0.5769599999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.894191em"}},[i("span",{staticStyle:{top:"-2.6411000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7841428571428571em"}},[i("span",{staticStyle:{top:"-2.188485714285714em","margin-left":"-0.05278em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31151428571428574em"}},[i("span")])])])])]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.41586em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3448em"}},[i("span",{staticStyle:{top:"-2.3487714285714287em","margin-left":"-0.05764em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15122857142857138em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5769599999999999em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.849108em"}},[i("span",{staticStyle:{top:"-2.4168920000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])]),i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2831079999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.4711509999999999em","vertical-align":"-0.5769599999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.894191em"}},[i("span",{staticStyle:{top:"-2.6411000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7841428571428571em"}},[i("span",{staticStyle:{top:"-2.188485714285714em","margin-left":"-0.05278em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31151428571428574em"}},[i("span")])])])])]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.41586em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3448em"}},[i("span",{staticStyle:{top:"-2.3487714285714287em","margin-left":"-0.05764em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15122857142857138em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.5769599999999999em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1)]),t._v(" "),i("li",[i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("W")]),i("mo",[t._v("=")]),i("mi",[t._v("W")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mfrac",[i("msubsup",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mrow",[i("msqrt",[i("msubsup",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("W")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("b")]),i("mo",[t._v("=")]),i("mi",[t._v("b")]),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mfrac",[i("msubsup",[i("mi",[t._v("v")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1),i("mrow",[i("msqrt",[i("msubsup",[i("mi",[t._v("S")]),i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("b")])],1),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("r")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("d")])],1)],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W = W - \\alpha\\frac{v_{dW}^{corrected}}{\\sqrt{S_{dW}^{corrected}}+\\varepsilon}, b = b - \\alpha\\frac{v_{db}^{corrected}}{\\sqrt{S_{db}^{corrected}}+\\varepsilon}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.9887199999999998em","vertical-align":"-0.8296em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.1591199999999997em"}},[i("span",{staticStyle:{top:"-2.4664025em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord sqrt mtight"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0337107142857143em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3.428571428571429em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428571428571429em"}}),i("span",{staticClass:"mord mtight",staticStyle:{"padding-left":"1.19em"}},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8408285714285715em"}},[i("span",{staticStyle:{top:"-2.1527714285714286em","margin-left":"-0.05764em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3472285714285714em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.0057107142857147em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428571428571429em"}}),i("span",{staticClass:"hide-tail mtight",staticStyle:{"min-width":"0.853em",height:"1.5428571428571431em"}},[i("svg",{attrs:{width:"400em",height:"1.5428571428571431em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.42286071428571437em"}},[i("span")])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.5102em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9270285714285713em"}},[i("span",{staticStyle:{top:"-2.214em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])])]),i("span",{staticStyle:{top:"-2.931em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8296em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.77777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.9887199999999998em","vertical-align":"-0.8296em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.1591199999999997em"}},[i("span",{staticStyle:{top:"-2.4664025em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord sqrt mtight"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0337107142857143em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3.428571428571429em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428571428571429em"}}),i("span",{staticClass:"mord mtight",staticStyle:{"padding-left":"1.19em"}},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8408285714285715em"}},[i("span",{staticStyle:{top:"-2.1527714285714286em","margin-left":"-0.05764em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])]),i("span",{staticStyle:{top:"-2.8448em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3472285714285714em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.0057107142857147em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.428571428571429em"}}),i("span",{staticClass:"hide-tail mtight",staticStyle:{"min-width":"0.853em",height:"1.5428571428571431em"}},[i("svg",{attrs:{width:"400em",height:"1.5428571428571431em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.42286071428571437em"}},[i("span")])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("ε")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.5102em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9270285714285713em"}},[i("span",{staticStyle:{top:"-2.214em","margin-left":"-0.03588em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("b")])])])]),i("span",{staticStyle:{top:"-2.931em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8296em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1)]),t._v(" "),i("li",[i("p",[t._v("Adam 通常是使用偏差修正的")])]),t._v(" "),i("li",[i("p",[t._v("Momentum 和 RMSprop 的参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("是不一样的，故使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta_2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("以区分")],1)]),t._v(" "),i("li",[i("p",[t._v("这是一种能够适用于不同神经网络的算法")])]),t._v(" "),i("li",[i("p",[t._v("这里这么多超参数，我们如何设置超参数呢？")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("，这是要经常调整的")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("，Adam 论文作者推荐 0.9")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta_2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05278em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("，Adam 论文作者推荐 0.999")],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("ε")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])])])]),t._v("，Adam 论文作者推荐"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("msup",[i("mn",[t._v("0")]),i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("8")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("10^{-8}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("8")])])])])])])])])])])])])])],1)])])]),t._v(" "),i("h4",{attrs:{id:"_2-2-9-learning-rate-decay"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-9-learning-rate-decay"}},[t._v("#")]),t._v(" 2.2.9 Learning rate decay")]),t._v(" "),i("p",[t._v("很明显，我们学习率过大的时候很难收敛在最优解处，这时候如果我们使用递减的学习率，在接近最优解附近学习率已经很小了，就很容易收敛")]),t._v(" "),i("p",[t._v("下面是几种常用的计算方法")]),t._v(" "),i("ol",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("+")]),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("a")]),i("mi",[t._v("y")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mo",[t._v("∗")]),i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mo",[t._v("−")]),i("mi",[t._v("n")]),i("mi",[t._v("u")]),i("mi",[t._v("m")])],1)],1),i("mo",[t._v("⋅")]),i("msub",[i("mi",[t._v("α")]),i("mn",[t._v("0")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha = \\frac{1}{1+decayrate*epoch-num}\\cdot\\alpha_0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.326216em","vertical-align":"-0.481108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("d")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("a")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mbin mtight"},[t._v("∗")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("u")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.481108em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("⋅")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.0037em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")]),i("mo",[t._v("=")]),i("mn",[t._v("0.9")]),i("msup",[i("mn",[t._v("5")]),i("mrow",[i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mo",[t._v("−")]),i("mi",[t._v("n")]),i("mi",[t._v("u")]),i("mi",[t._v("m")])],1)],1),i("mo",[t._v("⋅")]),i("msub",[i("mi",[t._v("α")]),i("mn",[t._v("0")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha = 0.95^{epoch-num}\\cdot\\alpha_0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8491079999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8491079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("u")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("⋅")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.0037em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")]),i("mo",[t._v("=")]),i("mfrac",[i("mi",[t._v("k")]),i("msqrt",[i("mrow",[i("mi",[t._v("e")]),i("mi",[t._v("p")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mo",[t._v("−")]),i("mi",[t._v("n")]),i("mi",[t._v("u")]),i("mi",[t._v("m")])],1)],1)],1),i("mo",[t._v("⋅")]),i("msub",[i("mi",[t._v("α")]),i("mn",[t._v("0")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha = \\frac{k}{\\sqrt{epoch-num}}\\cdot\\alpha_0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.418108em","vertical-align":"-0.538em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6015625em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord sqrt mtight"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.840625em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord mtight",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("u")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])]),i("span",{staticStyle:{top:"-2.800625em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail mtight",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19937500000000008em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.538em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("⋅")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.0037em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("li",[t._v("按阶梯状下降的学习率……")]),t._v(" "),i("li",[t._v("手动衰减😂")])]),t._v(" "),i("h4",{attrs:{id:"_2-2-10-the-problem-of-local-optima"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-10-the-problem-of-local-optima"}},[t._v("#")]),t._v(" 2.2.10 The problem of local optima")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("在我们的想象中，成本函数 J 和参数 W 之间的关系也许会更像这种形式：\n"),i("img",{attrs:{src:a(303),alt:"DeepLearning12"}}),t._v("\n也就是，有着很多个局部最优的解，这些局部最优点是满足什么条件的呢？很明显，在各个方向的偏导都是 0，而且，在该点的凹凸形式也是一样的才行，不过在三维空间上这种情况还算是比较常见的，如果是在高维情况下，这种要求可以说是很苛刻的，如果在某一个点满足了各个方向偏微分是 0，那么我们更多遇到的是这种情况：\n"),i("img",{attrs:{src:a(304),alt:"DeepLearning13"}}),t._v("\n也就是一个鞍点，很难碰到一个局部最优，因为在高维情况下这太难得了（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mn",[t._v("2")]),i("mi",[t._v("n")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("2^n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.664392em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])])])])])])])])])]),t._v("）")],1)]),t._v(" "),i("li",[i("p",[t._v("虽然不会长时间困在局部最优的位置，但是，我们很可能长时间处在平缓段，就像下面这样：\n"),i("img",{attrs:{src:a(305),alt:"DeepLearning14"}})])])]),t._v(" "),i("p",[t._v("因为梯度真的很小，所以梯度递降法会使它小心翼翼地沿着“脊”处缓缓移动，直到鞍点处出现微小扰动后才向正确方向走去，这种情况下，Adam 算法可以让它更快地度过平缓段")]),t._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[t._v("对高维的实在是难以直观地去理解，不过我们对它们的理解正在不断发展……………………")])]),t._v(" "),i("h3",{attrs:{id:"_2-3-hyperparameter-tuning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-hyperparameter-tuning"}},[t._v("#")]),t._v(" 2.3 Hyperparameter tuning")]),t._v(" "),i("h4",{attrs:{id:"_2-3-1-tuning-process"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-tuning-process"}},[t._v("#")]),t._v(" 2.3.1 Tuning process")]),t._v(" "),i("p",[t._v("首先，我们先把我们要调整的各个超参数都列出来：")]),t._v(" "),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(", "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(", "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("ε")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\varepsilon")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])])])])],1),t._v(" "),i("li",[t._v("#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("a")]),i("mi",[t._v("y")]),i("mi",[t._v("e")]),i("mi",[t._v("r")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("layers")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])])],1),t._v(" "),i("li",[t._v("#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("i")]),i("mi",[t._v("d")]),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mtext"),i("mi",[t._v("u")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("t")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hidden\\ units")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("e")]),i("mi",[t._v("a")]),i("mi",[t._v("r")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mtext"),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mtext"),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("a")]),i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("learning\\ rate\\ decay")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("m")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mtext"),i("mi",[t._v("s")]),i("mi",[t._v("i")]),i("mi",[t._v("z")]),i("mi",[t._v("e")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("mini-batch\\ size")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")])])])])])],1)]),t._v(" "),i("p",[t._v("我们最优先考虑的一定是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("，其次呢，就是 Momentum 参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("了，还有"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("m")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mtext"),i("mi",[t._v("s")]),i("mi",[t._v("i")]),i("mi",[t._v("z")]),i("mi",[t._v("e")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("mini-batch\\ size")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")])])])])]),t._v("和#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("i")]),i("mi",[t._v("d")]),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mtext"),i("mi",[t._v("u")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("t")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hidden\\ units")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v("，最后考虑#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("a")]),i("mi",[t._v("y")]),i("mi",[t._v("e")]),i("mi",[t._v("r")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("layers")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("e")]),i("mi",[t._v("a")]),i("mi",[t._v("r")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mtext"),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mtext"),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("c")]),i("mi",[t._v("a")]),i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("learning\\ rate\\ decay")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])])],1),t._v(" "),i("p",[t._v("但是我们到底怎么测试超参数怎么取值是比较好的呢？我们可以对考虑的几个超参数进行随机取值，然后在结果比较理想的区域（几个超参数就是几个维度的空间）重新随机取值，就像拿着“放大镜”找东西那样不断地越来越精细地搜索最佳超参数")]),t._v(" "),i("h4",{attrs:{id:"_2-3-2-using-an-appropriate-scale-to-pick-hyperparameters"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-using-an-appropriate-scale-to-pick-hyperparameters"}},[t._v("#")]),t._v(" 2.3.2 Using an appropriate scale to pick hyperparameters")]),t._v(" "),i("p",[t._v("虽然说随机取值是个不错的方法，但是这也是要看情况的，我们要根据具体情况选择合适的标尺")]),t._v(" "),i("ul",[i("li",[t._v("如果说我们要在 50 到 100 内选#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("i")]),i("mi",[t._v("d")]),i("mi",[t._v("d")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mtext"),i("mi",[t._v("u")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("t")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hidden\\ units")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v("，或者在 2 到 4 内选#"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("a")]),i("mi",[t._v("y")]),i("mi",[t._v("e")]),i("mi",[t._v("r")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("layers")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v("，那么很明显，这种随机取值的很合适的")],1),t._v(" "),i("li",[t._v("我们再看这个：如果我们要在 0.0001 到 1 内选一个"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("，如果我们真的像这样随机选取，那么很明显，有 90%的数据是落在 0.1~1 之间，而 0.0001 到 0.1 只有 10%，这明显不是我们要的，看到这个我们很容易想到 lg()函数，事实上我们确实也是这么做的，这里只需要这么做："),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("r "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rand"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nalpha "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v(" r\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br")])])],1),t._v(" "),i("li",[t._v("相反地，我们要怎么取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("呢？这个数很明显是一个接近于 1 的值，嗯，很容易想到了，其实就是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("−")]),i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1-\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v("的方式")],1)]),t._v(" "),i("h4",{attrs:{id:"_2-3-3-pandas-vs-caviar（hyperparameters-tuning-in-practice-pandas-vs-caviar）"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-pandas-vs-caviar（hyperparameters-tuning-in-practice-pandas-vs-caviar）"}},[t._v("#")]),t._v(" 2.3.3 Pandas VS Caviar（Hyperparameters tuning in practice: Pandas vs. Caviar）")]),t._v(" "),i("p",[t._v("Pandas：没有足够的计算资源，同时只能计算一组超参数")]),t._v(" "),i("p",[t._v("Caviar：计算资源足够，同时计算多组超参数")]),t._v(" "),i("h4",{attrs:{id:"_2-3-4-normalizing-activations-in-a-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-normalizing-activations-in-a-network"}},[t._v("#")]),t._v(" 2.3.4 Normalizing activations in a network")]),t._v(" "),i("p",[t._v("我们之前已经了解到这么一种算法叫做……归一化输入是吧，事实上这确实是一个非常有用的算法，它甚至是可以用在深层网络之中，这个时候我们叫它——Batch 归一化（简称 "),i("strong",[t._v("BN")]),t._v(" ）")]),t._v(" "),i("ol",[i("li",[t._v("我们将归一化"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("作为默认选择，而不是归一化"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("a")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")])])])])]),t._v("，不过，这也是有争论的")],1),t._v(" "),i("li",[t._v("每次归一化只针对某一层，绝对不可能会将某两层数据归一化处理")]),t._v(" "),i("li",[t._v("具体操作呢？")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("μ")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("i")])],1),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("z")]),i("mi",[t._v("i")])],1),i("mo",[t._v("−")]),i("mi",[t._v("μ")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msubsup",[i("mi",[t._v("z")]),i("mrow",[i("mi",[t._v("n")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("m")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("μ")])],1),i("msqrt",[i("mrow",[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")])],1)],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\n\\mu & = \\frac{1}{m} \\sum_i z^{(i)} \\\\\n\\sigma^2 & = \\frac{1}{m} \\sum_i (z_i - \\mu)^2 \\\\\nz_{norm}^{(i)} & = \\frac{z^{(i)}-\\mu}{\\sqrt{\\sigma^2 + \\varepsilon}}\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"8.593218em","vertical-align":"-4.046609em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.546609em"}},[i("span",{staticStyle:{top:"-6.790169000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])]),i("span",{staticStyle:{top:"-3.8910599999999995em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-0.7483909999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.046609em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.546609em"}},[i("span",{staticStyle:{top:"-6.790169000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("m")])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0500050000000003em"}},[i("span",{staticStyle:{top:"-1.872331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.050005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",[i("span",{staticClass:"mop op-symbol large-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.277669em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.8910599999999995em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("m")])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0500050000000003em"}},[i("span",{staticStyle:{top:"-1.872331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.050005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",[i("span",{staticClass:"mop op-symbol large-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.277669em"}},[i("span")])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-0.7483909999999998em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.565em"}},[i("span",{staticStyle:{top:"-2.196611em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.913389em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.740108em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])]),i("span",{staticStyle:{top:"-2.873389em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.12661100000000003em"}},[i("span")])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.93em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.046609em"}},[i("span")])])])])])])])])])])])],1),i("ol",{attrs:{start:"4"}},[i("li",[t._v("这样，这些"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("就均一化为均值 0 方差 1 咯~")],1),t._v(" "),i("li",[t._v("但是，我们也许并不希望"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("z")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])])])]),t._v("的每个分量都是均值 0 方差 1 这样千篇一律的状态，也许隐藏单元需要更加多元化的分布，所以，我们可以使用")],1)]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("γ")]),i("msubsup",[i("mi",[t._v("z")]),i("mrow",[i("mi",[t._v("n")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("m")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\tilde{z}^{(i)} = \\gamma z_{norm}^{(i)} + \\beta\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.938em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.185em","vertical-align":"-0.247em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])])])],1),i("p",[t._v("这里的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("是模型的学习参数，需要像更新"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")])])])])]),t._v("一样更新它们")],1),t._v(" "),i("ol",{attrs:{start:"6"}},[i("li",[t._v("你可以随意地设置"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("的均值，如果"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")]),i("mo",[t._v("=")]),i("msqrt",[i("mrow",[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma = \\sqrt{\\sigma^2 + \\varepsilon}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.04em","vertical-align":"-0.12661100000000003em"}}),i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.913389em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.740108em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])]),i("span",{staticStyle:{top:"-2.873389em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.12661100000000003em"}},[i("span")])])])])])])])]),t._v("而且"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")]),i("mo",[t._v("=")]),i("mi",[t._v("μ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta = \\mu")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])])]),t._v("，那么"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{(i)} = z^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("，也就是说，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("只是某种"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("取值下的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])])],1),t._v(" "),i("li",[t._v("隐藏单元和训练输入归一化的一个区别是，隐藏单元也许并不一定是均值 0 方差 1")]),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("的作用是使隐藏单元值的均值和方差标准化，即"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("有固定的均值和方差，至于是多少……当然是要训练的呀~")],1)]),t._v(" "),i("h4",{attrs:{id:"_2-3-5-fitting-batch-norm-into-a-neural-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-fitting-batch-norm-into-a-neural-network"}},[t._v("#")]),t._v(" 2.3.5 Fitting Batch Norm into a neural network")]),t._v(" "),i("ol",[i("li",[t._v("之前说过，每一个神经网络单元所做的无非计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("两步，而如果使用 Batch 归一化的话，我们要在这两步之间加一步计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，之后再据此计算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("li",[t._v("所以说，我们现在每层的参数由"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("变成了"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("β")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("γ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("四个，当然这里的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("不是 Momentum 里的超参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])])],1),t._v(" "),i("li",[t._v("当然你还是可以结合 Adam 或 RMSprop 或 Momentum 方法而不是单纯地使用 BN")]),t._v(" "),i("li",[t._v("BN 的过程虽然看起来很复杂，但是我们如果在框架里使用它的话，它只是一行代码而已，就比如说 Tensorflow ，我们只需要使用"),i("code",[t._v("tf.nn.batch_normalization")]),t._v("就可以实现它")]),t._v(" "),i("li",[t._v("实践中经常会将 mini-batch 和 BN 一起使用，")]),t._v(" "),i("li",[t._v("之前有提到使用 BN 后会有四个参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("β")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("γ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，但是事实上"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("已经是没有必要的，因为我们的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]} = w^{[l]} a{[l-1]} + b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v("]")])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，但是之后的归一化会将所有的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("变换为均值为 0，方差为 1，再由"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("重新缩放，所以"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("其实是在这个过程中被消除掉了")],1),t._v(" "),i("li",[t._v("所以，接下来，我们要做的就是反向 prop 也就是")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("w")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mi",[t._v("β")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("β")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("β")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mi",[t._v("γ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("γ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("α")]),i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("γ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\nw^{[l]} & = w^{[l]} - \\alpha dw^{[l]} \\\\\n\\beta^{[l]} & = \\beta^{[l]} - \\alpha d\\beta^{[l]} \\\\\n\\gamma^{[l]} & = \\gamma^{[l]} - \\alpha d\\gamma^{[l]} \\\\\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"4.7940000000000005em","vertical-align":"-2.1470000000000002em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.6470000000000002em"}},[i("span",{staticStyle:{top:"-4.7090000000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.111em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])]),i("span",{staticStyle:{top:"-1.513em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.1470000000000002em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.6470000000000002em"}},[i("span",{staticStyle:{top:"-4.7090000000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.111em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])]),i("span",{staticStyle:{top:"-1.513em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.1470000000000002em"}},[i("span")])])])])])])])])])])])],1),i("ol",{attrs:{start:"8"}},[i("li",[t._v("事实上，我们更多的是直接用框架完成这些~")])]),t._v(" "),i("h4",{attrs:{id:"_2-3-6-why-does-batch-norm-work"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-6-why-does-batch-norm-work"}},[t._v("#")]),t._v(" 2.3.6 Why does Batch Norm work?")]),t._v(" "),i("p",[t._v("为什么 BN 会有用呐？")]),t._v(" "),i("ol",[i("li",[t._v("第一个原因是，BN 会将各层输入的特征值进行归一化，就和之前的归一化输入是一样的，"),i("strong",[t._v("每层都会得到“标准”的输入，这对加速学习是非常有用的")])]),t._v(" "),i("li",[t._v("另外，它可以使得网络更加滞后或者说更深层，神经网络的后层比之于前层更加经受得住变化")]),t._v(" "),i("li",[t._v("那么如何经受变化呢？比如说我们一个神经网络适应了某一个分布下的训练集，可以对该分布下训练集做出很好的预测，但是换了一个分布的训练集情况就很有可能会有所不同，这有点像这个神经网络过拟合第一个分布下的训练集，我们称这种情况为 "),i("strong",[t._v("Covariate shift")])]),t._v(" "),i("li",[t._v("我们随便找到一个深层神经网络，比如说一个 5 层的神经网络，我们遮去前两层暂且不看，那么第三层的输入又是什么样子的呢？当然是没有规律的、分布未知的数据，因为我们根本没有对它的输入进行任何的约束，它只是在前层参数下的一个输出，这样下去，每层的噪声将会非常的大，前层的一个调整将会使后层的分布发生改变，这当然不是我们想看到的")]),t._v(" "),i("li",[t._v("但如果每层的分布是我们可以进行控制的（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("γ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\gamma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")])])])])]),t._v(" 和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v("），这样至少"),i("strong",[t._v("可以保证每层的输入在一个可控的分布下，这使得整个神经网络更加稳定，前层的改变迫使后层的适应程度会减小，也就减弱了层与层之间的联系，使得每层都可以自己学习，稍稍独立于其它层")])],1),t._v(" "),i("li",[i("strong",[t._v("另外， BN 还有一个作用就是轻微的正则化")]),t._v("，为什么呢？主要是因为每组 mini-batch 得到的均值和方差都与整个数据集的有一定的噪声，这就使得得到的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("也是有噪声的，这就使得它有点类似于 dropout 一样，使得后层并不会过分得依赖于前层，当然这只是轻微的正则化，如果想要获得更好的正则化是可以配合 dropout 使用的")],1),t._v(" "),i("li",[t._v("当然，正则化并不是 BN 的真正用途，这只是一个意外的结果罢了，也许 ��� 给你的训练带来好处，当然也有可能会带来一些问题")])]),t._v(" "),i("h4",{attrs:{id:"_2-3-7-batch-norm-at-test-time"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-7-batch-norm-at-test-time"}},[t._v("#")]),t._v(" 2.3.7 Batch Norm at test time")]),t._v(" "),i("ol",[i("li",[t._v("首先回顾下我们计算 BN 的公式")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mtable",{attrs:{rowspacing:"0.24999999999999992em",columnalign:"right left",columnspacing:"0em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mi",[t._v("μ")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("i")])],1),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("z")]),i("mi",[t._v("i")])],1),i("mo",[t._v("−")]),i("mi",[t._v("μ")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msubsup",[i("mi",[t._v("z")]),i("mrow",[i("mi",[t._v("n")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("m")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("−")]),i("mi",[t._v("μ")])],1),i("msqrt",[i("mrow",[i("msup",[i("mi",[t._v("σ")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("ε")])],1)],1)],1)],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"true"}},[i("mrow",[i("mrow"),i("mo",[t._v("=")]),i("mi",[t._v("γ")]),i("msubsup",[i("mi",[t._v("z")]),i("mrow",[i("mi",[t._v("n")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("m")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("+")]),i("mi",[t._v("β")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{aligned}\n\\mu & = \\frac{1}{m} \\sum_i z^{(i)} \\\\\n\\sigma^2 & = \\frac{1}{m} \\sum_i (z_i - \\mu)^2 \\\\\nz_{norm}^{(i)} & = \\frac{z^{(i)}-\\mu}{\\sqrt{\\sigma^2 + \\varepsilon}} \\\\\n\\tilde{z}^{(i)} & = \\gamma z_{norm}^{(i)} + \\beta\n\\end{aligned}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"10.191218em","vertical-align":"-4.845609em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-r"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.3456090000000005em"}},[i("span",{staticStyle:{top:"-7.589169em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])]),i("span",{staticStyle:{top:"-4.69006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-1.547391000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"0.6206089999999995em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.845609em"}},[i("span")])])])]),i("span",{staticClass:"col-align-l"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.3456090000000005em"}},[i("span",{staticStyle:{top:"-7.589169em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("m")])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0500050000000003em"}},[i("span",{staticStyle:{top:"-1.872331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.050005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",[i("span",{staticClass:"mop op-symbol large-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.277669em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])]),i("span",{staticStyle:{top:"-4.69006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.32144em"}},[i("span",{staticStyle:{top:"-2.314em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("m")])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.686em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0500050000000003em"}},[i("span",{staticStyle:{top:"-1.872331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])]),i("span",{staticStyle:{top:"-3.050005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.05em"}}),i("span",[i("span",{staticClass:"mop op-symbol large-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.277669em"}},[i("span")])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8641079999999999em"}},[i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])]),i("span",{staticStyle:{top:"-1.547391000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.565em"}},[i("span",{staticStyle:{top:"-2.196611em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord sqrt"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.913389em"}},[i("span",{staticClass:"svg-align",staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord",staticStyle:{"padding-left":"0.833em"}},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.740108em"}},[i("span",{staticStyle:{top:"-2.9890000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("ε")])])]),i("span",{staticStyle:{top:"-2.873389em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"hide-tail",staticStyle:{"min-width":"0.853em",height:"1.08em"}},[i("svg",{attrs:{width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice"}},[i("path",{attrs:{d:"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z"}})])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.12661100000000003em"}},[i("span")])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.677em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.93em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])]),i("span",{staticStyle:{top:"0.6206089999999995em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.565em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"}),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05556em"}},[t._v("γ")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.938em"}},[i("span",{staticStyle:{top:"-2.4530000000000003em","margin-left":"-0.04398em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.113em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.247em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.845609em"}},[i("span")])])])])])])])])])])])],1),i("ol",{attrs:{start:"2"}},[i("li",[t._v("既然要计算每个 mini-batch ，那么"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("m")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("m")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")])])])])]),t._v("就一定是该 mini-batch 的样本数量而不是整个训练集的样本数量，但是我们可以看到，每处理一个数据都需要先计算出"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("μ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mu")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])])]),t._v("，再计算出"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("σ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")])])])])]),t._v("，然后才能对这一个样本进行处理，哦，天呐，算一个样本的"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("z")]),i("mo",[t._v("~")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\tilde{z}^{(i)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6678599999999999em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")])])]),i("span",{staticStyle:{top:"-3.35em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("~")])])])])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])])])])])]),t._v("要将整个 mini-batch 遍历三次！")],1),t._v(" "),i("li",[t._v("为了避免这种遍历，要如何做呢？没错，就是指数加权平均，用它来估算"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("μ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\mu")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("μ")])])])])]),t._v("和"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("σ")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")])])])])]),t._v("，事实上任何合理的估算方法都是可以的，而在框架里大多都已经有着默认的估算方式，一般都有着比较好的效果")],1)]),t._v(" "),i("h4",{attrs:{id:"_2-3-8-softmax-regression"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-8-softmax-regression"}},[t._v("#")]),t._v(" 2.3.8 Softmax regression")]),t._v(" "),i("p",[t._v("我们之前所用的都是二分类，比如说输入一张图片分类为是或不是猫，但是很多情况下我们需要做到更多，比如说，输入一张图片分类为猫、狗、鸡或者其他，这要如何做呢？")]),t._v(" "),i("ol",[i("li",[t._v("当然就是 Softmax 啦，之前我们之所以输出的是二分类当然是因为我们在输出层应用的是 Logistic 回归，而且输出层也只设置了一个结点，那么我们只需要在这里进行一些改动，就可以将它变成一个更强大的分类器啦")]),t._v(" "),i("li",[t._v("比如接着刚才那个例子，将图片分为猫、狗、鸡、或者其他，就是说需要 C = 4 种分类，那么我们可以设置这样的四个结点，每个结点输入"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，经过非线性变换后变成"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("e")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("e^{z^{[l]}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0396999999999998em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0396999999999998em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])])])])])])])])]),t._v("，临时叫它"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("t")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("，因为我们最终要获得每种的概率，所以我们还要将这四个结点的输出进行归一化，也就是都除以他们的和，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mfrac",[i("msup",[i("mi",[t._v("t")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mrow",[i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("mn",[t._v("3")])],1),i("msup",[i("mi",[t._v("t")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]} = \\frac{t^{[l]}}{\\sum_{j=0}^3 t^{[l]}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.803147em","vertical-align":"-0.732447em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0707em"}},[i("span",{staticStyle:{top:"-2.5897799999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mop mtight"},[i("span",{staticClass:"mop op-symbol small-op mtight",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8574571428571429em"}},[i("span",{staticStyle:{top:"-2.1785614285714283em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("0")])])])]),i("span",{staticStyle:{top:"-2.8971428571428572em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.46032428571428574em"}},[i("span")])])])])]),i("span",{staticClass:"mspace mtight",staticStyle:{"margin-right":"0.19516666666666668em"}}),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.732447em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1),t._v(" "),i("li",[t._v("上面的过程就是 Softmax 回归啦")])]),t._v(" "),i("h4",{attrs:{id:"_2-3-9-training-a-softmax-classifier"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-9-training-a-softmax-classifier"}},[t._v("#")]),t._v(" 2.3.9 Training a Softmax classifier")]),t._v(" "),i("p",[t._v("事实上在 C = 2 时， Softmax 回归就变成了 logistic 回归，但在 Softmax 中都要怎么做呢？")]),t._v(" "),i("ol",[i("li",[t._v("损失函数，通常使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mo",[t._v("−")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mn",[t._v("4")])],1),i("msub",[i("mi",[t._v("y")]),i("mi",[t._v("j")])],1),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("g")]),i("msub",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mi",[t._v("j")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L(\\hat{y}, y) = -\\sum_{j=1}^4 y_j log\\hat{y}_j")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.389826em","vertical-align":"-0.43581800000000004em"}}),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.954008em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.43581800000000004em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.311664em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.311664em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("li",[t._v("反向传播，只需要记住"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mo",[t._v("−")]),i("mi",[t._v("y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dz^{[l]} = \\hat{y} - y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),t._v("，剩下的慢慢求偏导就好啦")],1),t._v(" "),i("li",[t._v("当然，我们马上就要学习框架了，这使得只需要我们更加注重前向传播的逻辑与设计，而反向传播的求导什么的交给框架来做就好了")])]),t._v(" "),i("h4",{attrs:{id:"_2-3-10-deep-learning-frameworks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-10-deep-learning-frameworks"}},[t._v("#")]),t._v(" 2.3.10 Deep Learning frameworks")]),t._v(" "),i("p",[t._v("选择框架的标准：")]),t._v(" "),i("ol",[i("li",[t._v("简单易用，能够将线性代数库做较好的抽象")]),t._v(" "),i("li",[t._v("运行速度，这是我们一直都有提到的问题")]),t._v(" "),i("li",[t._v("开源")])]),t._v(" "),i("p",[t._v("一些推荐：")]),t._v(" "),i("ul",[i("li",[t._v("Caffe / Caffe2")]),t._v(" "),i("li",[t._v("CNTK")]),t._v(" "),i("li",[t._v("DL4J")]),t._v(" "),i("li",[t._v("Keras")]),t._v(" "),i("li",[t._v("Lasagne")]),t._v(" "),i("li",[t._v("mxnet")]),t._v(" "),i("li",[t._v("PaddlePaddle")]),t._v(" "),i("li",[t._v("TensorFlow")]),t._v(" "),i("li",[t._v("Theano")]),t._v(" "),i("li",[t._v("Torch")])]),t._v(" "),i("h4",{attrs:{id:"_2-3-11-tensorflow"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-11-tensorflow"}},[t._v("#")]),t._v(" 2.3.11 TensorFlow")]),t._v(" "),i("ol",[i("li",[t._v("首先是一个简单的例子，我们让 TensorFlow 找到使 Cost "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("w")]),i("mo",[t._v("−")]),i("mn",[t._v("5")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(w-5)^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v("最小的的参数"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])])],1)]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" tensorflow "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" tf\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义参数 w")]),t._v("\nw "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Variable"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("float32"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义 Cost function")]),t._v("\ncost "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("multiply"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义所用训练方法和学习率，这里是使用梯度递降法与0.01的学习率")]),t._v("\ntrain "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GradientDescentOptimizer"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minimize"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cost"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面几行是惯用的写法")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 首先是创建全局变量")]),t._v("\ninit "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global_variables_initializer"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 之后创建一个TensorFlow session")]),t._v("\nsession "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化全局变量")]),t._v("\nsession"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("init"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面将会将 w 初始化为0，但是并没有运行，所以 print 出来还是0")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 我们运行一步训练过程（这里是梯度递降法）")]),t._v("\nsession"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 我们运行1000次再看看")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应该已经很接近最终答案5了")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br"),i("span",{staticClass:"line-number"},[t._v("6")]),i("br"),i("span",{staticClass:"line-number"},[t._v("7")]),i("br"),i("span",{staticClass:"line-number"},[t._v("8")]),i("br"),i("span",{staticClass:"line-number"},[t._v("9")]),i("br"),i("span",{staticClass:"line-number"},[t._v("10")]),i("br"),i("span",{staticClass:"line-number"},[t._v("11")]),i("br"),i("span",{staticClass:"line-number"},[t._v("12")]),i("br"),i("span",{staticClass:"line-number"},[t._v("13")]),i("br"),i("span",{staticClass:"line-number"},[t._v("14")]),i("br"),i("span",{staticClass:"line-number"},[t._v("15")]),i("br"),i("span",{staticClass:"line-number"},[t._v("16")]),i("br"),i("span",{staticClass:"line-number"},[t._v("17")]),i("br"),i("span",{staticClass:"line-number"},[t._v("18")]),i("br"),i("span",{staticClass:"line-number"},[t._v("19")]),i("br"),i("span",{staticClass:"line-number"},[t._v("20")]),i("br"),i("span",{staticClass:"line-number"},[t._v("21")]),i("br"),i("span",{staticClass:"line-number"},[t._v("22")]),i("br"),i("span",{staticClass:"line-number"},[t._v("23")]),i("br"),i("span",{staticClass:"line-number"},[t._v("24")]),i("br"),i("span",{staticClass:"line-number"},[t._v("25")]),i("br"),i("span",{staticClass:"line-number"},[t._v("26")]),i("br"),i("span",{staticClass:"line-number"},[t._v("27")]),i("br"),i("span",{staticClass:"line-number"},[t._v("28")]),i("br"),i("span",{staticClass:"line-number"},[t._v("29")]),i("br")])]),i("ol",{attrs:{start:"2"}},[i("li",[t._v("但我们如何像我们之前做的那样将数据喂给它呢？")])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" tensorflow "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" tf\n\n\ncoefficients "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nw "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Variable"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("float32"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 告诉 tf 数据格式，具体数据之后“喂”")]),t._v("\nx "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("placeholder"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("float32"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 因为 tf 已经重载了很多的运算符，所以我们完全可以将这个式子写得好看些")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cost = w**2 - 10*w + 25")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 为了方便“喂”，把原来固定参数改成 x")]),t._v("\ncost "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("w "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果不想用梯度递降法而是使用 Adam 优化器等等，改掉这行就可以啦")]),t._v("\ntrain "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GradientDescentOptimizer"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minimize"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cost"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ninit "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global_variables_initializer"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsession "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsession"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("init"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在这里慢慢“喂”数据，如果要用 mini-batch ，就用 feed_dict 喂入不同的子集")]),t._v("\nsession"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feed_dict"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("coefficients"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("train"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feed_dict"),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("x"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("coefficients"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br"),i("span",{staticClass:"line-number"},[t._v("6")]),i("br"),i("span",{staticClass:"line-number"},[t._v("7")]),i("br"),i("span",{staticClass:"line-number"},[t._v("8")]),i("br"),i("span",{staticClass:"line-number"},[t._v("9")]),i("br"),i("span",{staticClass:"line-number"},[t._v("10")]),i("br"),i("span",{staticClass:"line-number"},[t._v("11")]),i("br"),i("span",{staticClass:"line-number"},[t._v("12")]),i("br"),i("span",{staticClass:"line-number"},[t._v("13")]),i("br"),i("span",{staticClass:"line-number"},[t._v("14")]),i("br"),i("span",{staticClass:"line-number"},[t._v("15")]),i("br"),i("span",{staticClass:"line-number"},[t._v("16")]),i("br"),i("span",{staticClass:"line-number"},[t._v("17")]),i("br"),i("span",{staticClass:"line-number"},[t._v("18")]),i("br"),i("span",{staticClass:"line-number"},[t._v("19")]),i("br"),i("span",{staticClass:"line-number"},[t._v("20")]),i("br"),i("span",{staticClass:"line-number"},[t._v("21")]),i("br"),i("span",{staticClass:"line-number"},[t._v("22")]),i("br"),i("span",{staticClass:"line-number"},[t._v("23")]),i("br"),i("span",{staticClass:"line-number"},[t._v("24")]),i("br"),i("span",{staticClass:"line-number"},[t._v("25")]),i("br"),i("span",{staticClass:"line-number"},[t._v("26")]),i("br"),i("span",{staticClass:"line-number"},[t._v("27")]),i("br")])]),i("ol",{attrs:{start:"3"}},[i("li",[t._v("也许我们经常遇到 "),i("code",[t._v("with")]),t._v(" 的形式，这都是一样的，只不过这样的代码更安全")])]),t._v(" "),i("div",{staticClass:"language-Python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" tf"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("init"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),i("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("session"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("w"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),i("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# And more...")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br")])]),i("ol",{attrs:{start:"4"}},[i("li",[i("p",[t._v("就像前面所说的，所有的反向传播求导法则已经在建立前向传播那行（cost=blabla）建立好了，乘啦加啦什么的，都在框架内做好了对应的求导法则，所以我们要做的就是搭搭前向传播，选选方案，改改超参数啦")])]),t._v(" "),i("li",[i("p",[t._v("更多请参见"),i("a",{attrs:{href:"https://tensorflow.google.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TensorFlow 官网"),i("OutboundLink")],1)])])]),t._v(" "),i("h2",{attrs:{id:"_3-structuring-machine-learning-projects"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-structuring-machine-learning-projects"}},[t._v("#")]),t._v(" 3 Structuring Machine Learning Projects")]),t._v(" "),i("h3",{attrs:{id:"_3-1-ml-strategy（1）"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ml-strategy（1）"}},[t._v("#")]),t._v(" 3.1 ML strategy（1）")]),t._v(" "),i("h4",{attrs:{id:"_3-1-1-why-ml-strategy"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-why-ml-strategy"}},[t._v("#")]),t._v(" 3.1.1 Why ML Strategy?")]),t._v(" "),i("p",[t._v("优化的“方向性”问题，如果方向走错了，那么可能是白白浪费了很多的时间")]),t._v(" "),i("h4",{attrs:{id:"_3-1-2-orthogonalization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-orthogonalization"}},[t._v("#")]),t._v(" 3.1.2 Orthogonalization")]),t._v(" "),i("p",[t._v("为什么说正交呢？正交可以理解为垂直的两根轴，在其中一根轴上前进对另一根轴没有分量，这也就是为什么我们学习中都选择直角坐标系而不是选择其它角度的")]),t._v(" "),i("ol",[i("li",[t._v("我们知道平面内任何不平行的两个矢量都可以将整个平面表示出来，但是，如果是不垂直的两根轴，情况会怎样？")]),t._v(" "),i("li",[t._v("我们想要的是，调好一根轴上前进的长度，然后安心地调另一根轴，不会改变之前调好的数值，但是我们很不幸的发现，如果两个轴不垂直的话，这种情况是很难的，我们好不容易调好一根轴的数值后，再调第二根轴就会把前面调好的数值打乱，也就是我们很难"),i("strong",[t._v("直观地一次性调好")]),t._v("想要的数值，如果想要调好，就一定要左调调、右调调，不断测试")]),t._v(" "),i("li",[t._v("这才是两根轴，我们经常会遇到更多轴的情况，那可就更复杂了（不敢想象.jpg）")]),t._v(" "),i("li",[t._v("所以，我们要选取互不影响的几根轴，而且知道他们分别在调什么")])]),t._v(" "),i("p",[t._v("哦，说了这么多，我们看看我们的这几根轴吧")]),t._v(" "),i("ul",[i("li",[t._v("无法很好地拟合 training set\n"),i("ul",[i("li",[t._v("更大的 NN")]),t._v(" "),i("li",[t._v("更好的优化算法，比如 Adam 优化算法")])])]),t._v(" "),i("li",[t._v("无法很好地拟合 dev set\n"),i("ul",[i("li",[t._v("各种正则化")]),t._v(" "),i("li",[t._v("增大 training set")])])]),t._v(" "),i("li",[t._v("无法很好地拟合 test set\n"),i("ul",[i("li",[t._v("（对 dev set 过拟合）回退一步，使用更大的 dev set")])])]),t._v(" "),i("li",[t._v("无法很好地在生产环境实践\n"),i("ul",[i("li",[t._v("改变 dev set")]),t._v(" "),i("li",[t._v("改变 cost function\n"),i("blockquote",[i("p",[t._v("我们很少使用 early stopping ，因为这并不是正交化的一项，它可能会同时影响前两项")])])])])])]),t._v(" "),i("h4",{attrs:{id:"_3-1-3-single-number-evaluation-metric"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-single-number-evaluation-metric"}},[t._v("#")]),t._v(" 3.1.3 Single number evaluation metric")]),t._v(" "),i("p",[t._v("我们如何评估一个算法的优劣呢？也许我们有很多的指标，但是如果我们只用单实数作为指标的话，我们的进展就会快很多")]),t._v(" "),i("ol",[i("li",[t._v("比如说我们有两个分类器 A 、 B ，我们用两个指标来评估他们，一个是 Precision （查准率：在你的分类器标记为猫的例子中，有多少真的是猫）、另一个是 Recall （查全率：对于所有真猫的图片，你的分类器正确识别出了多少百分比）")]),t._v(" "),i("li",[t._v("都说了两个指标很难评估，这种情况下我们很难取舍啊，A B 分类器各有优劣我们该怎么选？")]),t._v(" "),i("li",[t._v("有一个标准的方法是使用"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("F")]),i("mn",[t._v("1")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("F_1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("F")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("分数进行评估，P 和 R 的调和平均数："),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("2")]),i("mrow",[i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("P")])],1),i("mo",[t._v("+")]),i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("R")])],1)],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{2}{\\frac{1}{P} + \\frac{1}{R}}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.4869279999999998em","vertical-align":"-0.64182em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.59898em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen nulldelimiter sizing reset-size3 size6"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8443142857142858em"}},[i("span",{staticStyle:{top:"-2.656em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")])])])]),i("span",{staticStyle:{top:"-3.2255000000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line mtight",staticStyle:{"border-bottom-width":"0.049em"}})]),i("span",{staticStyle:{top:"-3.384em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.344em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter sizing reset-size3 size6"})]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen nulldelimiter sizing reset-size3 size6"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8443142857142858em"}},[i("span",{staticStyle:{top:"-2.656em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")])])])]),i("span",{staticStyle:{top:"-3.2255000000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line mtight",staticStyle:{"border-bottom-width":"0.049em"}})]),i("span",{staticStyle:{top:"-3.384em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.344em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter sizing reset-size3 size6"})])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.64182em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])])],1),t._v(" "),i("li",[t._v("再看另一个例子，比如说我们有一些分类器，在各个地区的评估各有优劣，这种情况下，我们可以尝试使用平均值，这样我们可以快速选出比较好的那个分类器，而不是花很多时间纠结在这上面")])]),t._v(" "),i("h4",{attrs:{id:"_3-1-4-satisficing-and-optimizing-metrics"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-satisficing-and-optimizing-metrics"}},[t._v("#")]),t._v(" 3.1.4 Satisficing and optimizing metrics")]),t._v(" "),i("ul",[i("li",[t._v("我们看这样的一个例子：")])]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",[t._v("Classifier")]),t._v(" "),i("th",[t._v("Accuracy")]),t._v(" "),i("th",{staticStyle:{"text-align":"right"}},[t._v("Running time")])])]),t._v(" "),i("tbody",[i("tr",[i("td",[t._v("A")]),t._v(" "),i("td",[t._v("90%")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v("80ms")])]),t._v(" "),i("tr",[i("td",[t._v("B")]),t._v(" "),i("td",[t._v("92%")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v("95ms")])]),t._v(" "),i("tr",[i("td",[t._v("C")]),t._v(" "),i("td",[t._v("95%")]),t._v(" "),i("td",{staticStyle:{"text-align":"right"}},[t._v("1,500ms")])])])]),t._v(" "),i("p",[t._v("这样我们要怎么评估呢？比如说像上面那样弄个单指数，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mo",[t._v("=")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("c")]),i("mi",[t._v("u")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("c")]),i("mi",[t._v("y")]),i("mo",[t._v("−")]),i("mn",[t._v("0.5")]),i("mo",[t._v("×")]),i("mi",[t._v("r")]),i("mi",[t._v("u")]),i("mi",[t._v("n")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("T")]),i("mi",[t._v("i")]),i("mi",[t._v("m")]),i("mi",[t._v("e")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("cost=accuracy-0.5 \\times runningTime")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.61508em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.7777700000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")])])])])]),t._v(" ，emmmmm，不过这样貌似有点过于刻意了")],1),t._v(" "),i("p",[t._v("再想一种方法，比如说，我们要求在运行时间不超过 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("100")]),i("mi",[t._v("m")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("100ms")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v(" 的前提下寻找准确率最高的分类器，也就是说，对于运行时间只设定一个阈值，达到这个阈值才满足条件，但达到之后，无论再高也不在乎了，所以这里 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("B")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")])])])])]),t._v(" 的表现最好")],1),t._v(" "),i("p",[t._v("更一般地，我们可以考虑下，如果有 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),t._v(" 个指标的话，我们也许最后只需要留一个指标来做最后的评判，而"),i("strong",[t._v("其余 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")]),i("mo",[t._v("−")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N-1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 个指标则只作为阈值就好啦")],1)],1),t._v(" "),i("ul",[i("li",[t._v("再看另一个例子")])]),t._v(" "),i("p",[t._v("比如说，一个类似于 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")]),i("mi",[t._v("i")]),i("mi",[t._v("r")]),i("mi",[t._v("i")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Siri")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")])])])])]),t._v(" 的语音助手，我们会将语音识别的准确率作为一个最终评判的指标，但是也会出现些其他的情况，比如说，在没有说激活语句（比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")]),i("mi",[t._v("i")]),i("mi",[t._v("r")]),i("mi",[t._v("i")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Siri")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")])])])])]),t._v(" 是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("H")]),i("mi",[t._v("e")]),i("mi",[t._v("y")]),i("mtext"),i("mi",[t._v("S")]),i("mi",[t._v("i")]),i("mi",[t._v("r")]),i("mi",[t._v("i")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Hey\\ Siri")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")])])])])]),t._v(" ）的时候它激活了，我们可以称之为假阳性（false positive），所以我们还会有这样一个指标，24 小时内出现假阳性的次数，这个指标的话，我们完全可以将它设定为 24 小时内最多出现一次假阳性")],1),t._v(" "),i("h4",{attrs:{id:"_3-1-5-train-dev-test-distributions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-5-train-dev-test-distributions"}},[t._v("#")]),t._v(" 3.1.5 Train/dev/test distributions")]),t._v(" "),i("p",[t._v("既然要设训练集、开发集、测试集，那么又要怎么分呢？首先，最重要的一点，一定要记住就是"),i("strong",[t._v("同分布")])]),t._v(" "),i("p",[t._v("比如说，我们要做一个猫分类器，拥有着 8 个国家的数据，一个很愚蠢的做法就是拿其中四个国家的数据去做开发集、拿其余四个国家的做测试集，很明显，这是不满足同分布的，通过开发集拟合的数据当然并不能很好地拟合测试集，至于为什么不满足同分布的会导致我们有这样问题呢？看一个小例子：")]),t._v(" "),i("p",[t._v("我们在开发集上不断调优神经网络，使得结果不断地优化，收敛在开发集分布下的最优解下，就相当于我们以这个最优解为靶心不断地射箭，最终能够相对比较准确地射中靶心，但这时候突然把靶心移动了（测试集分布下的最优解），用它来评估准确率，这很明显是不科学的")]),t._v(" "),i("p",[t._v("所以，这种时候我们更多做的是，"),i("strong",[t._v("对这些不同分布的数据进行打乱，随机调出一部分数据作为开发集，随机挑出一部分作为测试集，这样这些数据就满足同分布了")])]),t._v(" "),i("p",[t._v("我们在做一个项目的时候一定要将各个分布数据都考虑到，除非那个分布是实际应用中基本不会存在的")]),t._v(" "),i("h4",{attrs:{id:"_3-1-6-size-of-dev-and-test-sets"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-6-size-of-dev-and-test-sets"}},[t._v("#")]),t._v(" 3.1.6 Size of dev and test sets")]),t._v(" "),i("p",[t._v("嗯，我们原来可能都是这样划分 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Training Set")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")])])])])]),t._v(" 、 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Dev Set")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")])])])])]),t._v(" 、 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Test Set")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")])])])])]),t._v(" 的，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("70")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")]),i("mtext"),i("mi",[t._v("D")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("30")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Training Set 70\\%\\ Dev Set 30\\%")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.94444em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("7")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("%")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("%")])])])])]),t._v(" ，再比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("60")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")]),i("mtext"),i("mi",[t._v("D")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("20")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")]),i("mtext"),i("mi",[t._v("T")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("20")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Training Set 60\\%\\ Dev Set 20\\%\\ Test Set 20\\%")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.94444em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("6")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("%")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("%")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("%")])])])])]),t._v(" 这样，当然这在如今的大数据时代已经不适用了，因为原来我们只有 100~10000 这样的量级的数据，但如今我们有着上百万量级的数据，所以我们可以用更多的数据去训练，比如说 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("98")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")]),i("mtext"),i("mi",[t._v("D")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("1")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")]),i("mtext"),i("mi",[t._v("T")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mn",[t._v("1")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("%")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Training Set 98\\%\\ Dev Set 1\\%\\ Test Set 1\\%")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.94444em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mord"},[t._v("%")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("%")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("%")])])])])]),t._v("，")],1),t._v(" "),i("p",[t._v("由于测试集的作用仅仅是评估已经做好的某个神经网络，更多的数据也仅仅可以提高最终评估结果的置信度，并不能提高其准确度，所以测试集并不是需要太多的数据")]),t._v(" "),i("p",[t._v("有些时候会省略掉测试集，只有训练集和开发集，这样的话如果有足够自信或者真的不需要测试的情况下当然也是可以的，但最好还是设这样的一个测试集，这样可以有效地避免神经网络对开发集过拟合的现象")]),t._v(" "),i("h4",{attrs:{id:"_3-1-7-when-to-change-dev-test-sets-and-metrics"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-7-when-to-change-dev-test-sets-and-metrics"}},[t._v("#")]),t._v(" 3.1.7 When to change dev/test sets and metrics")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("举个例子，我们有两个猫分类器，第一个只有 3% 的误差，但是却有很多色情图被当做猫图推送给用户了，而第二个猫分类器则有 5% 的分类器，任何色情图都没有推送给用户，我们还有用户很明显会觉得第二个分类器比较好，但是如果按原来的指标来看，分类器一更佳，这……这说明我们"),i("strong",[t._v("需要改变指标")]),t._v("了")]),t._v(" "),i("blockquote",[i("p",[t._v("如何改变指标？我们可以将 error 的评估表达式中的色情图前面加上一个比较大的权重，这样的话，即便是很少的色情图都会造成很大的误差值，也就避免了上述情况，我们仍能使用单一误差值来评估分类器")])])]),t._v(" "),i("li",[i("p",[t._v("另一个例子，比如说我们使用的开发集是在网上收集的质量很好的图片，而实际用户所上传的却是模糊的、摄影角度不专业的图片，这使得原来在开发集上表现优良的分类器一（error=3%）在实际应用中不如分类器二（error=5%），这时候我们需要"),i("strong",[t._v("改变开发集")]),t._v("了")])])]),t._v(" "),i("p",[t._v("机器学习完全独立的两步：")]),t._v(" "),i("ol",[i("li",[t._v("定义评估指标")]),t._v(" "),i("li",[t._v("优化该指标")])]),t._v(" "),i("h4",{attrs:{id:"_3-1-8-why-human-level-performance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-8-why-human-level-performance"}},[t._v("#")]),t._v(" 3.1.8 Why human-level performance?")]),t._v(" "),i("p",[i("img",{attrs:{src:a(306),alt:"DeepLearning15"}})]),t._v(" "),i("p",[t._v("大多数情况下，机器学习随着算法的优化迅速赶超人类的表现，但在超过人类表现之后，进展会越来越缓慢，但是总体上趋近于一个理论上限值——贝叶斯误差，这个上限值是无法超越的，因为总有无法识别的信息（比如说失真十分严重的信息）")]),t._v(" "),i("p",[t._v("为什么是在超越人类表现后进展越来越缓慢了呢？其一是因为人类表现本身已经很接近贝叶斯误差了，再者，数据的来源都是人类，所以我们有着大量人类所创造的数据来用于它准确度的提升，但想要超过人类的话，就无能为力了")]),t._v(" "),i("h4",{attrs:{id:"_3-1-9-avoidable-bias"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-9-avoidable-bias"}},[t._v("#")]),t._v(" 3.1.9 Avoidable bias")]),t._v(" "),i("p",[t._v("比如有一个分类器，在训练集上误差为 8% ，而在开发集上误差为 10% ，若按以前的想法我们可能会觉得，它的偏差太大了，我们应当使用降低偏差的方法（多跑几次或者使用更大的神经网络）")]),t._v(" "),i("p",[t._v("但如今我们知道了有贝叶斯误差，所以我们现在并不能单纯地认为 8% 是一个很大的误差了，一旦贝叶斯误差是 10% 呢？由于人类的表现已经很接近贝叶斯误差了，所以我们也可以以人类的表现来近似地替代贝叶斯误差")]),t._v(" "),i("p",[t._v("比如人类的表现误差为 1% ，那很明显训练集误差太大了，但如果人类的表现只有 7.5% 呢（比如说这些图片非常非常模糊，人类也很难分辨）？这时候其实训练集已经很接近贝叶斯误差了，此时我们很难继续提高训练集的准确率了，继续提高可能使其过拟合，所以我们这时候应当考虑开发集与训练集为什么会差这 2% 了，也就是考虑方差的问题了")]),t._v(" "),i("p",[i("strong",[t._v("不过我们是怎么判断到底应该考虑偏差还是方差呢？由于原来在训练集上的误差不能单纯地使用了，我们使用一个新的参数——可避免偏差（训练集误差与贝叶斯误差之差），而方差可用开发集与训练集误差之差衡量，在第一个例子里可避免偏差为 7% ，方差为 2% ，很明显我们这时候我们应当使用降低偏差的方法，在第二个例子里可避免偏差为 0.5% ，方差为 2% ，这个时候应当使用降低方差的方法")])]),t._v(" "),i("h4",{attrs:{id:"_3-1-10-understanding-human-level-performance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-10-understanding-human-level-performance"}},[t._v("#")]),t._v(" 3.1.10 Understanding human-level performance")]),t._v(" "),i("p",[t._v("我们如何评判人类的水平？比如说有一张放射科图片，没经过任何训练的普通人的误差可能达到 3% ，而普通医生可能达到 1% ，经验丰富的医生可能只有 0.7% ，如果这样一队经验丰富的医生相互讨论得到的结果甚至可以达到 0.5% ，但哪个是人类的水平呢？")]),t._v(" "),i("p",[t._v("如果是想要获得贝叶斯误差的话，很明显 0.5% 是最佳选择，因为贝叶斯误差一定比人类最佳表现更好，但如果我们只是想发表论文或者部署系统，那么一个普通医生的误差便可以了（1%）")]),t._v(" "),i("p",[t._v("如果我们面临训练集 5% 的误差、开发集 6% 的误差的话，我们选择哪个作为人类表现都是无所谓的，可避免偏差都比方差大；训练集 1% 的误差、开发集 5% 的误差的话，可避免偏差是一定比方差小的；但如果训练集 0.7% 的误差、开发集 0.8% 的误差，那么贝叶斯误差的近似选择就成了一个棘手的问题了，如果选择的不当，那么方向（降低方差还是降低偏差）就会错误，不过在这个时候训练集和开发集的拟合已经相当不错了，已经相当接近于人类的表现了")]),t._v(" "),i("h4",{attrs:{id:"_3-1-11-surpassing-human-level-performance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-11-surpassing-human-level-performance"}},[t._v("#")]),t._v(" 3.1.11 Surpassing human-level performance")]),t._v(" "),i("p",[t._v("接着之前的例子，单人误差 1% ，一队误差 0.5% ，训练集误差 0.6% ，开发集误差 0.8% ，那么肯定是使用 0.5% 误差的啦，但如果单人误差 1% ，一队误差 0.5% ，训练集误差 0.3% ，开发集误差 0.4% ，可避免偏差是多少？贝叶斯误差选哪个值？如果贝叶斯误差是 0.5% ，那么训练集可能有 0.2% 的过拟合，但贝叶斯误差也是可能比 0.5% 低的啊，那到底是多少呢？0.4%？0.3%？0.2%？这就无从得知了……所以说这样很难评估一个与人类水平不相上下的系统")]),t._v(" "),i("p",[t._v("但是很多系统已经远远超过人类了，比如说广告的推送、物流时间等等，不过这些都只是通过"),i("strong",[t._v("结构化数据训练")]),t._v("出的，因为他们有着大量数据的支持，"),i("strong",[t._v("很容易超过人类")]),t._v("，而在类似语音识别、图片识别等"),i("strong",[t._v("自然感知任务")]),t._v("方面，"),i("strong",[t._v("超过人类还是很难的")])]),t._v(" "),i("h4",{attrs:{id:"_3-1-12-improving-your-model-performance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-12-improving-your-model-performance"}},[t._v("#")]),t._v(" 3.1.12 Improving your model performance")]),t._v(" "),i("p",[t._v("下面就是总结咯")]),t._v(" "),i("p",[t._v("我们的步骤是，第一步要设计合适的网络使得它在训练集上的偏差足够小，也就是尽量减小可避免偏差；第二步就是利用开发集和测试集优化，使得对开发集与测试集的误差尽量得小，也就是尽量减小方差")]),t._v(" "),i("ol",[i("li",[i("p",[t._v("减小可避免偏差，我们经常用的策略有")]),t._v(" "),i("ul",[i("li",[t._v("训练更大规模的 NN / 训练更久")]),t._v(" "),i("li",[t._v("选择更好的优化算法（RMSprop、momentum、Adam）")]),t._v(" "),i("li",[t._v("选择其它的神经网络框架（CNN、RNN） / 优化超参数（层数、隐藏单元数等等等等）")])])]),t._v(" "),i("li",[i("p",[t._v("减小方差，我们经常用的策略有")]),t._v(" "),i("ul",[i("li",[t._v("收集更多的数据")]),t._v(" "),i("li",[t._v("正则化（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("L")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 正则化、"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")]),i("mi",[t._v("o")]),i("mi",[t._v("u")]),i("mi",[t._v("t")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("dropout")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")])])])])]),t._v(" 正则化、数据增强）")],1),t._v(" "),i("li",[t._v("选择其它的神经网络框架 / 优化超参数 （同上）")])])])]),t._v(" "),i("h3",{attrs:{id:"_3-2-ml-strategy-2"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-ml-strategy-2"}},[t._v("#")]),t._v(" 3.2 ML Strategy (2)")]),t._v(" "),i("h4",{attrs:{id:"_3-2-1-carrying-out-error-analysis"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-carrying-out-error-analysis"}},[t._v("#")]),t._v(" 3.2.1 Carrying out error analysis")]),t._v(" "),i("p",[t._v("如何判断一个算法到底出错在哪里了呢？emmmmm，那我们可以看看它在哪里犯下错误了")]),t._v(" "),i("p",[t._v("比如说，我们这么一个猫分类器，然后它取得了 90% 的准确率，然后我们就要分析那 10% 的错误到底是怎么错的")]),t._v(" "),i("p",[t._v("比如这 10% 有相当一部分是由于把一些狗给分类成猫了，那么我们可以收集些狗的图片用于训练，但如果说狗只占一小部分的话，那么这样就显得很没必要了，所以我们应当考虑到分类错误的各种情况，用一个表格列出来，统计下影响比较大的那几项，并针对其进行处理就可以啦，比如这里我们可以考虑下是否是猫科动物、是否是狗、是否是太模糊、甚至可能是某种滤镜出了问题")]),t._v(" "),i("h4",{attrs:{id:"_3-2-2-cleaning-up-incorrectly-labeled-data"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-cleaning-up-incorrectly-labeled-data"}},[t._v("#")]),t._v(" 3.2.2 Cleaning up Incorrectly labeled data")]),t._v(" "),i("p",[t._v("数据中无法避免有一些是被标记错误的，比如说一只猫在一个非常角落的地方不小心漏掉了，再或者把一只画中的猫标记成了真猫，那我们如何处理这些标记错误的数据呢？")]),t._v(" "),i("p",[t._v("如果说标记错误地比较有随机性的话，那么算法的鲁棒性会弥补这个错误，但如果说出现了把所有白色的狗都标记成猫这样的严重错误的话，很明显，最终的算法也会把白色的狗给标记成猫，这个时候我们不得不花些时间去修正它们了")]),t._v(" "),i("p",[t._v("我们可以像上一节一样，将出错部分的数据的出错原因一一列出，也把标记错误这个原因列出来，一样地，我们看下这个原因所占比例如何，如果比例不高，我们可以优先优化其他问题")]),t._v(" "),i("p",[t._v("当然，刚刚对错误的评估仅仅是针对开发集，但如果我们真的要去修正的话，"),i("strong",[t._v("最好开发集和训练集都修正，以保证他们满足同分布")]),t._v("，不过仅仅修正开发集也是可以的，因为其分布的差别应当不会特别大")]),t._v(" "),i("p",[t._v("另外，我们"),i("strong",[t._v("修正的时候不要仅仅修正这些发生错误的部分，也要对正确那部分进行修正")]),t._v("，因为那些正确的部分也许是侥幸分类正确的啊……")]),t._v(" "),i("h4",{attrs:{id:"_3-2-3-build-your-first-system-quickly-then-iterate"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-build-your-first-system-quickly-then-iterate"}},[t._v("#")]),t._v(" 3.2.3 Build your first system quickly, then iterate")]),t._v(" "),i("p",[t._v("如果要构建一个全新的机器学习应用的话，最好的方法并不是考虑的太多（这会使得系统一建立便过于复杂），最好是"),i("strong",[t._v("快速划分训练集、开发集，然后迅速建立一个简单的神经网络，并用上周所说的偏差/方差评估法对其进行评估")]),t._v("，在评估过程中我们会找出算法的最大缺陷的，然后我们针对该缺陷进行改进")]),t._v(" "),i("h4",{attrs:{id:"_3-2-4-training-and-testing-on-different-distributions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-4-training-and-testing-on-different-distributions"}},[t._v("#")]),t._v(" 3.2.4 Training and testing on different distributions")]),t._v(" "),i("p",[t._v("训练神经网络是要很多很多的数据的，但我们很难收集到和实际应用分布相同的数据，所以我们会尽可能地收集相似的数据，尽管它们的分布与实际应用时差别很大")]),t._v(" "),i("p",[t._v("比如我们要做一个猫分类器，我们从网络上爬取到取景专业、分辨率高的图片（收集到了 20w 组），而我们实际应用的数据（从 APP 上收集的数据）很模糊、取景不专业（也收集到了 1w 组），那要如何划分数据集呢？下面有两种方案，让我们看下")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("将两种数据随机打乱后，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("a")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mtext"),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mtext"),i("mn",[t._v("21")]),i("mi",[t._v("w")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Train\\ Set\\ 21w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])])]),t._v(" ，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("D")]),i("mi",[t._v("e")]),i("mi",[t._v("v")]),i("mtext"),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mtext"),i("mn",[t._v("5")]),i("mi",[t._v("k")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Dev\\ Set\\ 5k")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("D")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("v")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),t._v(" ， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mtext"),i("mi",[t._v("S")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mtext"),i("mn",[t._v("5")]),i("mi",[t._v("k")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Test\\ Set\\ 5k")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),t._v(" ，嗯，都来自同分布了，但是缺点很致命，因为它们与我们的最终目标相差甚远，因为 APP 数据只占很小一部分，所以说我们一直瞄着的方向和我们最终应用的方向会差很多很多，还是看下一种方法吧")],1)]),t._v(" "),i("li",[i("p",[t._v("训练集中包含全部 20w 爬取数据，此外包含 1w APP 上的数据，而开发集、测试集各 5k 的 APP 上的数据，这就保证了我们后来的目标与最终目标是一致的，只不过训练集和开发集间的分布会相差较大些，但这种方法确实会带来更好的系统性能，至于训练集与开发集分布的差异，后续会讲到优化方案")])])]),t._v(" "),i("p",[t._v("再举个例子，比如我们要做一个车载语音系统，但真正车载语音数据仅有 2w ，而其他语音系统的数据可以买到 50w 这么多，所以我们可以训练集中包含这 50w 其他数据，而开发集测试集各 1w 车载语音数据，或者使用 50w 其他数据与 1w 车载数据作为训练集， 开发集测试集各 5k 这样")]),t._v(" "),i("h4",{attrs:{id:"_3-2-5-bias-and-variance-with-mismatched-data-distributions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-5-bias-and-variance-with-mismatched-data-distributions"}},[t._v("#")]),t._v(" 3.2.5 Bias and Variance with mismatched data distributions")]),t._v(" "),i("p",[t._v("我们之前都是针对分布相同的数据集评估偏差与方差，那么分布不同的呢？")]),t._v(" "),i("p",[t._v("我们知道，我们原来使用训练集误差与贝叶斯误差作为可避免偏差，开发集误差与训练集误差作为方差处理，这样可以有效判断到底问题出在方差还是误差上，但分布不同的话，开发集误差与训练集误差的差值可就不仅仅是方差的问题了，可能其还包含了两种数据之间不匹配的问题（就是向两个靶心之间的差距啦，靶心不同肯定会有误差的），那如何评估数据不匹配问题和方差问题呢")]),t._v(" "),i("p",[t._v("我们知道，我们原来开发集与测试集同分布，因而我们不需要考虑数据不匹配的问题，相同地，我们可以找一个和训练集分布相同的来评估下方差问题，故从训练集中抽出一部分数据作为训练-开发集，这部分数据不参与反向传播，这保证了训练-开发集误差与训练集误差之差就是方差，而训练-开发集误差与训练集误差之差就是数据不匹配问题")]),t._v(" "),i("p",[t._v("所以，我们现在需要考虑的就是：")]),t._v(" "),i("ul",[i("li",[t._v("贝叶斯误差（人类误差） ---- 可避免偏差 ---- 训练集误差")]),t._v(" "),i("li",[t._v("训练集误差 ---- 方差 ---- 训练-开发集误差")]),t._v(" "),i("li",[t._v("训练-开发误差 ---- 数据不匹配问题 ---- 开发集误差")]),t._v(" "),i("li",[t._v("开发集误差 ---- 开发集过拟合问题 ---- 测试集误差")])]),t._v(" "),i("p",[t._v("有时候会出现一些有趣的事情，比如说开发集与测试集误差比训练集误差小，其实这是可能的事情，比如说上节的语音识别问题，开发集与测试集比训练集更容易识别是完全可能的，我们看下这种情况下要如何进行分析：")]),t._v(" "),i("p",[t._v("我们制作一张二维表格，水平轴上写下各种数据集，比如说是买来的普通语音数据还是收集的车载数据，竖直轴上写下处理数据的不同方法和算法，首先是人类的水平误差，其次是神经网络训练过的数据集上的误差，最后是神经网络未训练过的数据集上的误差")]),t._v(" "),i("p",[i("img",{attrs:{src:a(307),alt:"DeepLearning16"}})]),t._v(" "),i("p",[t._v("(1, 1) 位置自然就是人类水平， (2, 1) 位置自然就是训练集误差， (3, 1) 位置自然就是训练-开发集误差， (3, 2) 位置自然就是开发集误差，他们之间的差值的意义和前面所述一致")]),t._v(" "),i("p",[t._v("而 (1, 2) 位置和 (2, 2) 位置也是有用的， (1, 2) 位置就是人类在车载语音方面的识别误差， (2, 2) 位置就是利用车载语音训练出来的神经网络的误差，我们这样将整个表格填出来之后可以观察到更多的特征，这样就更加方便对神经网络的评估啦")]),t._v(" "),i("h4",{attrs:{id:"_3-2-6-addressing-data-mismatch"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-6-addressing-data-mismatch"}},[t._v("#")]),t._v(" 3.2.6 Addressing data mismatch")]),t._v(" "),i("p",[t._v("前面提到了数据不匹配这个问题，不过这个问题并没有什么比较有效地解决方案，但我们有一些尝试可以去做一下")]),t._v(" "),i("p",[t._v("首先我们做下错误分析，还是以车载语音助手为例，训练集与开发集之间的差异有可能是汽车的噪音造成的，另外可能发现有很多对街道号识别错误的问题，我们可以从这些问题着手进行优化")]),t._v(" "),i("p",[t._v("比如说噪音问题比较大，那么我们可以在将噪音合成在原数据上，再比如说街道号识别问题比较大，我们可以多增加些人工读数字的数据到训练集")]),t._v(" "),i("p",[t._v("值得注意的是，如果我们使用 1 个小时的车载背景噪音合成在 1w 小时的普通语音数据上会存在一个潜在问题就是，神经网络很可能对这 1 小时的背景音过拟合，虽然我们并不能听出来这一小时背景音是循环使用的，但神经网络可是很容易做到的，所以可以尽量收集更多的背景音以预防这种情况")]),t._v(" "),i("h4",{attrs:{id:"_3-2-7-transfer-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-7-transfer-learning"}},[t._v("#")]),t._v(" 3.2.7 Transfer learning")]),t._v(" "),i("p",[t._v("如果我们有一个已经训练好的图片识别系统，我们已经知道，它比较低的层次实现了对点、线、边缘等的识别功能，所以我们完全可以将这个神经网络迁移到一个放射科图片检测系统中，比如将输出层及其参数删掉，更换新的输出层或者增加几层再输出，然后利用放射科图片对这部分神经网络进行优化，这样可以更快地训练好放射科神经网络，因为神经科图片数据并非像普通图片数据那么容易获得")]),t._v(" "),i("p",[t._v("迁移学习一定要注意，首先"),i("strong",[t._v("输入一定是相同的")]),t._v("，这个例子里的输入都是图片，这样保证了前几层的处理效果都是一样的（点线边缘等等），再就是"),i("strong",[t._v("原任务比迁移后的任务数据量大很多")]),t._v("，否则的话就失去了迁移学习的意义了")]),t._v(" "),i("p",[t._v("这种学习方法的两次训练之间是串行的，下面介绍并行的学习方法")]),t._v(" "),i("h4",{attrs:{id:"_3-2-8-multi-task-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-8-multi-task-learning"}},[t._v("#")]),t._v(" 3.2.8 Multi-task learning")]),t._v(" "),i("p",[t._v("比如我们要研究无人驾驶技术，那么我们需要同时检测多种物体，比如说，行人、车辆、停车标记、红绿灯等等，那么我们最终的输出层就类似于 "),i("code",[t._v("[0, 1, 0, 1]")]),t._v("，当然这不是 Softmax 分类器，因为这里可能同时出现多个 "),i("code",[t._v("1")]),t._v(" ，所以我们的最终的损失是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mfrac",[i("mn",[t._v("1")]),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("m")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mi",[t._v("m")])],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mn",[t._v("4")])],1),i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mover",{attrs:{accent:"true"}},[i("mi",[t._v("y")]),i("mo",[t._v("^")])],1),i("mi",[t._v("j")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("y")]),i("mi",[t._v("j")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\frac{1}{m} \\sum_{m=1}^m \\sum_{j=1}^4 L(\\hat{y}_j^{(i)}, y_j^{(i)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.480618em","vertical-align":"-0.43581800000000004em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.804292em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("m")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29971000000000003em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop"},[i("span",{staticClass:"mop op-symbol small-op",staticStyle:{position:"relative",top:"-0.0000050000000000050004em"}},[t._v("∑")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.954008em"}},[i("span",{staticStyle:{top:"-2.40029em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.2029em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.43581800000000004em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.19444em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4231360000000004em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4129719999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4231360000000004em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4129719999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，我们的数据集中可能出现"),i("code",[t._v("[1, 1, 0, ?]")]),t._v(" 的情况，也就是没有对是否有红绿灯打标签，那么我们在求和时就忽略那一项")],1),t._v(" "),i("p",[t._v("这种方法比之于分成 4 个神经网络分别识别四种物体的好处是，他们共用相同的低层次网络与参数，这样他们会相互学习，使得性能更高，实践也表明了，在神经网络足够大的情况下，这种方法比分开识别的性能更高")]),t._v(" "),i("p",[t._v("当然它也是有适用条件的，首先"),i("strong",[t._v("同时训练的这几组任务可以共用低层次特征")]),t._v("，其次，"),i("strong",[t._v("对于某个要专注提升性能的任务，其余所有任务最好超过该任务样本数")]),t._v("，最后，前面提到了，"),i("strong",[t._v("多任务是在神经网络比较大的情况下效果更好")])]),t._v(" "),i("p",[t._v("通常，人们更多使用学习迁移而较少使用多任务学习，也许因为很难找到那么多相似且数据量对等的任务可以用单一神经网络训练，但他们确实都是比较实用的工具")]),t._v(" "),i("h4",{attrs:{id:"_3-2-9-what-is-end-to-end-deep-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-9-what-is-end-to-end-deep-learning"}},[t._v("#")]),t._v(" 3.2.9 What is end-to-end deep learning?")]),t._v(" "),i("p",[t._v("端对端是指用单个神经网络代替从前多个阶段处理的系统")]),t._v(" "),i("p",[t._v("比如说，我们原来的一个语音识别需要输入语音、提取特征、寻找音位、组成单词最终译成文本，这使得我们很容易获得任务，但如果使用端对端方法，我们可以输入语音、通过一个神经网络、直接输出文本")]),t._v(" "),i("p",[t._v("再举个例子，比如说门禁的人脸识别系统，如果使用端对端的话，应当是输入门禁捕捉到的图片，然后喂入网络识别，但是事实上我们可以分为简单的两步取得更好的效果，首先用软件标记出人脸的位置，然后将人脸裁剪出来并喂入神经网络进行识别，之所以分成两步更加好，因为我们有很多的人脸标记位置的数据与人脸匹配的数据，所以我们可以很方便地建立这两步，但直接一步成型的话，至少现在的效果还是不好的")]),t._v(" "),i("p",[t._v("所以说，端对端并不一定是最好的方法，具体哪个更好我们还需要自己仔细分析下")]),t._v(" "),i("h4",{attrs:{id:"_3-2-10-whether-to-use-end-to-end-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-10-whether-to-use-end-to-end-learning"}},[t._v("#")]),t._v(" 3.2.10 Whether to use end-to-end learning?")]),t._v(" "),i("p",[t._v("是否要使用端对端学习呢？我们先看下它的优缺点：")]),t._v(" "),i("p",[t._v("优点：")]),t._v(" "),i("ul",[i("li",[t._v("更多由数据来说话，没有过多的人为因素干预")]),t._v(" "),i("li",[t._v("人工设计部分更少了")])]),t._v(" "),i("p",[t._v("缺点：")]),t._v(" "),i("ul",[i("li",[t._v("不可避免地，我们需要很多很多的数据来训练它")]),t._v(" "),i("li",[t._v("无法采用一些人工设计，因为有些人为干预会有很大的帮助")])]),t._v(" "),i("p",[t._v("至于到底要不要用端对端学习，首先我们可能是要看是否有足够的数据来构建端对端学习网络，因为这真的需要很多很多的数据来完成")]),t._v(" "),i("h2",{attrs:{id:"_4-convolutional-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-convolutional-neural-networks"}},[t._v("#")]),t._v(" 4 Convolutional Neural Networks")]),t._v(" "),i("h3",{attrs:{id:"_4-1-foundations-of-convolutional-neural-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-foundations-of-convolutional-neural-networks"}},[t._v("#")]),t._v(" 4.1 Foundations of Convolutional Neural Networks")]),t._v(" "),i("h4",{attrs:{id:"_4-1-1-computer-vision"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-computer-vision"}},[t._v("#")]),t._v(" 4.1.1 Computer vision")]),t._v(" "),i("p",[t._v("深度学习给计算机视觉带来了极大的突破，计算机视觉中有着不少其他领域可以借鉴的方法")]),t._v(" "),i("p",[t._v("我们之前都是讨论的 (64, 64, 3) 这样的小图，如果我们有 (1000, 1000, 3) 这样的大图呢？直接使用全连接网络的话需要的参数可是……好多好多，所以下面我们就要考虑下卷积操作了")]),t._v(" "),i("h4",{attrs:{id:"_4-1-2-edge-detection-example"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-edge-detection-example"}},[t._v("#")]),t._v(" 4.1.2 Edge detection example")]),t._v(" "),i("p",[t._v("我们之前了解到，神经网络的前几层是对低层次结构进行检测，比如人脸识别神经网络的前几层会检测边缘、区域等等，下面我们看下边缘检测是如何进行的")]),t._v(" "),i("p",[i("img",{attrs:{src:a(308),alt:"DeepLearning17"}})]),t._v(" "),i("p",[t._v("过滤器（卷积核）在原图上滑动，计算出新图，"),i("code",[t._v("*")]),t._v("表示卷积")]),t._v(" "),i("p",[t._v("其实这个卷积处理计算了竖直边缘，为啥呢？看下面这个例子")]),t._v(" "),i("p",[i("img",{attrs:{src:a(309),alt:"DeepLearning18"}})]),t._v(" "),i("h4",{attrs:{id:"_4-1-3-more-edge-detection"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-more-edge-detection"}},[t._v("#")]),t._v(" 4.1.3 More edge detection")]),t._v(" "),i("ul",[i("li",[t._v("竖直边缘检测（左亮右暗为正值）")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{bmatrix}\n1 & 0 & -1\\\\\n1 & 0 & -1\\\\\n1 & 0 & -1\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.6010299999999997em","vertical-align":"-1.55002em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("水平边缘检测（上亮下暗为正值）")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{bmatrix}\n1 & 1 & 1\\\\\n0 & 0 & 0\\\\\n-1 & -1 & -1\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.6010299999999997em","vertical-align":"-1.55002em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("Sobel 过滤器")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("2")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("2")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("1")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("1")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{bmatrix}\n1 & 0 & -1\\\\\n2 & 0 & -2\\\\\n1 & 0 & -1\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.6010299999999997em","vertical-align":"-1.55002em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("2")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("2")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("Scharr 过滤器")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("3")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("3")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("10")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("10")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("3")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mn",[t._v("0")])],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("mrow",[i("mo",[t._v("−")]),i("mn",[t._v("3")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{bmatrix}\n3 & 0 & -3\\\\\n10 & 0 & -10\\\\\n3 & 0 & -3\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.6010299999999997em","vertical-align":"-1.55002em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("3")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("0")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("3")])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])])])])])])])])],1),i("ul",[i("li",[t._v("你自己的过滤器（作为一个参数，在反向迭代中自动优化）")])]),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("1")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("2")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("3")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("4")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("5")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("6")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("7")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("8")])],1)],1)],1),i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("w")]),i("mn",[t._v("9")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\n\\begin{bmatrix}\nw_{1} & w_{2} & w_{3}\\\\\nw_{4} & w_{5} & w_{6}\\\\\nw_{7} & w_{8} & w_{9}\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.6010299999999997em","vertical-align":"-1.55002em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("7")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("5")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("8")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])]),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"arraycolsep",staticStyle:{width:"0.5em"}}),i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.05em"}},[i("span",{staticStyle:{top:"-4.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.0099999999999993em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("6")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.8099999999999994em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("9")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5500000000000007em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"2.0510099999999998em"}},[i("span",{staticStyle:{top:"-2.2500000000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-2.8099900000000004em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.05101em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.55002em"}},[i("span")])])])])])])])])])])])],1),i("h4",{attrs:{id:"_4-1-4-padding"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-4-padding"}},[t._v("#")]),t._v(" 4.1.4 Padding")]),t._v(" "),i("p",[t._v("很明显，每次卷积之后图片都会变小，那么经过多次卷积之后的图片就会变得非常小了")]),t._v(" "),i("p",[t._v("比如说，一个 "),i("code",[t._v("(6, 6)")]),t._v(" 的图片经 "),i("code",[t._v("(3, 3)")]),t._v(" 的过滤器后，会产生 "),i("code",[t._v("(4, 4)")]),t._v(" 的图片，一般地，就是说 "),i("code",[t._v("(n, n)")]),t._v(" 的图片经 "),i("code",[t._v("(f, f)")]),t._v(" 的过滤器后会产生 "),i("code",[t._v("(n-f+1, n-f+1)")]),t._v(" 的图片，为了不使图片变小，我们可以对图片进行填充处理（Padding），比如说在图片最外层填充 "),i("code",[t._v("p")]),t._v(" 圈像素点（一般填充 0 ）")]),t._v(" "),i("p",[t._v("常用的 Padding 方法有")]),t._v(" "),i("ul",[i("li",[t._v("Valid 卷积，不填充 "),i("code",[t._v("p = 0")])]),t._v(" "),i("li",[t._v("Same 卷积，卷积前后的图片大小不变，很容易得知 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("p")]),i("mo",[t._v("=")]),i("mfrac",[i("mrow",[i("mi",[t._v("f")]),i("mo",[t._v("−")]),i("mn",[t._v("1")])],1),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p = \\frac{f - 1}{2}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.277216em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9322159999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})])])])])]),t._v(" ，通常情况下 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])])]),t._v(" 是奇数")],1)]),t._v(" "),i("h4",{attrs:{id:"_4-1-5-strided-convolutions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-5-strided-convolutions"}},[t._v("#")]),t._v(" 4.1.5 Strided convolutions")]),t._v(" "),i("p",[t._v("我们之前过滤器每次只移动一个像素，如果移动多个像素，那么就称其为步长 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("r")]),i("mi",[t._v("i")]),i("mi",[t._v("d")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("strid")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")])])])])])],1),t._v(" "),i("p",[t._v("很容易地，我们知道这个时候经过卷积后的图片应当是变成了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mfrac",[i("mrow",[i("mi",[t._v("n")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mi",[t._v("p")])],1),i("mi",[t._v("s")])],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mfrac",[i("mrow",[i("mi",[t._v("n")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mi",[t._v("p")])],1),i("mi",[t._v("s")])],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(\\frac{n-f+2p}{s} + 1, \\frac{n-f+2p}{s} + 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.277216em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9322159999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.277216em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9322159999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，当商不是整数的时候，我们使用向下取整 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("⌊")]),i("mfrac",[i("mrow",[i("mi",[t._v("n")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mi",[t._v("p")])],1),i("mi",[t._v("s")])],1),i("mo",{attrs:{fence:"true"}},[t._v("⌋")])],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("⌊")]),i("mfrac",[i("mrow",[i("mi",[t._v("n")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mi",[t._v("p")])],1),i("mi",[t._v("s")])],1),i("mo",{attrs:{fence:"true"}},[t._v("⌋")])],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(\\left\\lfloor \\frac{n-f+2p}{s} \\right\\rfloor + 1, \\left\\lfloor \\frac{n-f+2p}{s} \\right\\rfloor + 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.80002em","vertical-align":"-0.65002em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size2"},[t._v("⌊")])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9322159999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size2"},[t._v("⌋")])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.80002em","vertical-align":"-0.65002em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size2"},[t._v("⌊")])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9322159999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.446108em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size2"},[t._v("⌋")])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，也就是说，当过滤器一部分移到原图外的时候不作计算")],1),t._v(" "),i("p",[t._v("另外，在数学中卷积的定义是先对过滤器水平镜像翻转与竖直镜像翻转，再放到原图上滑动计算，在深度学习实践与文献中一般省略掉了镜像的过程，省略掉镜像的过程在数学上一般被叫做互相关，但深度学习中一般便称其为卷积操作了")]),t._v(" "),i("h4",{attrs:{id:"_4-1-6-convolutions-over-volumes"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-6-convolutions-over-volumes"}},[t._v("#")]),t._v(" 4.1.6 Convolutions over volumes")]),t._v(" "),i("p",[i("img",{attrs:{src:a(310),alt:"DeepLearning19"}})]),t._v(" "),i("p",[t._v("前面的图片都是灰度图片，只有一个颜色通道，但我们的图片往往是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mi",[t._v("G")]),i("mi",[t._v("B")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("RGB")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")])])])])]),t._v(" 三个颜色通道的，这个时候我们的输入增加了一个维度（通道数， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("n")]),i("mi",[t._v("n")]),i("mi",[t._v("e")]),i("mi",[t._v("l")]),i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("channels")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v("，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("n")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v("），相应地，过滤器也是要变成三维的，而且他们的通道数相同，这里都是 3 ，至于运算方法，和原来一样，滑动乘积就好，当然输出会是一个二维的")],1),t._v(" "),i("p",[t._v("如果我们只关心红色通道的竖直边缘的话，我们可以将过滤器设为")]),t._v(" "),i("div",{staticClass:"language-python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[t._v("R "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nG "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nB "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br"),i("span",{staticClass:"line-number"},[t._v("6")]),i("br"),i("span",{staticClass:"line-number"},[t._v("7")]),i("br"),i("span",{staticClass:"line-number"},[t._v("8")]),i("br"),i("span",{staticClass:"line-number"},[t._v("9")]),i("br"),i("span",{staticClass:"line-number"},[t._v("10")]),i("br"),i("span",{staticClass:"line-number"},[t._v("11")]),i("br"),i("span",{staticClass:"line-number"},[t._v("12")]),i("br"),i("span",{staticClass:"line-number"},[t._v("13")]),i("br"),i("span",{staticClass:"line-number"},[t._v("14")]),i("br"),i("span",{staticClass:"line-number"},[t._v("15")]),i("br"),i("span",{staticClass:"line-number"},[t._v("16")]),i("br"),i("span",{staticClass:"line-number"},[t._v("17")]),i("br"),i("span",{staticClass:"line-number"},[t._v("18")]),i("br")])]),i("p",[t._v("若只关心竖直边缘而不关心具体是那个通道下的边缘的话，RGB 都设为")]),t._v(" "),i("div",{staticClass:"language-python line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-python"}},[i("code",[i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),i("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),i("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[t._v("1")]),i("br"),i("span",{staticClass:"line-number"},[t._v("2")]),i("br"),i("span",{staticClass:"line-number"},[t._v("3")]),i("br"),i("span",{staticClass:"line-number"},[t._v("4")]),i("br"),i("span",{staticClass:"line-number"},[t._v("5")]),i("br")])]),i("p",[t._v("就好")]),t._v(" "),i("p",[t._v("那么，我们想要同时获取多个特征怎么办，比如说既想要垂直边缘也想要水平边缘")]),t._v(" "),i("p",[i("img",{attrs:{src:a(311),alt:"DeepLearning20"}})]),t._v(" "),i("p",[t._v("我们可以使用多个过滤器，各个输出叠在一起，形成一个三维的输出方块，这里使用 2 个过滤器，输出的第三维自然也是 2")]),t._v(" "),i("h4",{attrs:{id:"_4-1-7-one-layer-of-a-convolutional-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-7-one-layer-of-a-convolutional-network"}},[t._v("#")]),t._v(" 4.1.7 One layer of a convolutional network")]),t._v(" "),i("p",[i("img",{attrs:{src:a(312),alt:"DeepLearning21"}})]),t._v(" "),i("p",[t._v("和之前一样，前向传播是要 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[1]} = W^{[1]} a^{[0]} + b^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" ，之后增加非线性函数使得 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[1]} = g(z^{[1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 这里 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[0]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 就是输入的 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("6")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("6")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(6, 6, 3)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("6")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("6")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 图片，经由两个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(3, 3, 3)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 的过滤器，或者说 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(3, 3, 3, 2)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 的过滤器，生成 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("4")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("4")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(4, 4, 2)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("4")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("4")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 的图片，这就得到了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[1]} a^{[0]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("0")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" ，之后利用 Python 的广播特性对每个元素进行处理就得到了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])])],1),t._v(" "),i("p",[t._v("如果是一个全连接网络的话，我们当时讨论过那时的参数取决于输入结点数，图片像素点越多，参数自然越多，但使用卷积完全不用担心这个问题，假设我们使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("10")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(3, 3, 3, 10)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 的过滤器，那么只有 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("×")]),i("mn",[t._v("10")]),i("mo",[t._v("=")]),i("mn",[t._v("280")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(3 \\times 3 \\times 3 \\times 3 + 1) \\times 10 = 280")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 个参数，无论这张图片有多少像素点，参数数量只有这么多的")],1),t._v(" "),i("p",[t._v("我们来看下我们现在在 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("l")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])])]),t._v(" 层各个参数分别是多少")],1),t._v(" "),i("p",[t._v("首先 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 是过滤器的长（宽），"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("p")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 是 padding 处理程度， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("s")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("s^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 是步长， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_c^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.161392em","vertical-align":"-0.11659199999999997em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])])])])])]),t._v(" 是过滤器的个数")],1),t._v(" "),i("p",[t._v("我们的输入图片为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("×")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("×")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_H^{[l-1]} \\times n_W^{[l-1]} \\times n_c^{[l-1]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.161392em","vertical-align":"-0.11659199999999997em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])])])])])]),t._v("\n输出图片为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("×")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("×")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_H^{[l]} \\times n_W^{[l]} \\times n_c^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.161392em","vertical-align":"-0.11659199999999997em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("p",[t._v("由于输出图片是输入图片经过卷积得到的，所以他们之间的关系有")]),t._v(" "),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("⌊")]),i("mfrac",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("p")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msup",[i("mi",[t._v("s")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{fence:"true"}},[t._v("⌋")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_H^{[l]} = \\left\\lfloor \\frac{n_H^{[l-1]} + 2p^{[l]} -f^{[l]}}{s^{[l]}} + 1 \\right\\rfloor")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.40003em","vertical-align":"-0.95003em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size3"},[t._v("⌊")])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.288865em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.547505em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.38542499999999996em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size3"},[t._v("⌋")])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("⌊")]),i("mfrac",[i("mrow",[i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("msup",[i("mi",[t._v("p")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msup",[i("mi",[t._v("s")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{fence:"true"}},[t._v("⌋")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_W^{[l]} = \\left\\lfloor \\frac{n_W^{[l-1]} + 2p^{[l]} -f^{[l]}}{s^{[l]}} + 1 \\right\\rfloor")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.40003em","vertical-align":"-0.95003em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size3"},[t._v("⌊")])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.288865em"}},[i("span",{staticStyle:{top:"-2.614575em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8220357142857143em"}},[i("span",{staticStyle:{top:"-2.8220357142857138em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.547505em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9667142857142857em"}},[i("span",{staticStyle:{top:"-2.966714285714285em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.38542499999999996em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose delimcenter",staticStyle:{top:"0em"}},[i("span",{staticClass:"delimsizing size3"},[t._v("⌋")])])])])])])])],1)]),t._v(" "),i("p",[t._v("由于过滤器的通道数取决于输入图片通道数，所以过滤器 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("f")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("−")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(f^{[l]}, f^{[l]}, n_c^{[l-1]}, n_c^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2948em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("−")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("→")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b^{[l]} \\rightarrow (1, 1, 1, n_c^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("→")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2948em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("另外，由于 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("→")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]} \\rightarrow (n_H^{[l]}, n_W^{[l]}, n_c^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("→")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，故 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("A")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("→")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("m")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A^{[l]} \\rightarrow (m, n_H^{[l]}, n_W^{[l]}, n_c^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("→")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.338331em","vertical-align":"-0.29353099999999993em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.4064690000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.29353099999999993em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.5834080000000004em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.11659199999999997em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("h4",{attrs:{id:"_4-1-8-a-simple-convolution-network-example"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-8-a-simple-convolution-network-example"}},[t._v("#")]),t._v(" 4.1.8 A simple convolution network example")]),t._v(" "),i("p",[i("img",{attrs:{src:a(313),alt:"DeepLearning22"}})]),t._v(" "),i("p",[t._v("卷积、卷积、卷积、展开")]),t._v(" "),i("p",[t._v("首先，前面的卷积层使得长宽不断缩小，不断增加的过滤器使得通道数不断增加")]),t._v(" "),i("p",[t._v("之后展开，利用 logistic or softmax 输出")]),t._v(" "),i("p",[t._v("不过一般情况下卷积神经网络都由以下三层组成的：")]),t._v(" "),i("ul",[i("li",[t._v("卷积层 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("C")]),i("mi",[t._v("O")]),i("mi",[t._v("N")]),i("mi",[t._v("V")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("CONV")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("V")])])])])])],1),t._v(" "),i("li",[t._v("池化层 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("P")]),i("mi",[t._v("O")]),i("mi",[t._v("O")]),i("mi",[t._v("L")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("POOL")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")])])])])])],1),t._v(" "),i("li",[t._v("全连接层 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("F")]),i("mi",[t._v("C")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("FC")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("F")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])])])])],1)]),t._v(" "),i("h4",{attrs:{id:"_4-1-9-pooling-layers"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-9-pooling-layers"}},[t._v("#")]),t._v(" 4.1.9 Pooling layers")]),t._v(" "),i("p",[t._v("池化层可以缩减模型的大小，提高计算速度并且可以提高所提取特征的鲁棒性")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("最大池化")]),t._v(" "),i("p",[i("img",{attrs:{src:a(314),alt:"DeepLearning23"}})]),t._v(" "),i("p",[t._v("有点类似卷积时过滤器的移动，两个超参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("s")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v(" ，这里 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")]),i("mo",[t._v("=")]),i("mn",[t._v("2")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f = 2, s = 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" ，也就是"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("2")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(2, 2)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 的过滤器以 2 为步长进行移动，每次计算出 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("2")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(2, 2)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 方块内的最大值")],1),t._v(" "),i("p",[t._v("直观理解大概是，如果这一通道提取的是竖直边缘的话（上图中左上角有，右上角没有），经过提取之后的结果不会过多地损失原来的特征（还是左上角有，右上角没有）")])]),t._v(" "),i("li",[i("p",[t._v("平均池化")]),t._v(" "),i("p",[t._v("很少用到，不用说也猜到了，就是每次计算平均值而不是最大值，但在比较深层的神经网络终会遇到")])])]),t._v(" "),i("p",[t._v("当输入为多个通道时，每个通道也是单独计算的，这和卷积那里一样的")]),t._v(" "),i("p",[t._v("很明显，这里有两个超参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("s")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("s")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")])])])])]),t._v(" （一般取"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")]),i("mo",[t._v("=")]),i("mn",[t._v("2")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f = 2, s = 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 或 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("f")]),i("mo",[t._v("=")]),i("mn",[t._v("3")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("s")]),i("mo",[t._v("=")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("f = 3, s = 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v("），"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("p")]),i("mi",[t._v("a")]),i("mi",[t._v("d")]),i("mi",[t._v("d")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("padding")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")])])])])]),t._v(" 基本用不到，另外可以考虑的还有使用最大池化还是平均池化")],1),t._v(" "),i("h4",{attrs:{id:"_4-1-10-convolutional-neural-network-example"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-10-convolutional-neural-network-example"}},[t._v("#")]),t._v(" 4.1.10 Convolutional neural network example")]),t._v(" "),i("p",[i("img",{attrs:{src:a(315),alt:"DeepLearning24"}})]),t._v(" "),i("p",[i("img",{attrs:{src:a(316),alt:"DeepLearning25"}})]),t._v(" "),i("p",[t._v("图片的长度与宽度越来越小，但信道数越来越高，而且参数大多在全连接层，卷积层只有很少的参数")]),t._v(" "),i("p",[t._v("这里的超参数设置的最好方法是阅读更多的案例")]),t._v(" "),i("h4",{attrs:{id:"_4-1-11-why-convolutions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-11-why-convolutions"}},[t._v("#")]),t._v(" 4.1.11 Why convolutions?")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("参数共享 很明显，在过滤器滑动过程中有很多输入值共享同一过滤器的参数")])]),t._v(" "),i("li",[i("p",[t._v("稀疏连接 在过滤器停在某一位置时，其输出值与输入值之间的连接就是他们 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("f")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("f")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("n")]),i("mi",[t._v("c")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(f, f, n_c)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1)])]),t._v(" "),i("p",[t._v("另外，卷积操作有着很好的平移不变属性，通过反向迭代可以获得更好的平移不变属性")]),t._v(" "),i("h3",{attrs:{id:"_4-2-deep-convolutional-models-case-studies"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-deep-convolutional-models-case-studies"}},[t._v("#")]),t._v(" 4.2 Deep convolutional models: case studies")]),t._v(" "),i("h4",{attrs:{id:"_4-2-1-why-look-at-case-studies"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-why-look-at-case-studies"}},[t._v("#")]),t._v(" 4.2.1 Why look at case studies?")]),t._v(" "),i("p",[t._v("在一个任务上表现良好的卷积神经网络往往在其他任务上表现也良好，比如有一个很好的识别猫、狗、人的神经网络，利用它来训练自动驾驶，效果往往也是很好的，至少也是有很大的借鉴价值的")]),t._v(" "),i("p",[t._v("下面的几节课就围绕几个经典的神经网络进行展开")]),t._v(" "),i("ul",[i("li",[t._v("Classic networks\n"),i("ul",[i("li",[t._v("LeNet-5")]),t._v(" "),i("li",[t._v("AlexNet")]),t._v(" "),i("li",[t._v("VGG")])])]),t._v(" "),i("li",[t._v("ResNet")]),t._v(" "),i("li",[t._v("Inception")])]),t._v(" "),i("h4",{attrs:{id:"_4-2-2-classic-networks"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-classic-networks"}},[t._v("#")]),t._v(" 4.2.2 Classic networks")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("LeNet-5")]),t._v(" "),i("p",[i("img",{attrs:{src:a(317),alt:"DeepLearning26"}})]),t._v(" "),i("p",[t._v("1998 年，有很多和现在所使用的不太一样，比如：")]),t._v(" "),i("ul",[i("li",[t._v("当时并不使用 Padding ，所以每次卷积都会变小")]),t._v(" "),i("li",[t._v("那时候更多使用 avg pool 而不是 max pool")]),t._v(" "),i("li",[t._v("激活函数主要使用 sigmoid 和 tanh 而不是 ReLU")]),t._v(" "),i("li",[t._v("那时候最后的分类函数并不是 Softmax 而是别的什么，现在已经不常用了")])])])]),t._v(" "),i("ul",[i("li",[i("p",[t._v("AlexNet")]),t._v(" "),i("p",[i("img",{attrs:{src:a(318),alt:"DeepLearning27"}})]),t._v(" "),i("ul",[i("li",[t._v("使用了 Padding")]),t._v(" "),i("li",[t._v("使用了 ReLU")]),t._v(" "),i("li",[t._v("最后使用了 Softmax")])])]),t._v(" "),i("li",[i("p",[t._v("VGG-16")]),t._v(" "),i("p",[i("img",{attrs:{src:a(319),alt:"DeepLearning28"}})]),t._v(" "),i("ul",[i("li",[t._v("每次都使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("2")]),i("mo",[t._v("×")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("2 \\times 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 池化，长宽各减半")],1),t._v(" "),i("li",[t._v("过滤器通道数 64、128、256、512、512，通道数翻倍")])])])]),t._v(" "),i("h4",{attrs:{id:"_4-2-3-residual-networks-resnets"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-residual-networks-resnets"}},[t._v("#")]),t._v(" 4.2.3 Residual Networks (ResNets)")]),t._v(" "),i("p",[t._v("残差网络对深层神经网络有着很好的优化作用，它可以很好地改善梯度爆炸、梯度消失等问题")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("首先看残差块")]),t._v(" "),i("p",[i("img",{attrs:{src:a(320),alt:"DeepLearning29"}})]),t._v(" "),i("p",[t._v("很容易看到，我们原来 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l+2]} = g(z^{[l+1]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 变成了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l+2]} = g(z^{[l+1]} + a^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，也就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 通过“捷径”（又称跳远连接）迅速到达更深层的位置")],1)]),t._v(" "),i("li",[i("p",[t._v("然后我们再看残差网络，很明显，就是一系列残差块所构成")]),t._v(" "),i("p",[i("img",{attrs:{src:a(321),alt:"DeepLearning30"}})]),t._v(" "),i("p",[t._v("理论上，我们深度越深的神经网络误差会越小，但是深度越深的神经网络越难以训练，会出现一些错误，这使得出现上图左侧蓝线中的情况，而残差网络恰恰优化了这一问题，使得深层神经网络也可以保证良好的性能")])])]),t._v(" "),i("h4",{attrs:{id:"_4-2-4-why-resnets-work"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-why-resnets-work"}},[t._v("#")]),t._v(" 4.2.4 Why ResNets work?")]),t._v(" "),i("p",[t._v("首先，从一个大型神经网络开始")]),t._v(" "),i("p",[i("img",{attrs:{src:a(322),alt:"DeepLearning31"}})]),t._v(" "),i("p",[t._v("在此基础上我们加两层，并使用一个跳远连接，将其作为一个残差块处理，很明显 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("a")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("+")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a[l+2] = g(z^{[l+2]} + a^{[l]}) = g(W^{[l+2]} a^{[l+1]} + b^{[l+2]} + a^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.9713299999999999em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，我们假设 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("b")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W^{[l+2]} = 0, b^{[l+2]} = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0824399999999998em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" ，也就是说 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("mi",[t._v("g")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l+2]} = g(a^{[l]})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("， 如果我们使用 ReLU 激活函数，那么 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l+2]} = a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" ，也就是说加上的这两层没有起作用")],1),t._v(" "),i("p",[t._v("没有起作用说明神经网络很容易学习到未加这两层时候的效果，这就使得加上这两层后并不会使得原来的输出彻底打乱，而是比较好地保留了原来的结果")]),t._v(" "),i("p",[t._v("另外，值得注意的是，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("z")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",[t._v("+")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("z^{[l+2]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.04398em"}},[t._v("z")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mbin mtight"},[t._v("+")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 需要同维度才可以相加，所以这里面有着大量的 Padding 以保证维度不变，如果维度真的不一样，可以使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("W")]),i("mi",[t._v("s")])],1),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("W_s a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.0379999999999998em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 替代 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v(" 以保证维度不变")],1),t._v(" "),i("h4",{attrs:{id:"_4-2-5-network-in-network-and-1×1-convolutions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-5-network-in-network-and-1×1-convolutions"}},[t._v("#")]),t._v(" 4.2.5 Network in Network and 1×1 convolutions")]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 卷积有什么用呢？如果只有一个通道的话，那么输出也就是整体放大一定的倍数而已，但如果是多个通道呢？")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(323),alt:"DeepLearning32"}})]),t._v(" "),i("p",[t._v("我们可以发现，各个输入信道与各个输出信道的同一位置建立起了全连接，之后还有一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mi",[t._v("e")]),i("mi",[t._v("L")]),i("mi",[t._v("U")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("ReLU")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")])])])])]),t._v(" 激活")],1),t._v(" "),i("p",[t._v("但是它有什么用呢？")]),t._v(" "),i("p",[t._v("我们平时想压缩长宽可以通过 Pooling 很容易做到，但压缩信道数要怎么做呢？因为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 卷积可以理解为每个位置上各个信道间建立全连接，所以很容易将信道数进行压缩，当然如果我们想增加或者保持信道数也是可以的")],1),t._v(" "),i("h4",{attrs:{id:"_4-2-6-inception-network-motivation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-6-inception-network-motivation"}},[t._v("#")]),t._v(" 4.2.6 Inception network motivation")]),t._v(" "),i("p",[t._v("构建卷积网络难免要遇到对过滤器大小的选择问题（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 还是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 还是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v("），还有要不要加池化层的问题， Inception 网络可以很好地为我们解决该问题")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(324),alt:"DeepLearning33"}})]),t._v(" "),i("p",[t._v("首先，我们使用一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 的过滤器得到一个输出，然后我们再使用一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 的过滤器得到一个输出，叠在 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 输出上，当然，这需要对 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 进行 same Padding ，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 也使用相同的处理方法，最后再叠上一个 MAX-POOL 层，这就是一个 Inception 层")],1),t._v(" "),i("p",[t._v("Inception 有一个问题就是计算成本的问题，我们可以通过计算其中的乘法次数来计算")]),t._v(" "),i("p",[i("img",{attrs:{src:a(325),alt:"DeepLearning34"}})]),t._v(" "),i("p",[t._v("这里考虑 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 卷积这步，共 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("32")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("32")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 个过滤器，每个过滤器在每个位置计算 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 次乘法，每个通道 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("28")]),i("mo",[t._v("×")]),i("mn",[t._v("28")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("28 \\times 28")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("8")])])])])]),t._v(" 个位置，共有 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("192")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("192")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 个通道，乘在一起约为 1.2 亿")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(326),alt:"DeepLearning35"}})]),t._v(" "),i("p",[t._v("这里还有另一种方法，就是先对其进行 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 卷积减小其通道数，再进行 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 卷积，按照刚才的方法，将两次的乘法数加在一起，结果仅仅是 1204 万，大大减小了计算的成本")],1),t._v(" "),i("p",[t._v("刚刚使用的方法中间那层可以称为瓶颈层，通过该层可以很好地降低计算成本，而且事实表明其也不会降低网络性能")]),t._v(" "),i("h4",{attrs:{id:"_4-2-7-inception-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-7-inception-network"}},[t._v("#")]),t._v(" 4.2.7 Inception network")]),t._v(" "),i("p",[i("img",{attrs:{src:a(327),alt:"DeepLearning36"}})]),t._v(" "),i("p",[t._v("按照上面的思路，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 都增加一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 层以减少计算成本，最大池化后也加一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 以降低通道数，这就形成了一个 Inception module")],1),t._v(" "),i("p",[t._v("那整个 Inception Network 是如何建立的呢？")]),t._v(" "),i("p",[i("img",{attrs:{src:a(328),alt:"DeepLearning37"}})]),t._v(" "),i("p",[t._v("很明显，这是由一个一个的 Inception Network 组成的，只不过某些地方有些最大池化层，而且在中间的隐藏层有两处直接引出、经过全连接层、Softmax 得出结果，它确保了即便是隐藏单元和中间层也参与了特征计算，起到一种调整的效果，并且能防止网络发生过拟合")]),t._v(" "),i("h4",{attrs:{id:"_4-2-8-using-open-source-implementations"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-8-using-open-source-implementations"}},[t._v("#")]),t._v(" 4.2.8 Using open-source implementations")]),t._v(" "),i("p",[t._v("很多优秀的神经网络有着开源实现，比如"),i("a",{attrs:{href:"https://github.com/KaimingHe/deep-residual-networks",target:"_blank",rel:"noopener noreferrer"}},[t._v("残差网络论文原作者对其的实现"),i("OutboundLink")],1)]),t._v(" "),i("h4",{attrs:{id:"_4-2-9-transfer-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-9-transfer-learning"}},[t._v("#")]),t._v(" 4.2.9 Transfer Learning")]),t._v(" "),i("p",[i("strong",[t._v("相比于随机初始化权重，我们直接下载别人训练好的权重用来初始化会有着更好的效果")])]),t._v(" "),i("p",[t._v("计算机视觉的研究社区非常喜欢把许多数据集上传到网上，如果你听说过，比如 "),i("strong",[t._v("ImageNet")]),t._v("，或者 "),i("strong",[t._v("MS COCO")]),t._v("，或者 "),i("strong",[t._v("Pascal")]),t._v(" 类型的数据集，并且有大量的计算机视觉研究者已经用这些数据集训练过他们的算法了")]),t._v(" "),i("p",[t._v("比如我们建立一个猫咪检测器，用来区分 猫 Tigger、猫 Misty，很明显这是一个三分类问题，不考虑 Tigger 和 Misty 同镜的情况的话，有着 Tigger 、 Misty 、 other 三种情况，可以最后使用 Softmax 进行输出，我们可以从 ImageNet 上进行迁移")]),t._v(" "),i("p",[i("img",{attrs:{src:a(329),alt:"DeepLearning38"}})]),t._v(" "),i("p",[t._v("当我们数据量比较少的时候，我们可以将其网络和权重都拿来，拿掉最后一层换成我们自己的 Softmax 层，利用该权重初始化其它层并且冻结起来，也就是并不更新其参数（只需要根据框架传入参数就可以啦，比如 "),i("code",[t._v("trainableParameter=0")]),t._v("、"),i("code",[t._v("freeze=1")]),t._v("这样），只更新最后一层的参数")]),t._v(" "),i("blockquote",[i("p",[t._v("这里有一个技巧，因为前面冻结住的几层的变换是固定的，所以我们可以直接将输入数据经过冻结层预处理下，存在硬盘上，这样就不用每次训练都运行该变换了，可以降低训练时间")])]),t._v(" "),i("p",[t._v("当我们有稍多一点的数据的时候，我们可以尝试将几个冻结层取消冻结，让其参数变成可更新，甚至我们重新搭建这几层，也就是让可学习的部分变得更多些")]),t._v(" "),i("p",[t._v("数据再多些，我们可以干脆只用其参数做初始化，全部参与训练")]),t._v(" "),i("h4",{attrs:{id:"_4-2-10-data-augmentation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-10-data-augmentation"}},[t._v("#")]),t._v(" 4.2.10 Data augmentation")]),t._v(" "),i("p",[t._v("计算机视觉需要用到大量的数据，所以我们很自然地想到对数据的扩增，方法前面也有简单提到过")]),t._v(" "),i("p",[t._v("这里依然以猫分类器为例")]),t._v(" "),i("ul",[i("li",[t._v("水平镜像 猫翻转后还是猫")]),t._v(" "),i("li",[t._v("随机裁剪 从原图中随机剪裁出一部分图片")]),t._v(" "),i("li",[t._v("色彩转换 对颜色略微做下变换，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mi",[t._v("G")]),i("mi",[t._v("B")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("RGB")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")])])])])]),t._v(" 分别 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mo",[t._v("−")]),i("mn",[t._v("20")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mo",[t._v("+")]),i("mn",[t._v("20")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mo",[t._v("+")]),i("mn",[t._v("20")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(-20, +20, +20)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("−")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("+")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("+")]),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("B")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")])])])])]),t._v(" 的增加使得颜色略偏黄，可以模拟阳光的效果，当然这里 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mi",[t._v("G")]),i("mi",[t._v("B")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("RGB")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")])])])])]),t._v(" 的变换程度满足一定分布而不是固定的值，另外可以试下 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("P")]),i("mi",[t._v("C")]),i("mi",[t._v("A")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("PCA")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")])])])])]),t._v(" 变换以更好地实现色彩转换")],1)]),t._v(" "),i("p",[t._v("原图是保存在硬盘上的，我们通常用一个或多个 CPU 线程对图片进行增强处理，形成一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("c")]),i("mi",[t._v("h")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("batch")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")])])])])]),t._v(" 或者 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("m")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mi",[t._v("b")]),i("mi",[t._v("a")]),i("mi",[t._v("t")]),i("mi",[t._v("c")]),i("mi",[t._v("h")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("mini-batch")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.74285em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")])])])])]),t._v(" ，然后将其交给 CPU 或 GPU 的线程来训练，这使得增强和训练可以并行")],1),t._v(" "),i("h4",{attrs:{id:"_4-2-11-the-state-of-computer-vision"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-11-the-state-of-computer-vision"}},[t._v("#")]),t._v(" 4.2.11 The state of computer vision")]),t._v(" "),i("p",[t._v("很明显，当我们有足够多的数据的时候，我们所需要做的手工操作会比较少，我们会花更多的时间去构建比较好的的网络")]),t._v(" "),i("p",[t._v("但我们数据没有那么多的时候，我们需要考虑如何精心的设计它的特征，但这样会增加人工干预（可参考 #3.2.10）")]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),i("p",[t._v("一些能在基准测试中表现更好的技巧：")]),t._v(" "),i("ul",[i("li",[t._v("集成 独立训练多个网络，并平均化他们的输出")]),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("M")]),i("mi",[t._v("u")]),i("mi",[t._v("l")]),i("mi",[t._v("t")]),i("mi",[t._v("i")]),i("mo",[t._v("−")]),i("mi",[t._v("c")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Multi-crop")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.77777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")]),i("span",{staticClass:"mord mathdefault"},[t._v("u")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")])])])])]),t._v(" 将数据扩充，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("10")]),i("mo",[t._v("−")]),i("mi",[t._v("c")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("p")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("10-crop")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")])])])])]),t._v(" ，是取原图中间、左上、右上、左下、右下五张图以及他们的镜像图组成的 10 张图来测试")],1)]),t._v(" "),i("p",[t._v("但这些技巧并不适合用在生产系统上，尽管其在基准测试和竞赛上做的很好")])]),t._v(" "),i("p",[t._v("很明显，我们的计算机视觉是建立在小数据集之上的，但是其他人已经完成了很多的手工工程了，一个神经网络往往在其他问题上也是很有效的")]),t._v(" "),i("p",[t._v("所以，如果我们想要构建自己的实用系统，最好是先从别人的框架入手，当然，"),i("em",[t._v("如果我们想要发明自己的计算机视觉想法的还是要自己从头开始做的")])]),t._v(" "),i("h3",{attrs:{id:"_4-3-object-detection"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-object-detection"}},[t._v("#")]),t._v(" 4.3 Object detection")]),t._v(" "),i("h4",{attrs:{id:"_4-3-1-object-localization"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-object-localization"}},[t._v("#")]),t._v(" 4.3.1 Object localization")]),t._v(" "),i("p",[t._v("如何做到目标定位？")]),t._v(" "),i("p",[t._v("很明显，现在我们不仅要输出图片内有什么东西，还要输出这个东西在哪，比如说一个自动驾驶系统，我们需要检测的对象有：")]),t._v(" "),i("ul",[i("li",[t._v("行人")]),t._v(" "),i("li",[t._v("其他车辆")]),t._v(" "),i("li",[t._v("摩托车")]),t._v(" "),i("li",[t._v("仅有背景")])]),t._v(" "),i("p",[t._v("很明显，如果说是分类问题的话，这就是简单的四分类问题，但如何额外输出对象的位置呢？简单的想法就是……额外加输出，这里我们需要的那个框需要位置和大小，也就是中心坐标 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("x")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("y")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(b_x, b_y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，高 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("h")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_h")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" ，宽 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("w")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" （图片左上角 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(0, 0)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，右下角 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v("）")],1),t._v(" "),i("p",[t._v("综上，我们现在需要 8 个输出的参数，四分类四个输出、中心坐标、高宽，或者可以这样看，我们把四分类中的是否仅背景作为参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" ，如果未检测到对象为 0 ,如果有对象则为 1 ，其余不变，也就是")],1),t._v(" "),i("section",[i("eqn",[i("span",{staticClass:"katex-display"},[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("y")]),i("mo",[t._v("=")]),i("mspace",{attrs:{linebreak:"newline"}}),i("mrow",[i("mo",{attrs:{fence:"true"}},[t._v("[")]),i("mtable",{attrs:{rowspacing:"0.15999999999999992em",columnspacing:"1em"}},[i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("x")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("y")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("h")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("w")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("1")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("2")])],1)],1)],1)],1),i("mtr",[i("mtd",[i("mstyle",{attrs:{scriptlevel:"0",displaystyle:"false"}},[i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("3")])],1)],1)],1)],1)],1),i("mo",{attrs:{fence:"true"}},[t._v("]")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\ny = \\\\\n\\begin{bmatrix}\np_c \\\\\nb_x \\\\\nb_y \\\\\nb_h \\\\\nb_w \\\\\nc_1 \\\\\nc_2 \\\\\nc_3 \\\\\n\\end{bmatrix}\n")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"mspace newline"}),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"9.61103em","vertical-align":"-4.55007em"}}),i("span",{staticClass:"minner"},[i("span",{staticClass:"mopen"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.060960000000001em"}},[i("span",{staticStyle:{top:"0.7500499999999996em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎣")])])]),i("span",{staticStyle:{top:"-0.39995000000000047em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-0.9959500000000006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-1.5919500000000006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-2.1879500000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-2.783950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-3.3799500000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-3.9759500000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-4.571950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-5.167950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-5.763950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-5.819940000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎢")])])]),i("span",{staticStyle:{top:"-7.060960000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎡")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.55007em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mtable"},[i("span",{staticClass:"col-align-c"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.050000000000001em"}},[i("span",{staticStyle:{top:"-7.21em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-6.010000000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-4.8100000000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3.61em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-2.4099999999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-1.2099999999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-0.00999999999999951em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"1.1899999999999997em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.55em"}},[i("span")])])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"delimsizing mult"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"5.060960000000001em"}},[i("span",{staticStyle:{top:"0.7500499999999996em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎦")])])]),i("span",{staticStyle:{top:"-0.39995000000000047em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-0.9959500000000006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-1.5919500000000006em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-2.1879500000000007em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-2.783950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-3.3799500000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-3.9759500000000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-4.571950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-5.167950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-5.763950000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-5.819940000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎥")])])]),i("span",{staticStyle:{top:"-7.060960000000001em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3.1550000000000002em"}}),i("span",{staticClass:"delimsizinginner delim-size4"},[i("span",[t._v("⎤")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"4.55007em"}},[i("span")])])])])])])])])])])])],1),i("p",[t._v("我们的标签的内容也是这样，只不过我们不会关心 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 的时候其他值到底是多少，这体现在计算损失函数的时候，比如使用平方误差策略，当图片内有图片对象的时候，损失值就是各元素误差的平方和，而当图片内无对象的时候，损失值只需要计算 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mover",{attrs:{accent:"true"}},[i("msub",[i("mi",[t._v("y")]),i("mn",[t._v("1")])],1),i("mo",[t._v("^")])],1),i("mo",[t._v("−")]),i("msub",[i("mi",[t._v("y")]),i("mn",[t._v("1")])],1),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(\\hat{y_1} - y_1)^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord accent"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.69444em"}},[i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])]),i("span",{staticStyle:{top:"-3em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"accent-body",staticStyle:{left:"-0.25em"}},[i("span",{staticClass:"mord"},[t._v("^")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.19444em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v(" 即可，因为我们不需要关心在图片中没有元素的时候的其他输出值大小")],1),t._v(" "),i("p",[t._v("当然，实际应用中更多是对边界框坐标使用平方误差或类似方法、对 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 应用逻辑回归函数或者平方误差函数")],1),t._v(" "),i("h4",{attrs:{id:"_4-3-2-landmark-detection"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-landmark-detection"}},[t._v("#")]),t._v(" 4.3.2 Landmark detection")]),t._v(" "),i("p",[t._v("类似于上节内容，我们现在不仅要识别是否有人脸，而且要识别这个人脸的具体特征，首先我们试着将人的右眼角坐标输出，类似于前面内容，我们只需要额外输出一个坐标 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("l")]),i("mi",[t._v("x")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("l")]),i("mi",[t._v("y")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(l_x, l_y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 就好了")],1),t._v(" "),i("p",[t._v("那我们再加些点，比如四个眼角都输出，这样有助于我们识别眼睛的位置，也就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("1")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("1")]),i("mi",[t._v("y")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(l_{1x}, l_{1y})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.301108em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(", "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("2")]),i("mi",[t._v("y")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(l_{2x}, l_{2y})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.301108em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(", "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("3")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("3")]),i("mi",[t._v("y")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(l_{3x}, l_{3y})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.301108em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(", "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("4")]),i("mi",[t._v("x")])],1)],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("l")]),i("mrow",[i("mn",[t._v("4")]),i("mi",[t._v("y")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(l_{4x}, l_{4y})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.301108em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.01968em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("4")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("我们也可以输出嘴角或者嘴上的各个点，这样就可以获得是微笑还是什么表情了")]),t._v(" "),i("p",[t._v("同样地，我们可以从脸上找到 64 个或者其它数量的点，这样就完全可以获得整张面部的表情数据了，也就是我们需要输出 129 个数据，当然，其中一个是那个是否有脸的数据（当然，当没脸时，其他数据也就没有意义了）")]),t._v(" "),i("p",[t._v("另外值得注意的一点是，标签中数据的顺序不能错，如果第一个数据是右眼角的 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 坐标，那么所有数据标签的第一个数据都应该是右眼角的 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("x")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 坐标")],1),t._v(" "),i("h4",{attrs:{id:"_4-3-3-object-detection"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-object-detection"}},[t._v("#")]),t._v(" 4.3.3 Object detection")]),t._v(" "),i("p",[t._v("这节课讲解的是基于滑动窗口的目标检测算法，具体实现呢……听名字就能猜到啦")]),t._v(" "),i("p",[t._v("首先，我们的训练集的输入是已经裁剪好的图片，刚好将汽车给裁剪出来，而输出就是这个小图块是否有车（0 or 1）")]),t._v(" "),i("p",[t._v("然后我们先拿一个小图框以一定步幅在待检测图上不断遍历，没有车就会输出 0，有车就输出 1")]),t._v(" "),i("p",[t._v("之后再拿大一些的图框以及更大的图框遍历，待遍历完整张图之后，是否有车、车在哪里自然也就知道了")]),t._v(" "),i("p",[t._v("这种方法的缺点一目了然，就是实在太慢，要把整张图遍历一遍")]),t._v(" "),i("h4",{attrs:{id:"_4-3-4-convolutional-implementation-of-sliding-windows"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-4-convolutional-implementation-of-sliding-windows"}},[t._v("#")]),t._v(" 4.3.4 Convolutional implementation of sliding windows")]),t._v(" "),i("p",[t._v("我们很容易想到，滑动窗口的实现过程中有很多重复计算的地方，因为裁剪的时候是有很多交集的")]),t._v(" "),i("p",[t._v("所以我们需要改进下算法啦，不过在那之前，我们先学下如何使用卷积网络实现全连接层")]),t._v(" "),i("p",[i("img",{attrs:{src:a(330),alt:"DeepLearning39"}})]),t._v(" "),i("p",[t._v("首先，图的上半部分很明显是我们原来使用的卷积+全连接神经网络，现在我们在全连接这里稍稍变换下，比如卷积层最后输出 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("16")]),i("mo",[t._v("×")]),i("mn",[t._v("16")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 16 \\times 16")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("6")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("6")])])])])]),t._v(" 的图片，如果直接全连接就是线性化输出 400 个结点，现在我们使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("5")]),i("mo",[t._v("×")]),i("mn",[t._v("5")]),i("mo",[t._v("×")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("5 \\times 5 \\times")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("5")]),i("span",{staticClass:"mord"},[t._v("×")])])])])]),t._v(" 的 filter 对其卷积，也就是和图片一样大的 filter ，很明显，这样会将所有像素点变换成一个像素点，当然，我们可是要使用 400 个 filter 的，这样就可以输出 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("400")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1 \\times 400")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("4")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" 的结点啦")],1),t._v(" "),i("p",[t._v("下一步，使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 卷积，我们已经知道这就相当于在信道之间建立全连接层，而这个时候像素点可是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v("×")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1 \\times 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 的啊，这就和真正的全连接层完全一样啦，如此重复几次完成原来 FC 的任务，最后的输出也是一样哒")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(331),alt:"DeepLearning40"}})]),t._v(" "),i("p",[t._v("我们现在考虑从 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("16")]),i("mo",[t._v("×")]),i("mn",[t._v("16")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("16 \\times 16")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("6")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("6")])])])])]),t._v(" 的图片中以 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 为步长计算 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("14")]),i("mo",[t._v("×")]),i("mn",[t._v("14")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("14 \\times 14")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("4")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("4")])])])])]),t._v(" 小图块的情况，上图上半部分是我们对每个小图块的处理情况，我们用相同的方法处理整张图片的话，会得到一系列输出，我们很容易看到，最后左上角的小输出就是对应了原图左上角图块的输出，另外三个自然就是其他三个小图块的输出啦")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(332),alt:"DeepLearning42"}})]),t._v(" "),i("p",[i("img",{attrs:{src:a(333),alt:"DeepLearning41"}})]),t._v(" "),i("p",[t._v("最后我们再看一下这个实现过程，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("28")]),i("mo",[t._v("×")]),i("mn",[t._v("28")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("28 \\times 28")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("2")]),i("span",{staticClass:"mord"},[t._v("8")])])])])]),t._v(" 的图片经过上面的卷积后生成了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("8")]),i("mo",[t._v("×")]),i("mn",[t._v("8")]),i("mo",[t._v("×")]),i("mn",[t._v("4")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("8 \\times 8 \\times 4")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("8")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("4")])])])])]),t._v(" 的输出，也就分别对应下面图片上各个小图块的计算结果，只不过这样我们避免了对重复部分的计算，提高了计算效率，不过它还有一个问题就是边界框的位置可能不太准确（只考虑哪个框里有而没考虑到底在哪个具体的位置）")],1),t._v(" "),i("h4",{attrs:{id:"_4-3-5-bounding-box-predictions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-bounding-box-predictions"}},[t._v("#")]),t._v(" 4.3.5 Bounding box predictions")]),t._v(" "),i("p",[t._v("我们现在试下新的算法——YOLO(You only look once) 算法")]),t._v(" "),i("p",[i("img",{attrs:{src:a(334),alt:"DeepLearning43"}})]),t._v(" "),i("p",[t._v("首先，将图分成几个部分，比如这里是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 份（实际应用中一般更精细，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("19")]),i("mo",[t._v("×")]),i("mn",[t._v("19")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("19 \\times 19")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("9")])])])])]),t._v("）")],1),t._v(" "),i("p",[t._v("之后，我们在每个小方块上运行定位算法，也就是 4.3.1 中所述的方法，很明显，我们的每个格子的输出都应该是 8 维的向量，整张图的输出就应该是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("8")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3 \\times 8")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("8")])])])])])],1),t._v(" "),i("p",[t._v("但对于标签数据我们需要再说明几个地方，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 自然是该小方块内有没有目标，不过这里我们只考虑目标的中心所在的那个方块，只将该方块标记为 1 ，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("x")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("y")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_x, b_y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])])])])])]),t._v(" 很明显就是中心的位置啦，只不过现在以该方块左上角为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(0, 0)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 右下角为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(1, 1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，它们自然是在 0 和 1 之间（所以这里我们可以使用 sigmoid），而 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("w")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("h")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_h")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 就不一样啦，他们是可以大于 1 的（都是正数，可以使用指数参数化）")],1),t._v(" "),i("p",[t._v("另外，值得注意的一点就是， YOLO 算法是只运行一次的，也就是一次卷积对 9 个图块同时计算，所以速度非常快")]),t._v(" "),i("h4",{attrs:{id:"_4-3-6-intersection-over-union"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-6-intersection-over-union"}},[t._v("#")]),t._v(" 4.3.6 Intersection over union")]),t._v(" "),i("p",[i("img",{attrs:{src:a(335),alt:"DeepLearning44"}})]),t._v(" "),i("p",[t._v("我们需要一个度量识别准确率的参数，这样可以更好地评估算法的准确度，比如我们用对象图块与输出图块区域的交集比上它们的并集，就可以得到一个可以评估准确度的参数，很明显，当两者完全重合时是最大值 1 ，否则都会比 1 小，我们称之为交并比（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("U")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("loU")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")])])])])]),t._v("）")],1),t._v(" "),i("p",[t._v("我们一般约定一个数来界定它是否识别准确，比如 0.5 ，那么当 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("U")]),i("mo",[t._v("≥")]),i("mn",[t._v("0.5")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("loU \\geq 0.5")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.83041em","vertical-align":"-0.13597em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("U")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("≥")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord"},[t._v("5")])])])])]),t._v(" 时认为检测正确，当然我们也可以更严格些，将这个参数设得更大，比如 0.7 这样")],1),t._v(" "),i("h4",{attrs:{id:"_4-3-7-non-max-suppression"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-7-non-max-suppression"}},[t._v("#")]),t._v(" 4.3.7 Non-max suppression")]),t._v(" "),i("p",[t._v("非最大值抑制，听名字貌似能了解到它大概是在干嘛")]),t._v(" "),i("p",[i("img",{attrs:{src:a(336),alt:"DeepLearning46"}})]),t._v(" "),i("p",[t._v("因为每个方块都有自己的输出，每个方块都可能认为自己这里有目标（或者说目标的中点），这就导致了同一个目标重复标记的情况")]),t._v(" "),i("p",[t._v("（下面以只检测车为例）")]),t._v(" "),i("p",[i("img",{attrs:{src:a(337),alt:"DeepLearning45"}})]),t._v(" "),i("p",[t._v("我们可以这样去掉重复标记的目标，首先我们将交并比 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" （很明显我们将 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 由 0 和 1 换成交并比会更灵活些）小于某个阈值的标记都去掉，因为那些都是没有识别出来的")],1),t._v(" "),i("p",[t._v("然后我们从剩下的标记里面挑出来 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 最高的那个，将其作为一个输出框框")],1),t._v(" "),i("p",[t._v("其他那些还没有扔掉的，并不是最高的那些，我们将与已经确定输出的框框重叠度比较高的（交并比比较大，比如大于 0.5 这样）扔掉（这样就避免与已经输出的重复啦）")]),t._v(" "),i("p",[t._v("循环前两步，继续挑一个最大的，继续扔重叠比较高的，也就是每次都能输出一个框框，直到最后全部处理完成")]),t._v(" "),i("h4",{attrs:{id:"_4-3-8-anchor-boxes"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-8-anchor-boxes"}},[t._v("#")]),t._v(" 4.3.8 Anchor Boxes")]),t._v(" "),i("p",[i("img",{attrs:{src:a(338),alt:"DeepLearning47"}})]),t._v(" "),i("p",[t._v("（这里仍然以 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 为例）")],1),t._v(" "),i("p",[t._v("到现在我们还只能解决某个格子内出现一个对象的问题，如果一个格子内出现多个对象要怎么做呢？")]),t._v(" "),i("p",[i("img",{attrs:{src:a(339),alt:"DeepLearning48"}})]),t._v(" "),i("p",[t._v("我们可以构造一些 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" ，这里为了方便就先使用 2 个，我们现在将各个对象匹配到最适合（根据交并比）它的 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 下，比如前面那个重叠的格子内， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v(" 检测出来的是行人，而 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v(" 检测出来的是车辆，但要如何分配他们的输出呢？")],1),t._v(" "),i("p",[t._v("我们知道我们原来每个格子输出 8 维的数据，现在我们每个格子的各个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 都输出一组数据，将它们数据列在一起，比如这里就是 16 维的数据")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(340),alt:"DeepLearning49"}})]),t._v(" "),i("p",[t._v("这里上半部分（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v("）的输出就会是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c = 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v("，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("x")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("y")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("h")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("w")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_x,b_y,b_h,b_w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" ， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("1")])],1),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("2")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("3")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("c_1=1,c_2=0,c_3=0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" ，而下半部分（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")]),i("mn",[t._v("2")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box 2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v("2")])])])])]),t._v("）的输出就会是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c = 1")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")])])])])]),t._v("，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("x")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("y")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("h")])],1),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("b")]),i("mi",[t._v("w")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b_x,b_y,b_h,b_w")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.980548em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("x")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15139200000000003em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.33610799999999996em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("h")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" ， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("1")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("2")])],1),i("mo",[t._v("=")]),i("mn",[t._v("1")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msub",[i("mi",[t._v("c")]),i("mn",[t._v("3")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("c_1=0,c_2=1,c_3=0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("3")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])])],1),t._v(" "),i("p",[t._v("再比如我们的这张图片里只有车没有那个人（想象一下），那么下面的输出很明显是不变的，上面的 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("p")]),i("mi",[t._v("c")])],1),i("mo",[t._v("=")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("p_c = 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.625em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" ，其他的数值嘛，就可以不用关心了")],1),t._v(" "),i("p",[t._v("这样我们就能在一个格子内检测出多个对象了，但是这种情况其实也并不是特别多见的，因为我们实际应用中会使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("19")]),i("mo",[t._v("×")]),i("mn",[t._v("19")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("19 \\times 19")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("9")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("9")])])])])]),t._v(" 这样子的分块，一个格子内多个对象的概率就很低了，但是我们使用这个方法有一个好处我们可以有针对性的检测出来某些形状的物体，比如说人就是很高很瘦的，车相对就是比较矮胖的")],1),t._v(" "),i("p",[t._v("另外，这个算法很明显不能解决一个格子内存在高于 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 数量个对象的情况，这种问题需要某些默认手段来处理，还有就是两个对象分配到同一个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 里，也是需要某些默认的手段来处理下")],1),t._v(" "),i("p",[t._v("选择 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 的方法的话，我们可以手工选择下（5-10 个），再或者 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("Y")]),i("mi",[t._v("O")]),i("mi",[t._v("L")]),i("mi",[t._v("O")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("YOLO")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")])])])])]),t._v(" 论文中提到的 k-平均算法，这样就可以自动选择 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 啦")],1),t._v(" "),i("h4",{attrs:{id:"_4-3-9-putting-it-together-yolo-algorithm"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-9-putting-it-together-yolo-algorithm"}},[t._v("#")]),t._v(" 4.3.9 Putting it together: YOLO algorithm")]),t._v(" "),i("p",[t._v("关于 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("Y")]),i("mi",[t._v("O")]),i("mi",[t._v("L")]),i("mi",[t._v("O")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("YOLO")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")])])])])]),t._v(" 算法的各种基础都已经讲过了，下面我们试着组装下")],1),t._v(" "),i("p",[t._v("（以 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("3")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("3 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("3")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v(" 划分、2 个"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mi",[t._v("n")]),i("mi",[t._v("c")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("b")]),i("mi",[t._v("o")]),i("mi",[t._v("x")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Anchor box")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("c")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")])])])])]),t._v(" 为例）")],1),t._v(" "),i("p",[i("img",{attrs:{src:a(341),alt:"DeepLearning50"}})]),t._v(" "),i("p",[t._v("如何构造训练集？貌似不用多说")]),t._v(" "),i("p",[i("img",{attrs:{src:a(342),alt:"DeepLearning51"}})]),t._v(" "),i("p",[t._v("数据的输出也是这样的")]),t._v(" "),i("p",[i("img",{attrs:{src:a(343),alt:"DeepLearning52"}})]),t._v(" "),i("p",[t._v("当然我们也可以使用非最大值抑制，当然每个格子都会输出自己的两个预测，但是某些“不自信”（小于某个交并比）的输出就自动“退出”了，之后循环运行非最大值抑制，最后就剩下我们需要的对象啦")]),t._v(" "),i("h4",{attrs:{id:"_4-3-10-region-proposals"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-10-region-proposals"}},[t._v("#")]),t._v(" 4.3.10 Region proposals")]),t._v(" "),i("p",[t._v("我们知道滑动窗口的方法会很慢（尚未使用一次卷积的方法的时候），需要对整张图片各个区域都进行遍历，那么我们能否找到一些区域，尽可能地略去那些空的背景区域以减少运算量呢")]),t._v(" "),i("p",[i("img",{attrs:{src:a(344),alt:"DeepLearning53"}})]),t._v(" "),i("p",[t._v("我们可以使用某些算法从图片中获得色块，然后从色块中获取一些候选区域，之后卷积算法只在这些区域上跑就好了，这种算法称为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mo",[t._v("−")]),i("mi",[t._v("C")]),i("mi",[t._v("N")]),i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("R-CNN")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])])],1),t._v(" "),i("p",[t._v("很明显，还是慢，还是每个都跑了，进一步改进自然就是使用对全图进行卷积类似的改进算法（类似于 4.3.4）")]),t._v(" "),i("p",[t._v("其实还是慢，之后又有一种改进是利用卷积神经网络获取候选区域")]),t._v(" "),i("p",[t._v("不过，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("R")]),i("mo",[t._v("−")]),i("mi",[t._v("C")]),i("mi",[t._v("N")]),i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("R-CNN")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.00773em"}},[t._v("R")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),t._v(" 最终还是并没有 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("Y")]),i("mi",[t._v("O")]),i("mi",[t._v("L")]),i("mi",[t._v("O")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("YOLO")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")]),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")])])])])]),t._v(" 快……")],1),t._v(" "),i("p",[t._v("不过它也的确是一个不错的想法，曾经对计算机视觉领域产生了很大的影响")]),t._v(" "),i("h3",{attrs:{id:"_4-4-special-applications-face-recognition-neural-style-transfer"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-special-applications-face-recognition-neural-style-transfer"}},[t._v("#")]),t._v(" 4.4 Special applications: Face recognition &Neural style transfer")]),t._v(" "),i("h4",{attrs:{id:"_4-4-1-what-is-face-recognition"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-what-is-face-recognition"}},[t._v("#")]),t._v(" 4.4.1 What is face recognition?")]),t._v(" "),i("p",[t._v("很明显， Andrew Ng 在影片中演示的百度人脸门禁系统就是人脸识别的实现，现在已经可以做到实时比对了，并且可以做到活物检测，但是原理又是什么呢？")]),t._v(" "),i("p",[t._v("当然，我们这里的重点是人脸识别而不是活物检测，下面区分两个概念")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("人脸验证（face verification）")]),t._v(" "),i("p",[t._v("人脸验证要做的是，输入一张图片与其对应的姓名（或者 ID），那么该系统会输出对还是错，所以我们又称其为一对一的问题")])]),t._v(" "),i("li",[i("p",[t._v("人脸识别（face recognition）")]),t._v(" "),i("p",[t._v("人脸识别所要做的是，识别一张图片与一堆姓名的对应关系，所以又称一对多（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("1")]),i("mo",[t._v(":")]),i("mi",[t._v("K")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1:K")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")])])])])]),t._v("）问题")],1)])]),t._v(" "),i("p",[t._v("当我们有一个人脸验证系统的时候，比如它的准确率已经达到了 99% ，但如果我们用它来构建一个人脸识别系统的话，错误率会成倍增长，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("K")]),i("mo",[t._v("=")]),i("mn",[t._v("100")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("K = 100")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("0")])])])])]),t._v(" ，那么错误率会增长 100 倍，所以这就要求，如果我们利用人脸验证系统构建一个识别系统的话，验证系统的准确率需要足够的高，可能需要达到 99.9% 才够看")],1),t._v(" "),i("p",[t._v("接下来，我们以人脸验证为基础构建一个人脸识别系统")]),t._v(" "),i("h4",{attrs:{id:"_4-4-2-one-shot-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-one-shot-learning"}},[t._v("#")]),t._v(" 4.4.2 One-shot learning")]),t._v(" "),i("p",[t._v("人脸验证系统有个问题就是，我们不可能对每个人都采集很多数据来训练，我们只可能采集很少的一部分数据，这就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("o")]),i("mi",[t._v("n")]),i("mi",[t._v("e")]),i("mo",[t._v("−")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mi",[t._v("o")]),i("mi",[t._v("t")]),i("mi",[t._v("l")]),i("mi",[t._v("e")]),i("mi",[t._v("a")]),i("mi",[t._v("r")]),i("mi",[t._v("n")]),i("mi",[t._v("i")]),i("mi",[t._v("n")]),i("mi",[t._v("g")]),i("mi",[t._v("p")]),i("mi",[t._v("r")]),i("mi",[t._v("o")]),i("mi",[t._v("b")]),i("mi",[t._v("l")]),i("mi",[t._v("e")]),i("mi",[t._v("m")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("one-shot learning problem")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("h")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")])])])])])],1),t._v(" "),i("blockquote",[i("p",[t._v("在我了解了神经网络的原理之后，我有时候会想手机的面部解锁是如何采集少量的图片就可以训练出来一个识别人的网络，很明显，这样的数据量不足以训练一个神经网络，但是我们很容易想到一个方法就是大量采集他人的数据，我们训练一个人脸比较的系统这样，不能训练直接地训练一张图片到底是不是该人，那么我们可以训练出来一个输出一张图片和另一张图片差异到底有多大的系统，下面的思路与此大同小异")])]),t._v(" "),i("p",[t._v("以百度门禁为例，很明显，能投入实际应用的场景就是，我们采集每个员工一张图片，然后输出这张图片是不是我们的员工中的一人，如果按之前的思路，我们很自然地想到了使用 Softmax 神经网络，也就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("K")]),i("mo",[t._v("+")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(K+1)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 分类（还有一个谁都没识别出来）问题")],1),t._v(" "),i("p",[t._v("当然，上面的想法明显是不可行的，因为我们每个员工只采集了一张图片啊，怎么足以训练出来这样一个系统呢？")]),t._v(" "),i("p",[t._v("我们很容易想到了从其他数据上“迁移”过来，可是怎么迁移呢？")]),t._v(" "),i("p",[t._v("我们可以训练一个识别两张图片是否是一个人的系统，这样的话我们采集数据就会相对地容易些，很简单，我们训练一个函数，让它能够输出两张图片之间的差异值即可，当其大于某个阈值的时候我们认为这两张图片不是一个人")]),t._v(" "),i("p",[t._v("这样我们就很容易地做出来一个人脸验证系统，当然，这需要我们对数据库中的人逐个比对")]),t._v(" "),i("h4",{attrs:{id:"_4-4-3-siamese-network"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-siamese-network"}},[t._v("#")]),t._v(" 4.4.3 Siamese network")]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")]),i("mi",[t._v("i")]),i("mi",[t._v("a")]),i("mi",[t._v("m")]),i("mi",[t._v("e")]),i("mi",[t._v("s")]),i("mi",[t._v("e")]),i("mi",[t._v("N")]),i("mi",[t._v("e")]),i("mi",[t._v("t")]),i("mi",[t._v("w")]),i("mi",[t._v("o")]),i("mi",[t._v("r")]),i("mi",[t._v("k")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Siamese Network")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("s")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"mord mathdefault"},[t._v("o")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),t._v(" 所完成的就是我们刚刚所说的那种验证方法")],1),t._v(" "),i("p",[t._v("首先，我们输入一张图片，经过一系列卷积、全连接（不要 Softmax ，很明显我们现在没这个需求）操作最后我们会输出一个该图片的特征向量，当然其他图片也经过"),i("strong",[t._v("这个")]),t._v("神经网络，这样每张图片都会有这么一个特征向量")]),t._v(" "),i("p",[t._v("我们可以认为这个向量很好的代表了这张图片，我们如何比对某两张图片呢？")]),t._v(" "),i("p",[t._v("我们可以利用这两个向量之差的范数来代表两张图片的差异值，比如图片 1 和图片 2 的差异值我们可以用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("1")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("2")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("||f(x^{(1)}) - f(x^{(2)})||^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])])],1),t._v(" "),i("p",[t._v("这样，我们期待输入两个不同人的图片的时候会输出比较大的差异值，而输入两个相同人的图片的时候会输出比较小的差异值")]),t._v(" "),i("p",[t._v("所以我们要做的就是训练出来一个很好的神经网络，用来将图片编码成一个很好的特征向量")]),t._v(" "),i("h4",{attrs:{id:"_4-4-4-triplet-loss"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-4-triplet-loss"}},[t._v("#")]),t._v(" 4.4.4 Triplet loss")]),t._v(" "),i("p",[t._v("我们这里学习一种训练神经网络的方法，我们称之为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("r")]),i("mi",[t._v("i")]),i("mi",[t._v("p")]),i("mi",[t._v("l")]),i("mi",[t._v("e")]),i("mi",[t._v("t")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Triplet")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02778em"}},[t._v("r")]),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mord mathdefault"},[t._v("p")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault"},[t._v("e")]),i("span",{staticClass:"mord mathdefault"},[t._v("t")])])])])]),t._v(" 方法")],1),t._v(" "),i("p",[t._v("由于我们最后要计算的两张图片的差异值，我们这里的一种想法是每组数据 ��� 使用三张图片，也就是三元组")]),t._v(" "),i("p",[i("img",{attrs:{src:a(345),alt:"DeepLearning54"}})]),t._v(" "),i("p",[t._v("我们称上面左侧第一张图片是 Anchor ，第二张是 Positive ，Positive 和 Anchor 会是同一个人，而右侧第二张图片称为 Negative 它与 Anchor 是不同的两个人，我们简称这三张图片为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mtext"),i("mi",[t._v("P")]),i("mtext"),i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A\\ P\\ N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])])],1),t._v(" "),i("p",[t._v("我们期望前两张图片的差异值小于后两张图片的差异值，也就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1),i("mo",[t._v("≤")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("||f(A) - f(P)||^2 \\leq ||f(A) - f(N)||^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("≤")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v(" ，当然，我们可以记距离函数 d 为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d(A, N) = ||f(A) - f(P)||^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])])],1),t._v(" "),i("p",[t._v("但这还是有点问题的，就是神经网络如果对任何图片都输出零向量，那么我们上面的等式会恒成立，这就使得神经网络一点东西都训练不到")]),t._v(" "),i("p",[t._v("为了防止这种情况的发生，我们可以让他们之间的差大一点，比如加一个超参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v(" ，就像这样 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1),i("mo",[t._v("−")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("α")]),i("mo",[t._v("≤")]),i("mn",[t._v("0")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("||f(A) - f(P)||^2 - ||f(A) - f(N)||^2 + \\alpha \\leq 0")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.7719400000000001em","vertical-align":"-0.13597em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("≤")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("0")])])])])])],1),t._v(" "),i("p",[t._v("下面我们定义一下损失函数，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("L")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("P")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("m")]),i("mi",[t._v("a")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1),i("mo",[t._v("−")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("α")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mn",[t._v("0")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("L(A, P, N) = max(||f(A) - f(P)||^2 - ||f(A) - f(N)||^2 + \\alpha, 0)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("L")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("m")]),i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，也就是上面的式子与 0 中的最大值，由于我们期望那个式子小于 0 ，那么如果它小于 0 ，损失值最小，是 0，当然我们并不需要关心它比 0 小多少，一旦小于就算对了，而一旦它大于 0 ，就说明出现了误差，这使得有了优化的方向（努力让损失降到 0 ）")],1),t._v(" "),i("p",[t._v("我们刚刚计算的是某一组数据的损失值，整个数据集的损失的话，只需要求个和就好啦")]),t._v(" "),i("p",[t._v("另外，我们要注意下如何组成 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")]),i("mtext"),i("mi",[t._v("P")]),i("mtext"),i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A\\ P\\ N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mspace"}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),t._v(" 数据，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("P")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("P")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")])])])])]),t._v(" 随便找两张同一个人的图片就好，但是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),t._v(" 呢？我们随便再找一张的话，也许会很容易满足 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mi",[t._v("α")]),i("mo",[t._v("≤")]),i("mi",[t._v("d")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d(A, P) + \\alpha \\leq d(A, N)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.7719400000000001em","vertical-align":"-0.13597em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("≤")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，这样神经网络就学不到什么了，就类似于我们人类直观上感觉差异比较大的两个人是很容易分辨的")],1),t._v(" "),i("p",[t._v("当然，我们应当尽量让其能分辨比较相似的两个 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("A")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("A")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("A")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])])]),t._v(" ，也就是说 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("d")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("P")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("≈")]),i("mi",[t._v("d")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("A")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d(A, P) \\approx d(A, N)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("≈")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("d")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("A")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，相当于对于人来说，直观上长得比较像的两个人，这就使得神经网络能学到更细致的算法")],1),t._v(" "),i("p",[t._v("另外，想要做到这种程度的神经网络的话，必须要好多好多的图片，所幸的是，很多大公司将他们的数据集与预训练的神经网络参数，这就节省了我们大量的时间")]),t._v(" "),i("h4",{attrs:{id:"_4-4-5-face-verification-and-binary-classification"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-face-verification-and-binary-classification"}},[t._v("#")]),t._v(" 4.4.5 Face verification and binary classification")]),t._v(" "),i("p",[t._v("这里使用的是将人脸识别变成一个二分类方法，也就是，如果输入的两张图片是同一张图片的话，我们输出 1，而不同则输出 0")]),t._v(" "),i("p",[i("img",{attrs:{src:a(346),alt:"DeepLearning55"}})]),t._v(" "),i("p",[t._v("我们将两张图片分别输入同一个神经网络，最后输出两组特征向量值，然后再将这两组向量输入一个神经网络，最后使用 logistics 获得 最终的输出")]),t._v(" "),i("p",[t._v("获得两个特征向量之后的处理需要特别说明下，比如我们使用这种方法 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mn",[t._v("128")])],1),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("j")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mo",[t._v("+")]),i("mi",[t._v("b")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma (\\sum \\limits_{k=1}^{128} w_i|f(x^{(i)}) - f(x^{(j)})| + b)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.503226em","vertical-align":"-1.002113em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5011130000000001em"}},[i("span",{staticStyle:{top:"-2.097887em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-3.950005em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[t._v("8")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.002113em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" （假设输出的向量值是 128 维的），或者我们换成其他的，比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("σ")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("k")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("mn",[t._v("128")])],1),i("msub",[i("mi",[t._v("w")]),i("mi",[t._v("i")])],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("i")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("f")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msup",[i("mi",[t._v("x")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("j")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1),i("mo",[t._v("+")]),i("mi",[t._v("b")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\sigma (\\sum \\limits_{k=1}^{128} w_i(f(x^{(i)}) - f(x^{(j)}))^2 + b)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.503226em","vertical-align":"-1.002113em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("σ")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.5011130000000001em"}},[i("span",{staticStyle:{top:"-2.097887em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-3.950005em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[t._v("8")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.002113em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.02691em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10764em"}},[t._v("f")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("x")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mclose"},[i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("b")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("另外，由于我们在实际应用中的时候，每次都要提取数据库中员工的图片然后使用神经网络进行编码，但每次的编码过程是相同的，所以库内可以直接存储编码过的数据，而不需要存储原图片，这样可以大大提升识别速度")]),t._v(" "),i("h4",{attrs:{id:"_4-4-6-what-is-neural-style-transfer"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-6-what-is-neural-style-transfer"}},[t._v("#")]),t._v(" 4.4.6 What is neural style transfer?")]),t._v(" "),i("p",[i("img",{attrs:{src:a(347),alt:"DeepLearning56"}})]),t._v(" "),i("p",[t._v("看图就知道啦")]),t._v(" "),i("p",[t._v("另外，我们记内容图为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("C")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("C")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])])])]),t._v(" ，风格图为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])])])])]),t._v("， 生成图为 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])])],1),t._v(" "),i("h4",{attrs:{id:"_4-4-7-what-are-deep-convnets-learning"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-7-what-are-deep-convnets-learning"}},[t._v("#")]),t._v(" 4.4.7 What are deep ConvNets learning?")]),t._v(" "),i("p",[t._v("比如我们建立一个卷积神经网络，那么它每层分别都学到了些什么呢？")]),t._v(" "),i("p",[t._v("我们知道，我们每一个 filter 学到的东西最后会检测出来一个特征（参见 4.1.2），那么我们可以这样测试，单独取某个 filter 的输出值，然后看到底哪个图片或者图块会使其输出较大的激活值，那么这张图片或者图块很明显就是它所监测的特征了")]),t._v(" "),i("p",[t._v("首先我们从第一层取出 9 个 filter ，看其激活值较高的图块或者图片是什么")]),t._v(" "),i("p",[i("img",{attrs:{src:a(348),alt:"DeepLearning57"}})]),t._v(" "),i("p",[t._v("首先我们看第一层，我们能看到，左上角的 filter 检测出来的特征大概类似于右面的这种斜线特征，第 2 、3 个也检测出来类似地特征，第 4 个大概检测出来了橙色，其他的大概都是形状、边缘、颜色等等的特征")]),t._v(" "),i("p",[i("img",{attrs:{src:a(349),alt:"DeepLearning58"}})]),t._v(" "),i("p",[t._v("我们再看第二层，很容易发现，第二层检测的特征已经复杂的多了，比如第二个就是检测一条一条这种，第六个就是检测左面有点圆形这种")]),t._v(" "),i("p",[i("img",{attrs:{src:a(350),alt:"DeepLearning59"}})]),t._v(" "),i("p",[t._v("第三层，可检测的特征更加复杂了，第一个可以检测格子状的东西，第五个已经可以检测轮胎这样的了")]),t._v(" "),i("p",[i("img",{attrs:{src:a(351),alt:"DeepLearning60"}})]),t._v(" "),i("p",[t._v("第四层，第一个已经可以检测出来狗了，很吃惊吧，只不过这里的狗貌似都差不多，第三个大概是水，第六个大概是细长的鸟腿")]),t._v(" "),i("p",[i("img",{attrs:{src:a(352),alt:"DeepLearning61"}})]),t._v(" "),i("p",[t._v("第五层，已经可以检测出来更多种的图片了……")]),t._v(" "),i("p",[t._v("这就是对神经网络各层所做的事的一个可视化，有点意外，但是这样也能解释神经网络的迁移是可以实现的了，这样的可视化确实对某些网络构建方法的理解很有帮助")]),t._v(" "),i("h4",{attrs:{id:"_4-4-8-cost-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-8-cost-function"}},[t._v("#")]),t._v(" 4.4.8 Cost function")]),t._v(" "),i("p",[t._v("我们如何定义代价函数呢？")]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("n")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mi",[t._v("t")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("C")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J(G) = \\alpha J_{content}(C, G) + \\beta J_{style}(S, G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3361079999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("这里代价函数分为了两部分，一部分是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("C")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("C")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])])])]),t._v(" 与 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])]),t._v(" 之间的，另一部分是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])])])])]),t._v(" 与 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])]),t._v(" 之间的，另外增加了两个超参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("α")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\alpha")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("β")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\beta")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")])])])])]),t._v(" （只用一个超参数应该就够了，只是为了让它们不是直接叠加而已，这里与原作者论文保持一致，用两个）")],1),t._v(" "),i("p",[t._v("我们要做的就是首先随机生成一张图片（比如 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mn",[t._v("100")]),i("mo",[t._v("×")]),i("mn",[t._v("100")]),i("mo",[t._v("×")]),i("mn",[t._v("3")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("100 \\times 100 \\times 3")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord"},[t._v("1")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mord"},[t._v("0")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[t._v("3")])])])])]),t._v("），然后使用梯度递降，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")]),i("mo",[t._v("=")]),i("mi",[t._v("G")]),i("mo",[t._v("−")]),i("mfrac",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mrow",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∂")]),i("mi",[t._v("G")])],1)],1),i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G = G - \\frac{\\partial}{\\partial G} J(G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2251079999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8801079999999999em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("G")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight",staticStyle:{"margin-right":"0.05556em"}},[t._v("∂")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[i("img",{attrs:{src:a(353),alt:"DeepLearning62"}})]),t._v(" "),i("p",[t._v("上面就是对图片的优化过程了，前两张是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("C")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("C")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])])])])]),t._v(" ，第三张是初始化的白噪声图，后面是不断优化生成的图片")],1),t._v(" "),i("h4",{attrs:{id:"_4-4-9-content-cost-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-9-content-cost-function"}},[t._v("#")]),t._v(" 4.4.9 Content cost function")]),t._v(" "),i("p",[t._v("这里我们定义下 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("n")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mi",[t._v("t")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("C")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J_{content}(C, G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("如何定义内容的相似性呢？我们由 4.4.7 知道了神经网络各层分别检测了各种层面的对象，如果我们使用低层进行评估的话，那么“相似”的图片会是像素层级的相似，而比较深的层的话，比如这层能够识别狗了，而原图有狗的话，他就会确保生成的图片中会有狗")]),t._v(" "),i("p",[t._v("所以呢，我们会"),i("strong",[t._v("选择不会太深也不会太浅的层，也就是中间层来评估内容上的相似性")])]),t._v(" "),i("p",[t._v("首先我们选取一个已经预训练好的神经网络，选取其中间某层 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("l")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])])]),t._v(" ，然后让 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("C")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("C")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])])])]),t._v(" 与 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])]),t._v(" 同时通过该网络，以隐藏层 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("l")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("l")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])])])]),t._v(" 的输出为最终输出")],1),t._v(" "),i("p",[t._v("定义 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("n")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mi",[t._v("t")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("C")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mn",[t._v("2")])],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("C")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("−")]),i("msup",[i("mi",[t._v("a")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("msup",[i("mi",{attrs:{mathvariant:"normal"}},[t._v("∣")]),i("mn",[t._v("2")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J_{content}(C, G) = \\frac{1}{2} ||a^{[l](C)} - a^{[l](G)}||^2")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.2329999999999999em","vertical-align":"-0.345em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.6550000000000002em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.345em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.138em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("G")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])])])])])]),i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord"},[t._v("∣")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])])]),t._v(" ，原论文中使用了归一化，但是没有归一化大抵上是没太大关系的，因为我们有着一个超参数来调整")],1),t._v(" "),i("h4",{attrs:{id:"_4-4-10-style-cost-function"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-10-style-cost-function"}},[t._v("#")]),t._v(" 4.4.10 Style cost function")]),t._v(" "),i("p",[t._v("这里我们定义下 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J_{style}(S, G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3361079999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("那么什么是图片的风格呢？")]),t._v(" "),i("p",[i("img",{attrs:{src:a(354),alt:"DeepLearning63"}})]),t._v(" "),i("p",[t._v("我们这里取神经网络某个隐藏层进行分析，我们知道，每个通道是一个过滤器的输出，而每种过滤器代表了某种检测对象，所以每个通道就对应了原图中各个区域内是否有该特征")]),t._v(" "),i("p",[t._v("为了方便，不妨认为通道一检测是否是橙色，通道二检测是否有竖线")]),t._v(" "),i("p",[t._v("我们取第一个通道右下角的这个值，它代表了原图右下角是不是橙色，而第二个通道对应位置的值代表了原图该位置有没有竖线，这两个特征有什么关联呢？我们不妨认为风格就是两种特征之间的相关性，比如说图上大多数出现橙色的地方也出现了竖线，这就是相关性比较大的体现，否则相关性较小")]),t._v(" "),i("p",[t._v("刚刚我们已经大概地定义了相关性的计算方法，我们现在详细地讨论下")]),t._v(" "),i("blockquote",[i("p",[t._v("我们知道，两个独立变量 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(XY) = E(X)E(Y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" ，而协方差 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("−")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(XY) - E(X)E(Y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 越大，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("X")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("X")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")])])])])]),t._v(" 与 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("Y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Y")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")])])])])]),t._v(" 相关性越大")],1)]),t._v(" "),i("blockquote",[i("p",[t._v("我们使用 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("a_{i, j, k}^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.4822159999999998em","vertical-align":"-0.4374159999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])])])])])]),t._v(" 表示在 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("i, j, k")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("i")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),t._v(" 位置的激活项，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("i")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("i")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("i")])])])])]),t._v(" 对应输出高度号，"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("j")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("j")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.85396em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")])])])])]),t._v(" 对应输出宽度号， "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("k")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("k")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])])]),t._v(" 对应输出的通道号")],1)]),t._v(" "),i("p",[t._v("首先，我们对比的是两个相同位置的相关性，也就是两者同时出现的概率，我们使用两个激活值相乘试试（"),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("X")]),i("mi",[t._v("Y")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("XY")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")])])])])]),t._v(" 嘛，统计整个图像之后就正比于 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(XY)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 啦，减去 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("X")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mi",[t._v("E")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("Y")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("E(X)E(Y)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07847em"}},[t._v("X")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("E")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.22222em"}},[t._v("Y")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" 先不考虑），我们将每两通道之间的结果放在一个位置，也就是 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("G")]),i("mrow",[i("mi",[t._v("k")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",[t._v("=")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G_{kk'}^{[l]} = \\sum \\limits_{i=1}^{n_H^{[l]}} \\sum \\limits_{j=1}^{n_W^{[l]}} a_{i, j, k}^{[l]} a_{i, j, k'}^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3461079999999999em","vertical-align":"-0.30130799999999996em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.398692em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2197999999999998em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30130799999999996em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.053647em","vertical-align":"-1.113777em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9776689999999999em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.113777em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])])])])])]),t._v(" ，也就是我们最后得到了 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("n")]),i("mi",[t._v("c")])],1),i("mo",[t._v("×")]),i("msub",[i("mi",[t._v("n")]),i("mi",[t._v("c")])],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n_c \\times n_c")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.73333em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("×")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.58056em","vertical-align":"-0.15em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])])])])])]),t._v(" 的矩阵，每个位置表示了某两种特征之间的相关性")],1),t._v(" "),i("p",[t._v("这样我们就能分别得到 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("S")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")])])])])]),t._v(" 和 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("G")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")])])])])]),t._v(" 的风格了，分别是")],1),t._v(" "),i("ul",[i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("G")]),i("mrow",[i("mi",[t._v("k")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G_{kk'}^{[l](S)} = \\sum \\limits_{i=1}^{n_H^{[l]}} \\sum \\limits_{j=1}^{n_W^{[l]}} a_{i, j, k}^{[l](S)} a_{i, j, k'}^{[l](S)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3461079999999999em","vertical-align":"-0.30130799999999996em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.398692em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2197999999999998em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30130799999999996em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.053647em","vertical-align":"-1.113777em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9776689999999999em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.113777em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])])])])])])],1),t._v(" "),i("li",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("G")]),i("mrow",[i("mi",[t._v("k")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("=")]),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("i")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mo",[t._v("∑")]),i("mrow",[i("mi",[t._v("j")]),i("mo",[t._v("=")]),i("mn",[t._v("1")])],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("k")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("msubsup",[i("mi",[t._v("a")]),i("mrow",[i("mi",[t._v("i")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("j")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("G_{kk'}^{[l](G)} = \\sum \\limits_{i=1}^{n_H^{[l]}} \\sum \\limits_{j=1}^{n_W^{[l]}} a_{i, j, k}^{[l](G)} a_{i, j, k'}^{[l](G)}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3461079999999999em","vertical-align":"-0.30130799999999996em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.398692em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2197999999999998em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("G")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30130799999999996em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"3.053647em","vertical-align":"-1.113777em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.9776689999999999em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.93987em"}},[i("span",{staticStyle:{top:"-2.122331em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mrel mtight"},[t._v("=")]),i("span",{staticClass:"mord mtight"},[t._v("1")])])])]),i("span",{staticStyle:{top:"-3.0000050000000003em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])]),i("span",{staticStyle:{top:"-4.09851em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.113777em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("G")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("a")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("i")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05724em"}},[t._v("j")]),i("span",{staticClass:"mpunct mtight"},[t._v(",")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("G")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])])])])])])],1)]),t._v(" "),i("p",[t._v("然后我们比较这两个风格矩阵就好啦")]),t._v(" "),i("p",[t._v("各层的（是否归一化影响不大）：")]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msubsup",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mfrac",[i("mn",[t._v("1")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mn",[t._v("2")]),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("H")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("W")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msubsup",[i("mi",[t._v("n")]),i("mi",[t._v("C")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msup",[i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mn",[t._v("2")])],1)],1)],1),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("k")])],1),i("munder",[i("mo",[t._v("∑")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("msubsup",[i("mi",[t._v("G")]),i("mrow",[i("mi",[t._v("k")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",[t._v("−")]),i("msubsup",[i("mi",[t._v("G")]),i("mrow",[i("mi",[t._v("k")]),i("msup",[i("mi",[t._v("k")]),i("mo",{attrs:{mathvariant:"normal",lspace:"0em",rspace:"0em"}},[t._v("′")])],1)],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J_{style}^{[l]}(S, G) = \\frac{1}{(2n_H^{[l]} n_W^{[l]} n_C^{[l]})^2} \\sum\\limits_k \\sum\\limits_{k'}(G_{kk'}^{[l](S)} - G_{kk'}^{[l](S)})")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.4822159999999998em","vertical-align":"-0.4374159999999999em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.046913em","vertical-align":"-1.002113em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mopen nulldelimiter"}),i("span",{staticClass:"mfrac"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.845108em"}},[i("span",{staticStyle:{top:"-2.44864em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mtight"},[t._v("2")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.08125em"}},[t._v("H")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.13889em"}},[t._v("W")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0590857142857142em"}},[i("span",{staticStyle:{top:"-2.1964214285714285em","margin-left":"0em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")])])]),i("span",{staticStyle:{top:"-3.059085714285714em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5357142857142856em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3392928571428572em"}},[i("span")])])])])]),i("span",{staticClass:"mclose mtight"},[i("span",{staticClass:"mclose mtight"},[t._v(")")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7463142857142857em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[t._v("2")])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.23em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"frac-line",staticStyle:{"border-bottom-width":"0.04em"}})]),i("span",{staticStyle:{top:"-3.394em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("1")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7888649999999998em"}},[i("span")])])])]),i("span",{staticClass:"mclose nulldelimiter"})]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7500049999999999em"}},[i("span",{staticStyle:{top:"-2.097887em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")])])]),i("span",{staticStyle:{top:"-3.000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.002113em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7500049999999999em"}},[i("span",{staticStyle:{top:"-2.097887em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.002113em"}},[i("span")])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.398692em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2197999999999998em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30130799999999996em"}},[i("span")])])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("−")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.3461079999999999em","vertical-align":"-0.30130799999999996em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.398692em","margin-left":"0em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.6828285714285715em"}},[i("span",{staticStyle:{top:"-2.786em","margin-right":"0.07142857142857144em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.5em"}}),i("span",{staticClass:"sizing reset-size3 size1 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mtight"},[t._v("′")])])])])])])])])])])])]),i("span",{staticStyle:{top:"-3.2197999999999998em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")]),i("span",{staticClass:"mopen mtight"},[t._v("(")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose mtight"},[t._v(")")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.30130799999999996em"}},[i("span")])])])])]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("各层相加，让其在每个层次都有相似度（可调整超参数 "),i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msup",[i("mi",[t._v("λ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1)],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\lambda^{[l]}")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.8879999999999999em","vertical-align":"0em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("λ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])])])])])]),t._v("）")],1),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("munder",[i("mo",[t._v("∑")]),i("mi",[t._v("l")])],1),i("msup",[i("mi",[t._v("λ")]),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("msubsup",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1),i("mrow",[i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("l")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J_{style}(S, G) = \\sum \\limits_l \\lambda^{[l]} J_{style}^{[l]}(S, G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3361079999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"2.046913em","vertical-align":"-1.002113em"}}),i("span",{staticClass:"mop op-limits"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.7500049999999999em"}},[i("span",{staticStyle:{top:"-2.097887em","margin-left":"0em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")])])]),i("span",{staticStyle:{top:"-3.000005em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"3em"}}),i("span",[i("span",{staticClass:"mop op-symbol small-op"},[t._v("∑")])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.002113em"}},[i("span")])])])]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault"},[t._v("λ")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.8879999999999999em"}},[i("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])])])])])]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"1.0448em"}},[i("span",{staticStyle:{top:"-2.3986920000000005em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])]),i("span",{staticStyle:{top:"-3.2198em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mopen mtight"},[t._v("[")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mclose mtight"},[t._v("]")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.4374159999999999em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("p",[t._v("终于将内容代价与风格代价都弄出来了，最后加在一起啦")]),t._v(" "),i("p",[i("eq",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("J")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("=")]),i("mi",[t._v("α")]),i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("c")]),i("mi",[t._v("o")]),i("mi",[t._v("n")]),i("mi",[t._v("t")]),i("mi",[t._v("e")]),i("mi",[t._v("n")]),i("mi",[t._v("t")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("C")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mo",[t._v("+")]),i("mi",[t._v("β")]),i("msub",[i("mi",[t._v("J")]),i("mrow",[i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("y")]),i("mi",[t._v("l")]),i("mi",[t._v("e")])],1)],1),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("S")]),i("mo",{attrs:{separator:"true"}},[t._v(",")]),i("mi",[t._v("G")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("J(G) = \\alpha J_{content}(C, G) + \\beta J_{style}(S, G)")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.0037em"}},[t._v("α")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.2805559999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("c")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("o")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("n")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("C")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1.036108em","vertical-align":"-0.286108em"}}),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05278em"}},[t._v("β")]),i("span",{staticClass:"mord"},[i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.09618em"}},[t._v("J")]),i("span",{staticClass:"msupsub"},[i("span",{staticClass:"vlist-t vlist-t2"},[i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.3361079999999999em"}},[i("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.09618em","margin-right":"0.05em"}},[i("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),i("span",{staticClass:"sizing reset-size6 size3 mtight"},[i("span",{staticClass:"mord mtight"},[i("span",{staticClass:"mord mathdefault mtight"},[t._v("s")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("t")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.03588em"}},[t._v("y")]),i("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathdefault mtight"},[t._v("e")])])])])]),i("span",{staticClass:"vlist-s"},[t._v("​")])]),i("span",{staticClass:"vlist-r"},[i("span",{staticClass:"vlist",staticStyle:{height:"0.286108em"}},[i("span")])])])])]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mpunct"},[t._v(",")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),i("span",{staticClass:"mord mathdefault"},[t._v("G")]),i("span",{staticClass:"mclose"},[t._v(")")])])])])])],1),t._v(" "),i("h4",{attrs:{id:"_4-4-11-1d-and-3d-generalizations-of-models"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-11-1d-and-3d-generalizations-of-models"}},[t._v("#")]),t._v(" 4.4.11 1D and 3D generalizations of models")]),t._v(" "),i("p",[t._v("一维、三维卷积操作和二维的一毛一样……")]),t._v(" "),i("h2",{attrs:{id:"_5-sequence-models"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_5-sequence-models"}},[t._v("#")]),t._v(" 5 Sequence Models")]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[t._v("第五章哪里去了？")]),t._v(" "),i("p",[t._v("由于第五章在编译时会出现错误，且该章节内容暂时很少用到，因此暂时注释掉了")])]),t._v(" "),i("h1",{attrs:{id:"change-log"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#change-log"}},[t._v("#")]),t._v(" Change Log")]),t._v(" "),i("ol",[i("li",[t._v("181014 #1.1 Finished")]),t._v(" "),i("li",[t._v("181017 #1.2 Finished")]),t._v(" "),i("li",[t._v("181020 #1.3 Finished")]),t._v(" "),i("li",[t._v("181021 "),i("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/DeepLearning/Week_3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Week_3"),i("OutboundLink")],1),t._v(" Finished")]),t._v(" "),i("li",[t._v("181022 #1.4 Finished")]),t._v(" "),i("li",[t._v("181028 #2.1 Finished")]),t._v(" "),i("li",[t._v("181116 #2.2 Finished")]),t._v(" "),i("li",[t._v("181225 #2.3 Finished")]),t._v(" "),i("li",[t._v("190130 #3.1 Finished")]),t._v(" "),i("li",[t._v("190206 #3.2 Finished")]),t._v(" "),i("li",[t._v("190211 #4.1 Finished")]),t._v(" "),i("li",[t._v("190224 #4.2 Finished")]),t._v(" "),i("li",[t._v("190301 #4.3 Finished")]),t._v(" "),i("li",[t._v("190302 #4.4 Finished")]),t._v(" "),i("li",[t._v("190310 #5.1 Finished")]),t._v(" "),i("li",[t._v("190315 #5.2 Finished")]),t._v(" "),i("li",[t._v("190316 #5.3 Finished")])]),t._v(" "),i("h1",{attrs:{id:"reference"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),i("ol",[i("li",[i("a",{attrs:{href:"https://mooc.study.163.com/smartSpec/detail/1001319001.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("深度学习工程师 - deeplearning.ai - 网易云课堂"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"http://www.ai-start.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("机器学习初学者"),i("OutboundLink")],1)]),t._v(" "),i("li",[t._v("《Python 神经网络编程》 Tariq Rashid")]),t._v(" "),i("li",[i("a",{attrs:{href:"https://study.163.com/course/courseMain.htm?courseId=1004697005",target:"_blank",rel:"noopener noreferrer"}},[t._v("2017CS231n 斯坦福李飞飞视觉识别 - 网易云课堂"),i("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=l.exports}}]);