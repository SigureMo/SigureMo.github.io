(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{396:function(t,s,a){t.exports=a.p+"assets/img/OS01.2ab793b1.png"},397:function(t,s,a){t.exports=a.p+"assets/img/OS02.ce6e3f33.png"},398:function(t,s,a){t.exports=a.p+"assets/img/OS04.c5770d5a.png"},399:function(t,s,a){t.exports=a.p+"assets/img/OS03.0304025c.png"},400:function(t,s,a){t.exports=a.p+"assets/img/OS05.20cf64d0.png"},401:function(t,s,a){t.exports=a.p+"assets/img/OS06.5d2404f6.png"},402:function(t,s,a){t.exports=a.p+"assets/img/OS07.7d09c70b.png"},403:function(t,s,a){t.exports=a.p+"assets/img/OS08.9887a1fe.png"},404:function(t,s,a){t.exports=a.p+"assets/img/OS09.7eb4aa30.png"},405:function(t,s){t.exports="data:image/png;base64,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"},406:function(t,s,a){t.exports=a.p+"assets/img/OS11.dec55523.png"},407:function(t,s,a){t.exports=a.p+"assets/img/OS12.4fdd3d5f.png"},408:function(t,s,a){t.exports=a.p+"assets/img/OS13.e7b333a9.png"},409:function(t,s,a){t.exports=a.p+"assets/img/OS14.e32b7b5a.png"},410:function(t,s,a){t.exports=a.p+"assets/img/OS15.421b0d0b.png"},411:function(t,s,a){t.exports=a.p+"assets/img/OS16.fdfab360.png"},412:function(t,s,a){t.exports=a.p+"assets/img/OS17.2d6db9c7.png"},413:function(t,s,a){t.exports=a.p+"assets/img/OS18.454f03e7.png"},414:function(t,s,a){t.exports=a.p+"assets/img/OS19.27471043.png"},415:function(t,s,a){t.exports=a.p+"assets/img/OS20.f4c4f4e4.png"},416:function(t,s,a){t.exports=a.p+"assets/img/OS21.387e0d3b.png"},417:function(t,s,a){t.exports=a.p+"assets/img/OS22.dcbfe065.png"},418:function(t,s,a){t.exports=a.p+"assets/img/OS23.f3020a6f.png"},419:function(t,s,a){t.exports=a.p+"assets/img/OS24.9c7ab35d.png"},420:function(t,s,a){t.exports=a.p+"assets/img/OS25.aa30f5b2.png"},421:function(t,s,a){t.exports=a.p+"assets/img/OS26.38db0201.png"},422:function(t,s,a){t.exports=a.p+"assets/img/OS27.69994fe1.png"},423:function(t,s,a){t.exports=a.p+"assets/img/OS28.2569d7d1.png"},424:function(t,s,a){t.exports=a.p+"assets/img/OS29.0a265769.png"},425:function(t,s,a){t.exports=a.p+"assets/img/OS30.3a3517bb.png"},426:function(t,s,a){t.exports=a.p+"assets/img/OS31.24476796.png"},427:function(t,s,a){t.exports=a.p+"assets/img/OS32.ca6a056c.png"},428:function(t,s,a){t.exports=a.p+"assets/img/OS33.f701f81e.png"},429:function(t,s){t.exports="data:image/png;base64,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"},430:function(t,s,a){t.exports=a.p+"assets/img/OS35.d4e40b5c.png"},431:function(t,s,a){t.exports=a.p+"assets/img/OS36.a69fe737.png"},535:function(t,s,a){"use strict";a.r(s);var _=a(3),v=Object(_.a)({},(function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),_("p",[t._v("《计算机操作系统》课程笔记")])]),t._v(" "),_("h2",{attrs:{id:"_1-操作系统引论"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-操作系统引论"}},[t._v("#")]),t._v(" 1 操作系统引论")]),t._v(" "),_("p",[t._v("配置在计算机硬件上的第一层软件")]),t._v(" "),_("h3",{attrs:{id:"_1-1-操作系统的目标和作用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-操作系统的目标和作用"}},[t._v("#")]),t._v(" 1.1 操作系统的目标和作用")]),t._v(" "),_("h4",{attrs:{id:"_1-1-1-操作系统的目标"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-操作系统的目标"}},[t._v("#")]),t._v(" 1.1.1 操作系统的目标")]),t._v(" "),_("ul",[_("li",[t._v("方便性 避免用户书写机器语言")]),t._v(" "),_("li",[t._v("有效性 防止大部分设备处于空闲状态，在操作系统的调度下各部分的协调恰如其分")]),t._v(" "),_("li",[t._v("可扩充性 能方便地增添新的功能和模块")]),t._v(" "),_("li",[t._v("开放性 按照某些标准开发，以便软硬件的兼容等等")])]),t._v(" "),_("h4",{attrs:{id:"_1-1-2-操作系统的作用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-操作系统的作用"}},[t._v("#")]),t._v(" 1.1.2 操作系统的作用")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("OS 作为用户与计算机硬件系统之间的接口")]),t._v(" "),_("p",[_("img",{attrs:{src:a(396),alt:"OS01"}})])]),t._v(" "),_("li",[_("p",[t._v("OS 作为计算机系统资源的管理者")]),t._v(" "),_("ul",[_("li",[t._v("处理器上可执行的指令分为\n"),_("ul",[_("li",[t._v("特权指令")]),t._v(" "),_("li",[t._v("非特权指令")])])]),t._v(" "),_("li",[t._v("处理器状态划分为\n"),_("ul",[_("li",[t._v("管态（管理态）")]),t._v(" "),_("li",[t._v("目态（用户态）")])])])]),t._v(" "),_("blockquote",[_("p",[t._v("处理器状态保证了特权指令的正确使用，把 OS 与用户程序区别开来")])])]),t._v(" "),_("li",[_("p",[t._v("OS 实现了对计算机资源的抽象")])])]),t._v(" "),_("h4",{attrs:{id:"_1-1-3-推动操作系统发展的主要动力"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-推动操作系统发展的主要动力"}},[t._v("#")]),t._v(" 1.1.3 推动操作系统发展的主要动力")]),t._v(" "),_("ul",[_("li",[t._v("不断提高计算机资源利用率")]),t._v(" "),_("li",[t._v("方便用户")]),t._v(" "),_("li",[t._v("器件的不断更新换代")]),t._v(" "),_("li",[t._v("计算机体系结构的不断发展")]),t._v(" "),_("li",[t._v("不断提出新的应用要求")])]),t._v(" "),_("h3",{attrs:{id:"_1-2-操作系统的发展过程"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-操作系统的发展过程"}},[t._v("#")]),t._v(" 1.2 操作系统的发展过程")]),t._v(" "),_("h4",{attrs:{id:"_1-2-1-未配置操作系统的计算机系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-未配置操作系统的计算机系统"}},[t._v("#")]),t._v(" 1.2.1 未配置操作系统的计算机系统")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("人工操作方式")]),t._v(" "),_("p",[t._v("人工装填纸带，CPU 大多数时间在等待，浪费了大量的资源")])]),t._v(" "),_("li",[_("p",[t._v("脱机输入/输出（Off-Line I/O）方式")]),t._v(" "),_("p",[t._v("在手工与 CPU 之间加上了一个磁带，以优化 I/O 与 CPU 速度不匹配的问题")])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-2-单道批处理系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-单道批处理系统"}},[t._v("#")]),t._v(" 1.2.2 单道批处理系统")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("单道批处理系统（Simple Batch Processing System）的处理过程")]),t._v(" "),_("p",[t._v("用监督程序来解放装填纸带人员的双手，并进一步解决了 I/O 与 CPU 之间速度不匹配的问题")])]),t._v(" "),_("li",[_("p",[t._v("单道批处理系统的特征")]),t._v(" "),_("ul",[_("li",[t._v("单道性 内存中仅有一道程序运行")]),t._v(" "),_("li",[t._v("自动性")]),t._v(" "),_("li",[t._v("顺序性")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-3-多道批处理系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-多道批处理系统"}},[t._v("#")]),t._v(" 1.2.3 多道批处理系统")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("多道程序设计的基本概念")]),t._v(" "),_("p",[t._v("用户提交的作业形成队列，按一定算法将若干作业调入内存")])]),t._v(" "),_("li",[_("p",[t._v("多道程序设计的优点")]),t._v(" "),_("ul",[_("li",[t._v("提高 CPU 利用率")]),t._v(" "),_("li",[t._v("提高内存和 I/O 设备利用率")]),t._v(" "),_("li",[t._v("增加系统吞吐量")])])]),t._v(" "),_("li",[_("p",[t._v("多道程序设计的缺点")]),t._v(" "),_("ul",[_("li",[t._v("平均周转时间长")]),t._v(" "),_("li",[t._v("依然无交互能力")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-4-分时系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-分时系统"}},[t._v("#")]),t._v(" 1.2.4 分时系统")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("分时系统产生的动力")]),t._v(" "),_("ul",[_("li",[t._v("人们亟需可以实现"),_("strong",[t._v("人机交互")]),t._v("的处理机以便调试运行程序")]),t._v(" "),_("li",[_("strong",[t._v("共享主机")])])])]),t._v(" "),_("li",[_("p",[t._v("分时系统实现中的关键问题")]),t._v(" "),_("ul",[_("li",[t._v("及时接收 及时接收各个用户终端的输入")]),t._v(" "),_("li",[t._v("及时处理 及时处理用户键入的命令")])])])]),t._v(" "),_("p",[t._v("=> 分时系统，将 CPU 的时间分片，每个作业每次只能运行一个时间片")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("分时系统的特征")]),t._v(" "),_("ul",[_("li",[t._v("多路性")]),t._v(" "),_("li",[t._v("独立性 每个人都好像独占资源")]),t._v(" "),_("li",[t._v("及时性")]),t._v(" "),_("li",[t._v("交互性")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-5-实时系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-5-实时系统"}},[t._v("#")]),t._v(" 1.2.5 实时系统")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("需求")]),t._v(" "),_("ul",[_("li",[t._v("实时控制")]),t._v(" "),_("li",[t._v("实时信息处理")])])]),t._v(" "),_("li",[_("p",[t._v("实时任务")]),t._v(" "),_("ul",[_("li",[t._v("按任务执行时是否呈现周期性来划分\n"),_("ul",[_("li",[t._v("周期性实时任务")]),t._v(" "),_("li",[t._v("非周期性实时任务")])])]),t._v(" "),_("li",[t._v("根据对截止时间的要求来划分\n"),_("ul",[_("li",[t._v("硬实时任务")]),t._v(" "),_("li",[t._v("软实时任务")])])])])]),t._v(" "),_("li",[_("p",[t._v("实时系统与分时系统特征的比较")]),t._v(" "),_("ul",[_("li",[t._v("多路性")]),t._v(" "),_("li",[t._v("独立性")]),t._v(" "),_("li",[t._v("交互性")]),t._v(" "),_("li",[t._v("及时性")]),t._v(" "),_("li",[t._v("可靠性")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-6-微机操作系统的发展"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-6-微机操作系统的发展"}},[t._v("#")]),t._v(" 1.2.6 微机操作系统的发展")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("单用户单任务操作系统")]),t._v(" "),_("ul",[_("li",[t._v("CP/M")]),t._v(" "),_("li",[t._v("MS-DOS")])])]),t._v(" "),_("li",[_("p",[t._v("单用户多任务操作系统")]),t._v(" "),_("p",[t._v("各种 Windows")])]),t._v(" "),_("li",[_("p",[t._v("多用户多任务操作系统")]),t._v(" "),_("p",[t._v("UNIX")]),t._v(" "),_("ul",[_("li",[t._v("Solaris")]),t._v(" "),_("li",[t._v("Linux ❤️")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-2-7-其它操作系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-7-其它操作系统"}},[t._v("#")]),t._v(" 1.2.7 其它操作系统")]),t._v(" "),_("ul",[_("li",[t._v("网络操作系统")]),t._v(" "),_("li",[t._v("分布式操作系统 可独立也可协同，对用户来说相当于一个操作系统")]),t._v(" "),_("li",[t._v("嵌入式操作系统")])]),t._v(" "),_("h3",{attrs:{id:"_1-3-操作系统的特征"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-操作系统的特征"}},[t._v("#")]),t._v(" 1.3 操作系统的特征")]),t._v(" "),_("h4",{attrs:{id:"_1-3-1-并发性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-并发性"}},[t._v("#")]),t._v(" 1.3.1 并发性")]),t._v(" "),_("p",[t._v("并行和并发的区别，组原就有提到，并行是真的多处理器处理多数据，并发是利用时分技术实现的，其微观本质上还是串行")]),t._v(" "),_("p",[t._v("为了实现并发，引入了进程的概念，其"),_("strong",[t._v("作为资源分配的基本单位，可在系统中能独立运行")])]),t._v(" "),_("p",[t._v("为了进一步提高并发程度，在进程内引入了线程，其"),_("strong",[t._v("作为独立运行和独立调度的基本单位，并不会拥有系统资源，开销就会小很多")])]),t._v(" "),_("h4",{attrs:{id:"_1-3-2-共享性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-共享性"}},[t._v("#")]),t._v(" 1.3.2 共享性")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("互斥共享技术")]),t._v(" "),_("p",[t._v("保证各个进程之间不会混淆")])]),t._v(" "),_("li",[_("p",[t._v("同时访问方式")]),t._v(" "),_("p",[t._v("各个进程可以同时访问同一个设备，比如磁盘")])])]),t._v(" "),_("h4",{attrs:{id:"_1-3-3-虚拟技术"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-虚拟技术"}},[t._v("#")]),t._v(" 1.3.3 虚拟技术")]),t._v(" "),_("ul",[_("li",[t._v("时分复用技术\n"),_("ul",[_("li",[t._v("虚拟处理机技术")]),t._v(" "),_("li",[t._v("虚拟设备技术")])])]),t._v(" "),_("li",[t._v("空分复用技术\n"),_("ul",[_("li",[t._v("虚拟磁盘技术 磁盘分区")]),t._v(" "),_("li",[t._v("虚拟存储器技术")])])])]),t._v(" "),_("h4",{attrs:{id:"_1-3-4-异步性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-异步性"}},[t._v("#")]),t._v(" 1.3.4 异步性")]),t._v(" "),_("p",[t._v("各个进程停停走走……")]),t._v(" "),_("h3",{attrs:{id:"_1-4-操作系统的五大功能"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-操作系统的五大功能"}},[t._v("#")]),t._v(" 1.4 操作系统的五大功能")]),t._v(" "),_("h4",{attrs:{id:"_1-4-1-处理机管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-处理机管理"}},[t._v("#")]),t._v(" 1.4.1 处理机管理")]),t._v(" "),_("ul",[_("li",[t._v("进程控制")]),t._v(" "),_("li",[t._v("进程同步")]),t._v(" "),_("li",[t._v("进程通信")]),t._v(" "),_("li",[t._v("调度")])]),t._v(" "),_("h4",{attrs:{id:"_1-4-2-存储器管理功能"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-存储器管理功能"}},[t._v("#")]),t._v(" 1.4.2 存储器管理功能")]),t._v(" "),_("ul",[_("li",[t._v("内存分配")]),t._v(" "),_("li",[t._v("内存保护")]),t._v(" "),_("li",[t._v("地址映射")]),t._v(" "),_("li",[t._v("内存扩充")])]),t._v(" "),_("h4",{attrs:{id:"_1-4-3-设备管理功能"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-设备管理功能"}},[t._v("#")]),t._v(" 1.4.3 设备管理功能")]),t._v(" "),_("ul",[_("li",[t._v("缓存管理")]),t._v(" "),_("li",[t._v("设备分配")]),t._v(" "),_("li",[t._v("设备处理")])]),t._v(" "),_("h4",{attrs:{id:"_1-4-4-文件管理功能"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-4-文件管理功能"}},[t._v("#")]),t._v(" 1.4.4 文件管理功能")]),t._v(" "),_("ul",[_("li",[t._v("文件存储空间的管理")]),t._v(" "),_("li",[t._v("目录管理")]),t._v(" "),_("li",[t._v("文件的读/写管理和保护")])]),t._v(" "),_("h4",{attrs:{id:"_1-4-5-操作系统与用户之间的接口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-5-操作系统与用户之间的接口"}},[t._v("#")]),t._v(" 1.4.5 操作系统与用户之间的接口")]),t._v(" "),_("ul",[_("li",[t._v("用户接口")]),t._v(" "),_("li",[t._v("程序接口")])]),t._v(" "),_("h4",{attrs:{id:"_1-4-6-现代操作系统的新功能"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-6-现代操作系统的新功能"}},[t._v("#")]),t._v(" 1.4.6 现代操作系统的新功能")]),t._v(" "),_("ul",[_("li",[t._v("系统安全")]),t._v(" "),_("li",[t._v("网络的功能和服务")]),t._v(" "),_("li",[t._v("支持多媒体")])]),t._v(" "),_("h3",{attrs:{id:"_1-5-os-结构设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-os-结构设计"}},[t._v("#")]),t._v(" 1.5 OS 结构设计")]),t._v(" "),_("h4",{attrs:{id:"_1-5-1-传统的操作系统结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-传统的操作系统结构"}},[t._v("#")]),t._v(" 1.5.1 传统的操作系统结构")]),t._v(" "),_("ol",[_("li",[t._v("无结构操作系统")]),t._v(" "),_("li",[t._v("模块化结构操作系统 分解成一个一个模块")]),t._v(" "),_("li",[t._v("分层式结构 OS 有序分层")])]),t._v(" "),_("h4",{attrs:{id:"_1-5-2-客户-服务器（c-s）模式简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-客户-服务器（c-s）模式简介"}},[t._v("#")]),t._v(" 1.5.2 客户/服务器（C/S）模式简介")]),t._v(" "),_("p",[t._v("便于集中管理，但会有瓶颈问题和不可靠性")]),t._v(" "),_("h4",{attrs:{id:"_1-5-3-面向对象的程序设计（oop）简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-面向对象的程序设计（oop）简介"}},[t._v("#")]),t._v(" 1.5.3 面向对象的程序设计（OOP）简介")]),t._v(" "),_("h4",{attrs:{id:"_1-5-4-微内核-os-结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-4-微内核-os-结构"}},[t._v("#")]),t._v(" 1.5.4 微内核 OS 结构")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("足够小的内核")]),t._v(" "),_("p",[t._v("将操作系统中最基本的部分放入微内核，其他部分放在外面作为服务器")])]),t._v(" "),_("li",[_("p",[t._v("基于 C/S 模式")]),t._v(" "),_("p",[_("img",{attrs:{src:a(397),alt:"OS02"}})])]),t._v(" "),_("li",[_("p",[t._v("应用”机制与策略分离“原理")])]),t._v(" "),_("li",[_("p",[t._v("采用面向对象技术")])])]),t._v(" "),_("h2",{attrs:{id:"_2-进程管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-进程管理"}},[t._v("#")]),t._v(" 2 进程管理")]),t._v(" "),_("h3",{attrs:{id:"_2-1-进程的基本概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-进程的基本概念"}},[t._v("#")]),t._v(" 2.1 进程的基本概念")]),t._v(" "),_("h4",{attrs:{id:"_2-1-1-程序的顺序执行及其特征"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-程序的顺序执行及其特征"}},[t._v("#")]),t._v(" 2.1.1 程序的顺序执行及其特征")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("程序的顺序执行是指程序可以保证其按照其顺序执行")])]),t._v(" "),_("li",[_("p",[t._v("特征")]),t._v(" "),_("ul",[_("li",[t._v("顺序性")]),t._v(" "),_("li",[t._v("封闭性")]),t._v(" "),_("li",[t._v("可再现性")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-1-2-程序的并发执行及其特征"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-程序的并发执行及其特征"}},[t._v("#")]),t._v(" 2.1.2 程序的并发执行及其特征")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("多道程序并发执行")])]),t._v(" "),_("li",[_("p",[t._v("特征")]),t._v(" "),_("ul",[_("li",[t._v("间断性")]),t._v(" "),_("li",[t._v("失去封闭性")]),t._v(" "),_("li",[t._v("不可再现性 （资源共享，可能使用时被其他程序所修改）")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-1-3-进程的特征与状态"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-进程的特征与状态"}},[t._v("#")]),t._v(" 2.1.3 进程的特征与状态")]),t._v(" "),_("p",[_("img",{attrs:{src:a(398),alt:"OS04"}})]),t._v(" "),_("ul",[_("li",[_("p",[t._v("定义")]),t._v(" "),_("ul",[_("li",[t._v("进程是程序的一次执行")]),t._v(" "),_("li",[t._v("进程是一个程序及其数据在处理机上顺序执行时所发生的活动")]),t._v(" "),_("li",[t._v("进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位")])])]),t._v(" "),_("li",[_("p",[t._v("特征")]),t._v(" "),_("ul",[_("li",[t._v("结构性")]),t._v(" "),_("li",[t._v("动态性")]),t._v(" "),_("li",[t._v("并发性")]),t._v(" "),_("li",[t._v("独立性")]),t._v(" "),_("li",[t._v("异步性")])])]),t._v(" "),_("li",[_("p",[t._v("状态")]),t._v(" "),_("ul",[_("li",[t._v("活动进程的三种状态\n"),_("ul",[_("li",[t._v("就绪")]),t._v(" "),_("li",[t._v("执行")]),t._v(" "),_("li",[t._v("阻塞")])])]),t._v(" "),_("li",[t._v("另外两种状态\n"),_("ul",[_("li",[t._v("创建")]),t._v(" "),_("li",[t._v("终止")])])]),t._v(" "),_("li",[t._v("挂起状态（将进程内存 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mo",[t._v("→")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\to")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),_("span",{staticClass:"mrel"},[t._v("→")])])])]),t._v(" 外存）")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(399),alt:"OS03"}})]),t._v(" "),_("blockquote",[_("p",[t._v("N 核 CPU ，共有 M 个进程")]),t._v(" "),_("ul",[_("li",[t._v("就绪态用户进程最多几个？最少几个？")]),t._v(" "),_("li",[t._v("M-N, 0")]),t._v(" "),_("li",[t._v("执行态用户进程最多几个？最少几个？")]),t._v(" "),_("li",[t._v("N, 0")]),t._v(" "),_("li",[t._v("阻塞态用户进程最多几个？最少几个？")]),t._v(" "),_("li",[t._v("M, 0")])])])])]),t._v(" "),_("h4",{attrs:{id:"_2-1-4-进程控制块-pcb"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-进程控制块-pcb"}},[t._v("#")]),t._v(" 2.1.4 进程控制块 PCB")]),t._v(" "),_("p",[t._v("系统是根据进程的 PCB 感知到该进程的存在的,PCB 是进程存在的"),_("strong",[t._v("唯一标志")]),t._v("，因此系统总是通过 PCB 对进程进行控制的")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("PCB 中的信息")]),t._v(" "),_("ul",[_("li",[t._v("进程标识信息\n"),_("ul",[_("li",[t._v("内部标识号 PID ，操作系统分配")]),t._v(" "),_("li",[t._v("外部标识号 由字母数字组成的，创建者提供")])])]),t._v(" "),_("li",[t._v("处理机状态信息\n"),_("ul",[_("li",[t._v("通用寄存器")]),t._v(" "),_("li",[t._v("指令计数器")]),t._v(" "),_("li",[t._v("程序状态字 PSW")]),t._v(" "),_("li",[t._v("用户栈指针")])])]),t._v(" "),_("li",[t._v("进程调度信息\n"),_("ul",[_("li",[t._v("进程状态")]),t._v(" "),_("li",[t._v("进程优先级")]),t._v(" "),_("li",[t._v("进程调度所需的其它信息")]),t._v(" "),_("li",[t._v("事件")])])]),t._v(" "),_("li",[t._v("进程控制信息\n"),_("ul",[_("li",[t._v("程序和数据的地址")]),t._v(" "),_("li",[t._v("进程同步和通信机制")]),t._v(" "),_("li",[t._v("资源清单")]),t._v(" "),_("li",[t._v("链接指针（当然，索引方式应该是没有的）")])])])])]),t._v(" "),_("li",[_("p",[t._v("PCB 组织方式")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("链接方式 组织成链表")]),t._v(" "),_("p",[_("img",{attrs:{src:a(400),alt:"OS05"}})])]),t._v(" "),_("li",[_("p",[t._v("索引方式 额外建立一个索引表，更快，但是额外消耗一部分内存")]),t._v(" "),_("p",[_("img",{attrs:{src:a(401),alt:"OS06"}})])])])])]),t._v(" "),_("h3",{attrs:{id:"_2-2-进程控制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-进程控制"}},[t._v("#")]),t._v(" 2.2 进程控制")]),t._v(" "),_("p",[t._v("通过"),_("strong",[t._v("原语")]),t._v("来实现")]),t._v(" "),_("p",[t._v("原语是原子操作，是不可分割的基本单位，要么全做、要么全不做")]),t._v(" "),_("h4",{attrs:{id:"_2-2-1-进程的创建"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-进程的创建"}},[t._v("#")]),t._v(" 2.2.1 进程的创建")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("进程图")]),t._v(" "),_("p",[t._v("是一种树状的家族关系，子进程继承父进程资源，如 UNIX")]),t._v(" "),_("blockquote",[_("p",[t._v("Windows 不是这种关系，Win 的各个进程之间是平等的，并不是层次关系，进程之间的关系是通过获取句柄来调节的")])])]),t._v(" "),_("li",[_("p",[t._v("引起创建进程的事件")]),t._v(" "),_("ul",[_("li",[t._v("用户登录")]),t._v(" "),_("li",[t._v("作业调度")]),t._v(" "),_("li",[t._v("提供服务")]),t._v(" "),_("li",[t._v("应用请求")])])]),t._v(" "),_("li",[_("p",[t._v("进程的创建原语（Create）")]),t._v(" "),_("ul",[_("li",[t._v("申请空白 PCB")]),t._v(" "),_("li",[t._v("为新进程分配资源")]),t._v(" "),_("li",[t._v("初始化 PCB")]),t._v(" "),_("li",[t._v("将新进程插入就绪队列")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-2-2-进程的终止"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-进程的终止"}},[t._v("#")]),t._v(" 2.2.2 进程的终止")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("引起进程终止的事件")]),t._v(" "),_("ul",[_("li",[t._v("正常结束")]),t._v(" "),_("li",[t._v("异常结束\n"),_("ul",[_("li",[t._v("越界错")]),t._v(" "),_("li",[t._v("保护错")]),t._v(" "),_("li",[t._v("非法指令")]),t._v(" "),_("li",[t._v("特权指令错")]),t._v(" "),_("li",[t._v("运行超时")]),t._v(" "),_("li",[t._v("等待超时")]),t._v(" "),_("li",[t._v("算术运算错")]),t._v(" "),_("li",[t._v("I/O 故障")])])]),t._v(" "),_("li",[t._v("外界干预\n"),_("ul",[_("li",[t._v("操作员或操作系统干预")]),t._v(" "),_("li",[t._v("父进程请求")]),t._v(" "),_("li",[t._v("父进程中止")])])])])]),t._v(" "),_("li",[_("p",[t._v("进程的终止原语（termination）")]),t._v(" "),_("ul",[_("li",[t._v("根据被终止进程的标识符，检索出 PCB ，读取进程状态")]),t._v(" "),_("li",[t._v("若处于执行状态，则立即终止")]),t._v(" "),_("li",[t._v("若还有子孙进程，则递归终止")]),t._v(" "),_("li",[t._v("将资源归还其父进程或者系统")]),t._v(" "),_("li",[t._v("将被终止进程 PCB 从所在队列中移出")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-2-3-进程的阻塞与唤醒"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-进程的阻塞与唤醒"}},[t._v("#")]),t._v(" 2.2.3 进程的阻塞与唤醒")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("引起进程阻塞和唤醒的事件")]),t._v(" "),_("ul",[_("li",[t._v("请求系统服务")]),t._v(" "),_("li",[t._v("启动某种操作")]),t._v(" "),_("li",[t._v("新数据尚未到达")]),t._v(" "),_("li",[t._v("无新工作可做")])])]),t._v(" "),_("li",[_("p",[t._v("进程阻塞原语（block）")])]),t._v(" "),_("li",[_("p",[t._v("进程唤醒原语（wakeup）")])])]),t._v(" "),_("h4",{attrs:{id:"_2-2-4-进程的挂起和激活"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-进程的挂起和激活"}},[t._v("#")]),t._v(" 2.2.4 进程的挂起和激活")]),t._v(" "),_("ul",[_("li",[t._v("进程挂起原语（suspend）")]),t._v(" "),_("li",[t._v("进程激活原语（active）")])]),t._v(" "),_("h3",{attrs:{id:"_2-3-进程同步"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-进程同步"}},[t._v("#")]),t._v(" 2.3 进程同步")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/OS/process_sync",target:"_blank",rel:"noopener noreferrer"}},[t._v("本章节 Python 实现"),_("OutboundLink")],1)]),t._v(" "),_("h4",{attrs:{id:"_2-3-1-进程同步的基本概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-进程同步的基本概念"}},[t._v("#")]),t._v(" 2.3.1 进程同步的基本概念")]),t._v(" "),_("ul",[_("li",[t._v("两种形式的制约关系\n"),_("ul",[_("li",[t._v("间接相互制约关系（互斥） 多个进程共享系统资源")]),t._v(" "),_("li",[t._v("直接相互制约关系（同步） 多个进程之间共同访问缓冲区")])])])]),t._v(" "),_("p",[t._v("问题的根源就在于 临界资源")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("临界资源 就是发生冲突的部分 比如共享的系统资源（硬件临界资源）、共享的缓冲区（软件临界资源）")])]),t._v(" "),_("li",[_("p",[t._v("临界区 每个进程中访问临界资源的那段"),_("em",[t._v("代码")]),t._v("，我们将一个访问临界资源的循环进程描述如下")]),t._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("while (TRUE) {\n   进入区（entry section）\n   临界区（critical section）\n   退出区（exit section）\n   剩余区（remainder section）\n}\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br")])]),_("p",[t._v("各进程对自己的临界区访问是互斥的")])]),t._v(" "),_("li",[_("p",[t._v("同步机制应遵循的规则")]),t._v(" "),_("ul",[_("li",[t._v("空闲让进")]),t._v(" "),_("li",[t._v("忙则等待")]),t._v(" "),_("li",[t._v("有限等待")]),t._v(" "),_("li",[t._v("让权等待")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-3-2-硬件同步机制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-硬件同步机制"}},[t._v("#")]),t._v(" 2.3.2 硬件同步机制")]),t._v(" "),_("ul",[_("li",[t._v("关中断 但是会引发一系列问题")]),t._v(" "),_("li",[t._v("利用 Test-and-Set 指令实现互斥 将“测试并建立”作为一条原语")]),t._v(" "),_("li",[t._v("利用 Swap 指令实现进程互斥 使用 lock 和 key 两个变量")])]),t._v(" "),_("p",[t._v("他们虽然都实现了互斥，但是都有一个很大的问题，就是尝试访问资源是连续测试的（如 "),_("code",[t._v("while TS(&lock);")]),t._v("），仍然浪费 CPU 资源，不符合“让权等待”原则")]),t._v(" "),_("h4",{attrs:{id:"_2-3-3-信号量机制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-信号量机制"}},[t._v("#")]),t._v(" 2.3.3 信号量机制")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("整型信号量")]),t._v(" "),_("div",{staticClass:"language-c line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-c"}},[_("code",[_("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br"),_("span",{staticClass:"line-number"},[t._v("7")]),_("br"),_("span",{staticClass:"line-number"},[t._v("8")]),_("br")])]),_("p",[t._v("问题当然是，还是不符合“让权等待”原则")])]),t._v(" "),_("li",[_("p",[t._v("记录型信号量")]),t._v(" "),_("div",{staticClass:"language-c line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-c"}},[_("code",[_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("process_control_block")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("list"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" semaphore"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("semaphore "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("value"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("value "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("block")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("list"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("signal")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("semaphore "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("value"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("value "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("wakeup")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("S"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("list"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[t._v("1")]),_("br"),_("span",{staticClass:"line-number"},[t._v("2")]),_("br"),_("span",{staticClass:"line-number"},[t._v("3")]),_("br"),_("span",{staticClass:"line-number"},[t._v("4")]),_("br"),_("span",{staticClass:"line-number"},[t._v("5")]),_("br"),_("span",{staticClass:"line-number"},[t._v("6")]),_("br"),_("span",{staticClass:"line-number"},[t._v("7")]),_("br"),_("span",{staticClass:"line-number"},[t._v("8")]),_("br"),_("span",{staticClass:"line-number"},[t._v("9")]),_("br"),_("span",{staticClass:"line-number"},[t._v("10")]),_("br"),_("span",{staticClass:"line-number"},[t._v("11")]),_("br"),_("span",{staticClass:"line-number"},[t._v("12")]),_("br"),_("span",{staticClass:"line-number"},[t._v("13")]),_("br"),_("span",{staticClass:"line-number"},[t._v("14")]),_("br")])]),_("p",[t._v("与前面不同的是，我们现在定义了一个数据结构，增加了一个列表，这个列表干嘛呢？")]),t._v(" "),_("p",[t._v("由于我们要在无法获取资源的时候将 CPU 资源让出去，所以 while 轮询是不可行的了，我们可以使用 block 原语将自己阻塞起来，等到有资源的时候让别人唤醒自己，当然，为了保证别人能唤醒自己，就要把自己存储到一个列表中，就是我们新的数据结构中的那个列表啦")]),t._v(" "),_("p",[t._v("另外，我们可以将 value 当做资源数，初始化的数量就是资源的总数量")])]),t._v(" "),_("li",[_("p",[t._v("AND 型信号量")]),t._v(" "),_("p",[t._v("当一个进程需要多个资源才能执行怎么办呢？比如进程一二都需要资源一二，进程一请求资源一成功，进程二请求资源二成功，这时候进程一继续请求资源二，把自己阻塞起来了，进程二请求资源一，也把自己阻塞起来了，结果……死锁了……")]),t._v(" "),_("p",[t._v("如何解决？如果我们将某个进程请求一系列资源作为一个原语就可以啦，这样就不需要担心请求一部分另一部分没请求到的问题啦，这时候使用 "),_("code",[t._v("Swait(S1, S2, ..., Sn)")]),t._v(" 和 "),_("code",[t._v("Ssignal(S1, S2, S3, ..., Sn)")]),t._v(" ， "),_("code",[t._v("S1")]),t._v(" 到 "),_("code",[t._v("Sn")]),t._v(" 表示该进程所需要的所有资源")])]),t._v(" "),_("li",[_("p",[t._v("信号量集")]),t._v(" "),_("p",[t._v("在 AND 型信号量的基础上增加 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msub",[_("mi",[t._v("t")]),_("mi",[t._v("i")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t_i")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.76508em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" 和 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msub",[_("mi",[t._v("d")]),_("mi",[t._v("i")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d_i")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" ，"),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msub",[_("mi",[t._v("t")]),_("mi",[t._v("i")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("t_i")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.76508em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" 表示资源的分配下限值，"),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msub",[_("mi",[t._v("S")]),_("mi",[t._v("i")])],1),_("mo",[t._v("≥")]),_("msub",[_("mi",[t._v("t")]),_("mi",[t._v("i")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S_i \\geq t_i")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),_("span",{staticClass:"mrel"},[t._v("≥")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.76508em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" 才予以分配，"),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msub",[_("mi",[t._v("d")]),_("mi",[t._v("i")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("d_i")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.84444em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.31166399999999994em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("i")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" 表示资源的需求量，对应格式变为 - "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("mi",[t._v("w")]),_("mi",[t._v("a")]),_("mi",[t._v("i")]),_("mi",[t._v("t")]),_("mo",{attrs:{stretchy:"false"}},[t._v("(")]),_("msub",[_("mi",[t._v("S")]),_("mn",[t._v("1")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("t")]),_("mn",[t._v("1")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("d")]),_("mn",[t._v("1")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("mo",[t._v("⋯")]),_("mtext"),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("S")]),_("mi",[t._v("n")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("t")]),_("mi",[t._v("n")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("d")]),_("mi",[t._v("n")])],1),_("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Swait(S_1, t_1, d_1, \\cdots, S_n, t_n, d_n)")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.02691em"}},[t._v("w")]),_("span",{staticClass:"mord mathdefault"},[t._v("a")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"mopen"},[t._v("(")]),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mtight"},[t._v("1")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mtight"},[t._v("1")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mtight"},[t._v("1")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"minner"},[t._v("⋯")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("t")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" - "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("mi",[t._v("s")]),_("mi",[t._v("i")]),_("mi",[t._v("g")]),_("mi",[t._v("n")]),_("mi",[t._v("a")]),_("mi",[t._v("l")]),_("mo",{attrs:{stretchy:"false"}},[t._v("(")]),_("msub",[_("mi",[t._v("S")]),_("mn",[t._v("1")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("d")]),_("mn",[t._v("1")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("mo",[t._v("⋯")]),_("mtext"),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("S")]),_("mi",[t._v("n")])],1),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("msub",[_("mi",[t._v("d")]),_("mi",[t._v("n")])],1),_("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Ssignal(S_1,d_1, \\cdots, S_n, d_n)")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mord mathdefault"},[t._v("s")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.03588em"}},[t._v("g")]),_("span",{staticClass:"mord mathdefault"},[t._v("n")]),_("span",{staticClass:"mord mathdefault"},[t._v("a")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),_("span",{staticClass:"mopen"},[t._v("(")]),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mtight"},[t._v("1")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mtight"},[t._v("1")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"minner"},[t._v("⋯")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault"},[t._v("d")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.151392em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])]),_("span",{staticClass:"mclose"},[t._v(")")])])])])]),t._v(" "),_("p",[t._v("有以下几个特殊用法：")]),t._v(" "),_("ul",[_("li",[_("code",[t._v("Swait(S, d, d)")]),t._v(" 每次申请 d 个资源，低于 d 个不予申请")]),t._v(" "),_("li",[_("code",[t._v("Swait(S, 1, 1)")]),t._v(" 一般的记录型信号量")]),t._v(" "),_("li",[_("code",[t._v("Swait(S, 1, 0)")]),t._v(" "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("mo",[t._v("≥")]),_("mn",[t._v("1")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S \\geq 1")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.8193em","vertical-align":"-0.13597em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),_("span",{staticClass:"mrel"},[t._v("≥")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("1")])])])]),t._v(" 时，允许多个进程进入特定区， "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("mo",[t._v("=")]),_("mn",[t._v("0")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("S = 0")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),_("span",{staticClass:"mrel"},[t._v("=")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("0")])])])]),t._v(" 时，将阻止任何进程进入特定区")])]),t._v(" "),_("blockquote",[_("p",[t._v("有个细节需要注意下，就是 "),_("code",[t._v("Swait")]),t._v(" 结束后被唤醒并不能直接进入临界区，还需要重新尝试请求资源，因为这个时候并不能保证所有资源都就绪，而 "),_("code",[t._v("wait")]),t._v(" 只需要一个资源，这就保证了被唤醒后资源一定全部就绪，所以可以直接进入临界区")])])])]),t._v(" "),_("h4",{attrs:{id:"_2-3-4-信号量的应用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-信号量的应用"}},[t._v("#")]),t._v(" 2.3.4 信号量的应用")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("使用信号量实现互斥")]),t._v(" "),_("p",[t._v("（两个进程为例）使用 mutex 作为互斥信号量，它可以取 "),_("code",[t._v("{-1, 0, 1}")]),t._v(" ，初始化为 1")]),t._v(" "),_("blockquote",[_("ul",[_("li",[t._v("mutex = 1，表示两个进程均未进入临界区")]),t._v(" "),_("li",[t._v("mutex = 0，表示一个进程进入临界区")]),t._v(" "),_("li",[t._v("mutex = -1，表示一个进程进入临界区，另一个尝试进入临界区失败，阻塞并存入队列")])])]),t._v(" "),_("p",[t._v("为了实现互斥，就需要两个进程进入临界区前调用 "),_("code",[t._v("wait(mutex)")]),t._v(" ，出临界区后调用 "),_("code",[t._v("signal(mutex)")]),t._v("，否则会引发错误")])]),t._v(" "),_("li",[_("p",[t._v("利用信号量实现前趋关系")]),t._v(" "),_("p",[t._v("如何保证一个进程运行到命令 B 的时候另一个进程已经将命令 A 运行完了？比如一个进程要读取另一个进程写完的文件，怎么保证在这之前另一进程写操作已经完成？")]),t._v(" "),_("p",[t._v("仍然使用这个套路，不过将 mutex 初值置为 0 ，我们在后继任务"),_("em",[t._v("前")]),t._v("调用 "),_("code",[t._v("wait(mutex)")]),t._v(" ，在前趋任务完成"),_("em",[t._v("后")]),t._v("调用 "),_("code",[t._v("signal(mutex)")]),t._v(" ，这样就可以保证后继任务先到达的话会阻塞，而前趋任务完成后，就会“通知”后继任务可以开始做啦")])]),t._v(" "),_("li",[_("p",[t._v("管程机制")]),t._v(" "),_("p",[t._v("是使用面向对象将共享变量、条件变量以及各种方法等等封装起来，同时只能有一个进程进入管程，这就保证了对临界资源的访问是互斥的")]),t._v(" "),_("p",[t._v("当调用管程的进程被阻塞时，其它进程也就不能进入管程使用资源，为了解决该问题，管程内设了条件变量，当进程因为条件 x 而发生阻塞时，进程调用 "),_("code",[t._v("x.wait")]),t._v(" 方法，将自己加入阻塞队列，直到条件 x 发生了变化，其它进程（当时正在管程内的进程）调用 "),_("code",[t._v("x.signal")]),t._v(" 将队列 x 下的进程唤醒")])])]),t._v(" "),_("h3",{attrs:{id:"_2-4-经典进程的同步问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-经典进程的同步问题"}},[t._v("#")]),t._v(" 2.4 经典进程的同步问题")]),t._v(" "),_("h4",{attrs:{id:"_2-4-1-生产者-消费者问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-生产者-消费者问题"}},[t._v("#")]),t._v(" 2.4.1 生产者-消费者问题")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/PC.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("PC.py"),_("OutboundLink")],1)]),t._v(" "),_("ul",[_("li",[_("p",[t._v("使用记录型信号量解决该问题")]),t._v(" "),_("ul",[_("li",[t._v("生产者先后使用 "),_("code",[t._v("wait(empty)")]),t._v(" "),_("code",[t._v("wait(mutex)")]),t._v(" "),_("code",[t._v("signal(mutex)")]),t._v(" "),_("code",[t._v("signal(full)")])]),t._v(" "),_("li",[t._v("消费者先后使用 "),_("code",[t._v("wait(full)")]),t._v(" "),_("code",[t._v("wait(mutex)")]),t._v(" "),_("code",[t._v("signal(mutex)")]),t._v(" "),_("code",[t._v("signal(empty)")])])]),t._v(" "),_("blockquote",[_("p",[t._v("注意 "),_("code",[t._v("wait")]),t._v(" 的先后顺序，如果 "),_("code",[t._v("wait(mutex)")]),t._v(" "),_("code",[t._v("wait(empty)")]),t._v(" 可以想象下满了或者空的情况，会出现死锁……")])])]),t._v(" "),_("li",[_("p",[t._v("利用 AND 信号量解决该问题")]),t._v(" "),_("ul",[_("li",[t._v("生产者先后使用 "),_("code",[t._v("Swait(empty, mutex)")]),t._v(" "),_("code",[t._v("Ssignal(mutex, full)")])]),t._v(" "),_("li",[t._v("消费者先后使用 "),_("code",[t._v("Swait(full, mutex)")]),t._v(" "),_("code",[t._v("Ssignal(mutex, empty)")])])]),t._v(" "),_("p",[t._v("解决死锁问题")])]),t._v(" "),_("li",[_("p",[t._v("利用管程解决该问题")]),t._v(" "),_("p",[t._v("定义好管程内要做的，生产者用 "),_("code",[t._v("PC.put(x)")]),t._v("， 消费者用 "),_("code",[t._v("PC.get(x)")]),t._v(" 即可")])])]),t._v(" "),_("blockquote",[_("p",[t._v("一些变体")]),t._v(" "),_("ul",[_("li",[t._v("缓冲区无限大，那么我们就不需要 "),_("code",[t._v("wait(empty)")]),t._v(" "),_("code",[t._v("signal(empty)")]),t._v(" 了")]),t._v(" "),_("li",[t._v("生产者生产者互斥、消费者消费者互斥，但生产者消费者不互斥，我们只需要设两个互斥信号量即可")])])]),t._v(" "),_("h4",{attrs:{id:"_2-4-2-哲学家进餐问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-哲学家进餐问题"}},[t._v("#")]),t._v(" 2.4.2 哲学家进餐问题")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/The_Dining_Philosophers.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("The_Dining_Philosophers.py"),_("OutboundLink")],1)]),t._v(" "),_("ul",[_("li",[_("p",[t._v("利用记录型信号量解决该问题")]),t._v(" "),_("p",[t._v("防止他们同时拿起左侧筷子造成的死锁，需要有一定的改进方案")])]),t._v(" "),_("li",[_("p",[t._v("利用 AND 信号量机制解决该问题")]),t._v(" "),_("p",[t._v("很容易想到这个方法解决上述问题")])])]),t._v(" "),_("h4",{attrs:{id:"_2-4-3-读者-写者问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-读者-写者问题"}},[t._v("#")]),t._v(" 2.4.3 读者-写者问题")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/Writer_and_Reader.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("Writer_and_Reader.py"),_("OutboundLink")],1)]),t._v(" "),_("p",[t._v("需要注意的是，当一个 Writer 进程在写的时候，不允许任何 Reader 进程和 Writer 进程访问该对象")]),t._v(" "),_("p",[t._v("但是要怎么实现呢？")]),t._v(" "),_("ul",[_("li",[t._v("写者的话，直接用一个互斥信号量 "),_("code",[t._v("wmutex")]),t._v(" 就好了")]),t._v(" "),_("li",[t._v("读者需要考虑的比较多\n"),_("ul",[_("li",[t._v("首先，读者之间是不互斥的，我们是要解决读者使写者不能读的问题，所以当读者在读的时候， "),_("code",[t._v("wait(wmutex)")])]),t._v(" "),_("li",[t._v("但是，如果直接 "),_("code",[t._v("wait(wmutex)")]),t._v(" 的话，所有“者”都互斥了，可是多个读者是可以同时读的")]),t._v(" "),_("li",[t._v("我们判断下是否已经有人在读了，当无人在读的情况下也就是第一个读者才 "),_("code",[t._v("wait(wmutex)")]),t._v("，相应地，最后一个读者才 "),_("code",[t._v("signal(wmutex)")])]),t._v(" "),_("li",[t._v("为了判断读者数量，额外引进了一个变量，这个变量会成为临界资源，所以需要使用 "),_("code",[t._v("rmutex")]),t._v(" 包裹，以保证读者读写该变量时互斥")])])])]),t._v(" "),_("p",[t._v("另外，可以利用信号量集以更巧妙的方法实现（注意 "),_("code",[t._v("Swait(S, 1, 0)")]),t._v("，只检查资源，不消耗）")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/Writer_and_Reader_SemSet.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("Writer_and_Reader.py"),_("OutboundLink")],1)]),t._v(" "),_("h4",{attrs:{id:"_2-4-4-其他问题（习题）"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-4-其他问题（习题）"}},[t._v("#")]),t._v(" 2.4.4 其他问题（习题）")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/Shopping.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("购物问题 Shopping.py"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/Processes.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("进程同步 Processes.py"),_("OutboundLink")],1)]),t._v(" "),_("li",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/blob/master/Codes/OS/process_sync/Single-plank_Bridge.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("独木桥问题 Single-plank_Bridge.py"),_("OutboundLink")],1)])]),t._v(" "),_("h3",{attrs:{id:"_2-5-进程通信"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-进程通信"}},[t._v("#")]),t._v(" 2.5 进程通信")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("共享存储器系统")]),t._v(" "),_("ul",[_("li",[t._v("基于共享数据结构的通信方式")]),t._v(" "),_("li",[t._v("基于共享存储区的通信方式 中等信息传递，用户解决同步问题")])])]),t._v(" "),_("li",[_("p",[t._v("管道(pipe)通信系统 大量信息传递，系统解决同步问题")])]),t._v(" "),_("li",[_("p",[t._v("消息传递系统 少量信息传递，系统解决同步问题")])]),t._v(" "),_("li",[_("p",[t._v("客户机-服务器系统")]),t._v(" "),_("ul",[_("li",[t._v("socket")]),t._v(" "),_("li",[t._v("RPC")])])])]),t._v(" "),_("h3",{attrs:{id:"_2-6-线程的基本概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-线程的基本概念"}},[t._v("#")]),t._v(" 2.6 线程的基本概念")]),t._v(" "),_("h4",{attrs:{id:"_2-6-1-线程与进程的对比"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-线程与进程的对比"}},[t._v("#")]),t._v(" 2.6.1 线程与进程的对比")]),t._v(" "),_("ul",[_("li",[t._v("调度的基本单位 切换开销小")]),t._v(" "),_("li",[t._v("并发性 线程之间也可以并发执行")]),t._v(" "),_("li",[t._v("拥有资源 并不拥有系统额外分配的资源，享有父进程的资源，故创建开销小")]),t._v(" "),_("li",[t._v("独立性 同一进程的不同线程之间可以共享资源，独立性不明显")]),t._v(" "),_("li",[t._v("系统开销 创建与切换都远比进程快")]),t._v(" "),_("li",[t._v("支持多处理机系统 一个进程的多个线程可在多个核心上运行，这使得多个线程之间实现了真的并行，大大提高了该进程的完成速度")])]),t._v(" "),_("h4",{attrs:{id:"_2-6-2-线程的状态和线程控制块"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-线程的状态和线程控制块"}},[t._v("#")]),t._v(" 2.6.2 线程的状态和线程控制块")]),t._v(" "),_("ul",[_("li",[t._v("线程的三个状态 和进程一样 "),_("strong",[t._v("执行")]),t._v("、"),_("strong",[t._v("就绪")]),t._v("、"),_("strong",[t._v("阻塞")])]),t._v(" "),_("li",[t._v("线程控制块 TCB 类似于 PCB")])]),t._v(" "),_("h3",{attrs:{id:"_2-7-线程的实现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-线程的实现"}},[t._v("#")]),t._v(" 2.7 线程的实现")]),t._v(" "),_("h4",{attrs:{id:"_2-7-1-线程的实现方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-线程的实现方式"}},[t._v("#")]),t._v(" 2.7.1 线程的实现方式")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("内核支持线程 KST")]),t._v(" "),_("p",[t._v("内核所“承认”的线程，可获得内核分配的 CPU 时间片，也可在多核 CPU 上实现并行")]),t._v(" "),_("ul",[_("li",[t._v("优点\n"),_("ul",[_("li",[t._v("更轻量的结构")]),t._v(" "),_("li",[t._v("进程中一个线程阻塞后，其余线程可正常运行")]),t._v(" "),_("li",[t._v("多核心可并发执行")])])])])]),t._v(" "),_("li",[_("p",[t._v("用户级线程 ULT")]),t._v(" "),_("p",[t._v("使用函数库就可以实现，内核并不知道用户级线程的存在，所以内核给它分配的时间片是按其父进程分配的，各个线程将争夺进程的时间片执行")]),t._v(" "),_("ul",[_("li",[t._v("优点\n"),_("ul",[_("li",[t._v("线程切换不需要到内核空间（不需要用户态与核心态的切换）")]),t._v(" "),_("li",[t._v("调度算法可以是进程专用的")]),t._v(" "),_("li",[t._v("用户级线程的实现与 OS 平台无关")])])])])]),t._v(" "),_("li",[_("p",[t._v("组合方式")]),t._v(" "),_("p",[t._v("用户级线程与内核支持线程的组合（多对一、一对一、多对多）")])])]),t._v(" "),_("p",[_("img",{attrs:{src:a(402),alt:"OS07"}})]),t._v(" "),_("h2",{attrs:{id:"_3-处理机调度与死锁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-处理机调度与死锁"}},[t._v("#")]),t._v(" 3 处理机调度与死锁")]),t._v(" "),_("h3",{attrs:{id:"_3-1-处理机调度的层次"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-处理机调度的层次"}},[t._v("#")]),t._v(" 3.1 处理机调度的层次")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("调度程序")]),t._v(" "),_("th",[t._v("调度对象")]),t._v(" "),_("th",[t._v("分配资源")]),t._v(" "),_("th",[t._v("调度频率")]),t._v(" "),_("th",[t._v("适宜的调度算法")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("长程调度（作业）")]),t._v(" "),_("td",[t._v("后备作业")]),t._v(" "),_("td",[t._v("内存、设备")]),t._v(" "),_("td",[t._v("低")]),t._v(" "),_("td",[t._v("资源搭配、先进先出、优先数、短作业优先、最高响应比优先")])]),t._v(" "),_("tr",[_("td",[t._v("中程调度（交换）")]),t._v(" "),_("td",[t._v("就绪进程、等待进程")]),t._v(" "),_("td",[t._v("内存、外存")]),t._v(" "),_("td",[t._v("中")]),t._v(" "),_("td",[t._v("优先算法、FIFO")])]),t._v(" "),_("tr",[_("td",[t._v("短程调度（进程）")]),t._v(" "),_("td",[t._v("就绪进程、就绪线程")]),t._v(" "),_("td",[t._v("CPU")]),t._v(" "),_("td",[t._v("高")]),t._v(" "),_("td",[t._v("轮转法、多级反馈")])])])]),t._v(" "),_("h4",{attrs:{id:"_3-1-1-高级调度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-高级调度"}},[t._v("#")]),t._v(" 3.1.1 高级调度")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("作业 = JCB + 作业说明书 + 程序 + 数据")])]),t._v(" "),_("li",[_("p",[t._v("作业步 作业的各个相对独立步骤")])]),t._v(" "),_("li",[_("p",[t._v("作业控制块 JCB")])]),t._v(" "),_("li",[_("p",[t._v("调度算法")]),t._v(" "),_("ul",[_("li",[t._v("先来先服务算法")]),t._v(" "),_("li",[t._v("短作业优先调度算法")]),t._v(" "),_("li",[t._v("响应比高者优先的调度算法 综合考虑上面两种算法")]),t._v(" "),_("li",[t._v("基于作业优先级的调度算法")])])])]),t._v(" "),_("h4",{attrs:{id:"_3-1-2-低级调度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-低级调度"}},[t._v("#")]),t._v(" 3.1.2 低级调度")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基本机制")]),t._v(" "),_("ul",[_("li",[t._v("排队器")]),t._v(" "),_("li",[t._v("分派器")]),t._v(" "),_("li",[t._v("上下文切换机制 （两对上下文切换操作）")])])]),t._v(" "),_("li",[_("p",[t._v("进程调度方式")]),t._v(" "),_("ul",[_("li",[t._v("非抢占方式")]),t._v(" "),_("li",[t._v("抢占方式（按一定原则抢占 CPU）\n"),_("ul",[_("li",[t._v("优先权原则")]),t._v(" "),_("li",[t._v("短作业（进程）优先原则")]),t._v(" "),_("li",[t._v("时间片原则")])])])])])]),t._v(" "),_("h4",{attrs:{id:"_3-1-3-中级调度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-中级调度"}},[t._v("#")]),t._v(" 3.1.3 中级调度")]),t._v(" "),_("p",[t._v("将内存上的进程转换到外存上或相反的过程，也就是进程的挂起与唤醒，提高了内存的利用率")]),t._v(" "),_("h3",{attrs:{id:"_3-2-调度队列模型和调度准则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-调度队列模型和调度准则"}},[t._v("#")]),t._v(" 3.2 调度队列模型和调度准则")]),t._v(" "),_("h4",{attrs:{id:"_3-2-1-调度队列模型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-调度队列模型"}},[t._v("#")]),t._v(" 3.2.1 调度队列模型")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("仅有进程调度的调度队列模型")])]),t._v(" "),_("li",[_("p",[t._v("具有高级和低级调度的调度队列模型")])]),t._v(" "),_("li",[_("p",[t._v("同时具有三级调度的调度队列模型")]),t._v(" "),_("p",[_("img",{attrs:{src:a(403),alt:"OS08"}})])])]),t._v(" "),_("h4",{attrs:{id:"_3-2-2-选择调度方式和调度算法的若干原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-选择调度方式和调度算法的若干原则"}},[t._v("#")]),t._v(" 3.2.2 选择调度方式和调度算法的若干原则")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("面向用户的原则")]),t._v(" "),_("ul",[_("li",[t._v("周转时间快 （使用平均周转时间评估）")]),t._v(" "),_("li",[t._v("响应时间快")]),t._v(" "),_("li",[t._v("截止时间的保证")]),t._v(" "),_("li",[t._v("优先权准则")])])]),t._v(" "),_("li",[_("p",[t._v("面向系统的准则")]),t._v(" "),_("ul",[_("li",[t._v("系统吞吐量高")]),t._v(" "),_("li",[t._v("处理机利用率好")]),t._v(" "),_("li",[t._v("各类资源的平衡利用")])])])]),t._v(" "),_("h3",{attrs:{id:"_3-3-调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-调度算法"}},[t._v("#")]),t._v(" 3.3 调度算法")]),t._v(" "),_("ul",[_("li",[t._v("周转时间：作业等待的时间")]),t._v(" "),_("li",[t._v("带权周转时间：周转时间 / 服务时间")])]),t._v(" "),_("h4",{attrs:{id:"_3-3-1-先来先服务算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-先来先服务算法"}},[t._v("#")]),t._v(" 3.3.1 先来先服务算法")]),t._v(" "),_("p",[t._v("很明显， FCFS 的周转时间会很长")]),t._v(" "),_("h4",{attrs:{id:"_3-3-2-短作业（进程）优先调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-短作业（进程）优先调度算法"}},[t._v("#")]),t._v(" 3.3.2 短作业（进程）优先调度算法")]),t._v(" "),_("p",[t._v("SJF 算法极大地提高了系统吞吐量，但是会出现长作业长期不被调度的情况")]),t._v(" "),_("h4",{attrs:{id:"_3-3-3-高优先权优先调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-高优先权优先调度算法"}},[t._v("#")]),t._v(" 3.3.3 高优先权优先调度算法")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("优先权调度算法的类型")]),t._v(" "),_("ul",[_("li",[t._v("非抢占式优先权算法")]),t._v(" "),_("li",[t._v("抢占式优先权调度算法")])])]),t._v(" "),_("li",[_("p",[t._v("优先权的类型")]),t._v(" "),_("ul",[_("li",[t._v("静态优先权 不可改变的")]),t._v(" "),_("li",[t._v("动态优先权 可随着进程的等待时间而改变，我们可以规定，在就绪队列的进程，随其等待时间的增长，其优先权以速率 a 提高")])])]),t._v(" "),_("li",[_("p",[t._v("高响应比优先调度算法")]),t._v(" "),_("p",[t._v("优先权 = (等待时间 + 要求服务时间) / 要求服务时间")])])]),t._v(" "),_("h4",{attrs:{id:"_3-3-4-基于时间片的轮转调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-基于时间片的轮转调度算法"}},[t._v("#")]),t._v(" 3.3.4 基于时间片的轮转调度算法")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("时间片大小的确定")]),t._v(" "),_("ul",[_("li",[t._v("时间片太大会使得算法退化，时间片太小会增大切换上下文的开销，故可以取略大于一次典型交互所需要的时间作为时间片")])])])]),t._v(" "),_("h4",{attrs:{id:"_3-3-5-多队列调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-5-多队列调度算法"}},[t._v("#")]),t._v(" 3.3.5 多队列调度算法")]),t._v(" "),_("p",[t._v("分成不同的队列，为不同就绪队列设置不同的调度算法")]),t._v(" "),_("p",[_("img",{attrs:{src:a(404),alt:"OS09"}})]),t._v(" "),_("h4",{attrs:{id:"_3-3-6-多级反馈队列调度算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-6-多级反馈队列调度算法"}},[t._v("#")]),t._v(" 3.3.6 多级反馈队列调度算法")]),t._v(" "),_("ul",[_("li",[t._v("设置多个就绪队列")]),t._v(" "),_("li",[t._v("为每个队列设置一个优先级")]),t._v(" "),_("li",[t._v("仅当优先级高的队列空闲时才能调度优先级低的队列")])]),t._v(" "),_("h3",{attrs:{id:"_3-4-实时调度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-实时调度"}},[t._v("#")]),t._v(" 3.4 实时调度")]),t._v(" "),_("h4",{attrs:{id:"_3-4-1-实现实时调度的基本条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1-实现实时调度的基本条件"}},[t._v("#")]),t._v(" 3.4.1 实现实时调度的基本条件")]),t._v(" "),_("ul",[_("li",[t._v("提供必要的信息 就绪时间等等")]),t._v(" "),_("li",[t._v("系统处理能力强")]),t._v(" "),_("li",[t._v("采用抢占式调度机制")]),t._v(" "),_("li",[t._v("具有快速切换机制")])]),t._v(" "),_("h4",{attrs:{id:"_3-4-2-实时调度算法的分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-实时调度算法的分类"}},[t._v("#")]),t._v(" 3.4.2 实时调度算法的分类")]),t._v(" "),_("ul",[_("li",[t._v("非抢占式调度算法\n"),_("ul",[_("li",[t._v("非抢占式轮转调度算法")]),t._v(" "),_("li",[t._v("非抢占式优先调度算法 将实时任务放在队首")])])]),t._v(" "),_("li",[t._v("抢占式调度算法\n"),_("ul",[_("li",[t._v("基于时钟中断的抢占式优先权调度算法 时钟周期的整数倍时刻才能抢占")]),t._v(" "),_("li",[t._v("立即抢占的优先权调度算法")])])])]),t._v(" "),_("h3",{attrs:{id:"_3-5-产生死锁的原因和必要条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-产生死锁的原因和必要条件"}},[t._v("#")]),t._v(" 3.5 产生死锁的原因和必要条件")]),t._v(" "),_("h4",{attrs:{id:"_3-5-1-产生死锁的原因"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-产生死锁的原因"}},[t._v("#")]),t._v(" 3.5.1 产生死锁的原因")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("竞争资源（竞争非剥夺性资源） 资源数量不足需求 形成"),_("strong",[t._v("环路")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(405),alt:"OS10"}})])]),t._v(" "),_("li",[_("p",[t._v("进程间推进顺序非法")])])]),t._v(" "),_("h4",{attrs:{id:"_3-5-2-产生死锁的必要条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-产生死锁的必要条件"}},[t._v("#")]),t._v(" 3.5.2 产生死锁的必要条件")]),t._v(" "),_("ul",[_("li",[t._v("互斥条件")]),t._v(" "),_("li",[t._v("请求和保持条件 所需资源使用完之前不释放已有资源")]),t._v(" "),_("li",[t._v("不剥夺条件 只能主动释放资源，其他人不可抢占")]),t._v(" "),_("li",[t._v("环路等待条件 发生死锁时，必然存在资源的环路链")])]),t._v(" "),_("h4",{attrs:{id:"_3-5-3-处理死锁的基本方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-3-处理死锁的基本方法"}},[t._v("#")]),t._v(" 3.5.3 处理死锁的基本方法")]),t._v(" "),_("ul",[_("li",[t._v("预防死锁")]),t._v(" "),_("li",[t._v("避免死锁")]),t._v(" "),_("li",[t._v("检测死锁")]),t._v(" "),_("li",[t._v("解除死锁")])]),t._v(" "),_("h3",{attrs:{id:"_3-6-预防死锁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-预防死锁"}},[t._v("#")]),t._v(" 3.6 预防死锁")]),t._v(" "),_("p",[t._v("由于死锁时必要条件一定满足，所以破坏了死锁的必要条件就可以防止死锁，当然，互斥条件我们不应该破坏，因为我们需要它来保证进程的同步问题")]),t._v(" "),_("h4",{attrs:{id:"_3-6-1-摒弃-请求和保持-条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-1-摒弃-请求和保持-条件"}},[t._v("#")]),t._v(" 3.6.1 摒弃“请求和保持”条件")]),t._v(" "),_("p",[t._v("由动态分配改为静态分配，在所有进程运行之前一次性将所有所需资源申请下来")]),t._v(" "),_("p",[t._v("但是，这大大降低了资源的利用率")]),t._v(" "),_("h4",{attrs:{id:"_3-6-2-摒弃-不剥夺-条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-2-摒弃-不剥夺-条件"}},[t._v("#")]),t._v(" 3.6.2 摒弃“不剥夺”条件")]),t._v(" "),_("p",[t._v("新的资源请求会剥夺已占有的资源")]),t._v(" "),_("p",[t._v("很复杂很复杂，打印机写一半怎么处理呢？增加了系统开销")]),t._v(" "),_("h4",{attrs:{id:"_3-6-3-摒弃-环路等待-条件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-3-摒弃-环路等待-条件"}},[t._v("#")]),t._v(" 3.6.3 摒弃“环路等待”条件")]),t._v(" "),_("p",[t._v("资源有序分配，将各个资源标号，每次申请资源都要按序号递增的次序来申请，避免了环路的产生")]),t._v(" "),_("blockquote",[_("p",[t._v("比如一个进程已经拥有了一个序号比较高的资源，此时想申请序号比较低的资源的话，必须先释放序号比较高的资源")])]),t._v(" "),_("p",[t._v("相比前两种是比较好的策略，但仍有一些不足，比如序号的分配等等问题")]),t._v(" "),_("h3",{attrs:{id:"_3-7-避免死锁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-避免死锁"}},[t._v("#")]),t._v(" 3.7 避免死锁")]),t._v(" "),_("h4",{attrs:{id:"_3-7-1-系统安全状态"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-1-系统安全状态"}},[t._v("#")]),t._v(" 3.7.1 系统安全状态")]),t._v(" "),_("p",[t._v("如果为进程分配资源后系统会进入不安全状态，那么就不给它分配资源")]),t._v(" "),_("p",[t._v("所谓"),_("strong",[t._v("安全状态")]),t._v("，就是指系统"),_("strong",[t._v("存在")]),t._v("某种进程顺序来为每个进程分配其所需资源，使得所有进程都能顺利完成，否则即为不安全状态")]),t._v(" "),_("blockquote",[_("p",[t._v("当然，不安全状态只是不安全，可能发生死锁，并不是一定发生死锁，而安全状态保证了不会发生死锁")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("Example")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("进程号")]),t._v(" "),_("th",[t._v("总共需求")]),t._v(" "),_("th",[t._v("已分配")]),t._v(" "),_("th",[t._v("还需")]),t._v(" "),_("th",[t._v("剩余")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("P1")]),t._v(" "),_("td",[t._v("10")]),t._v(" "),_("td",[t._v("5")]),t._v(" "),_("td",[t._v("5")]),t._v(" "),_("td",[t._v("3")])]),t._v(" "),_("tr",[_("td",[t._v("P2")]),t._v(" "),_("td",[t._v("4")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("P3")]),t._v(" "),_("td",[t._v("9")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("7")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[t._v("很明显，存在安全序列 <P2, P1, P3> 使得进程全部执行完毕")]),t._v(" "),_("p",[t._v("那么，P3 申请一个资源的话，我们要不要给呢？")]),t._v(" "),_("p",[t._v("首先，"),_("strong",[t._v("假如")]),t._v("分配的话，会变成如下状态")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("进程号")]),t._v(" "),_("th",[t._v("总共需求")]),t._v(" "),_("th",[t._v("已分配")]),t._v(" "),_("th",[t._v("还需")]),t._v(" "),_("th",[t._v("剩余")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("P1")]),t._v(" "),_("td",[t._v("10")]),t._v(" "),_("td",[t._v("5")]),t._v(" "),_("td",[t._v("5")]),t._v(" "),_("td",[t._v("2")])]),t._v(" "),_("tr",[_("td",[t._v("P2")]),t._v(" "),_("td",[t._v("4")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("P3")]),t._v(" "),_("td",[t._v("9")]),t._v(" "),_("td",[t._v("3")]),t._v(" "),_("td",[t._v("6")]),t._v(" "),_("td")])])]),t._v(" "),_("p",[t._v("嗯，找不出来那样的一个序列了，也就是系统会进入不安全状态，所以，拒绝！不给分配！")])])]),t._v(" "),_("h4",{attrs:{id:"_3-7-2-利用银行家算法避免死锁"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-2-利用银行家算法避免死锁"}},[t._v("#")]),t._v(" 3.7.2 利用银行家算法避免死锁")]),t._v(" "),_("p",[t._v("（万能的 Dijkstra）")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("银行家算法中的数据结构")]),t._v(" "),_("p",[t._v("n 为进程数， m 为资源数")]),t._v(" "),_("ul",[_("li",[t._v("可利用资源向量 Available ("),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("m")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("m")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("m")])])])]),t._v(")")]),t._v(" "),_("li",[t._v("最大需求矩阵 Max ("),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("n")]),_("mo",[t._v("×")]),_("mi",[t._v("m")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n \\times m")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("n")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),_("span",{staticClass:"mbin"},[t._v("×")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("m")])])])]),t._v(")")]),t._v(" "),_("li",[t._v("分配矩阵 Allocation ("),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("n")]),_("mo",[t._v("×")]),_("mi",[t._v("m")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n \\times m")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("n")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),_("span",{staticClass:"mbin"},[t._v("×")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("m")])])])]),t._v(")")]),t._v(" "),_("li",[t._v("需求矩阵 Need ("),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("n")]),_("mo",[t._v("×")]),_("mi",[t._v("m")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n \\times m")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("n")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),_("span",{staticClass:"mbin"},[t._v("×")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("m")])])])]),t._v(")")])])])]),t._v(" "),_("blockquote",[_("p",[t._v("具体算法的话，就是上面例子里的一个资源换成多个资源就好啦")])]),t._v(" "),_("h3",{attrs:{id:"_3-8-死锁的检测与解除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-死锁的检测与解除"}},[t._v("#")]),t._v(" 3.8 死锁的检测与解除")]),t._v(" "),_("h4",{attrs:{id:"_3-8-1-死锁的检测"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-1-死锁的检测"}},[t._v("#")]),t._v(" 3.8.1 死锁的检测")]),t._v(" "),_("p",[t._v("由于死锁的预防的资源利用率太低，而死锁的避免又消耗了大量的计算资源来实现，所以在死锁发生的并不频繁的情况下，可以使用死锁的检测 + 解除，当然，我们可以选择在 CPU 利用率比较低的时候才检测，以降低对 CPU 的使用")]),t._v(" "),_("ul",[_("li",[t._v("资源分配图")])]),t._v(" "),_("p",[t._v("与前面的环路图是一样的，只不过这里资源结点可以代表多个资源，进程指向资源仍旧代表进程请求资源，资源指向进程仍旧代表资源以分配给该进程，只不过每条线代表一个资源")]),t._v(" "),_("p",[_("img",{attrs:{src:a(406),alt:"OS11"}})]),t._v(" "),_("p",[t._v("我们可以尝试通过对资源分配图进行简化来判断是否发生死锁，非死锁情况下资源分配图可简化为各个独立的结点")]),t._v(" "),_("h4",{attrs:{id:"_3-8-2-死锁的解除"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-2-死锁的解除"}},[t._v("#")]),t._v(" 3.8.2 死锁的解除")]),t._v(" "),_("ul",[_("li",[t._v("剥夺资源 从其他进程剥夺足够数量的资源给死锁进程")]),t._v(" "),_("li",[t._v("撤销进程 kill 掉死锁进程")])]),t._v(" "),_("blockquote",[_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/OS/process_scheduling_and_deadlocks",target:"_blank",rel:"noopener noreferrer"}},[t._v("作业"),_("OutboundLink")],1)])]),t._v(" "),_("h2",{attrs:{id:"_4-存储器管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-存储器管理"}},[t._v("#")]),t._v(" 4 存储器管理")]),t._v(" "),_("h3",{attrs:{id:"_4-1-存储器的层次结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-存储器的层次结构"}},[t._v("#")]),t._v(" 4.1 存储器的层次结构")]),t._v(" "),_("h4",{attrs:{id:"_4-1-1-多级存储器结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-多级存储器结构"}},[t._v("#")]),t._v(" 4.1.1 多级存储器结构")]),t._v(" "),_("p",[_("img",{attrs:{src:a(407),alt:"OS12"}})]),t._v(" "),_("h4",{attrs:{id:"_4-1-1-主存储器与寄存器"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-主存储器与寄存器"}},[t._v("#")]),t._v(" 4.1.1 主存储器与寄存器")]),t._v(" "),_("p",[t._v("嗯……就是主存储器和寄存器……")]),t._v(" "),_("h4",{attrs:{id:"_4-1-2-高速缓存和磁盘缓存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-高速缓存和磁盘缓存"}},[t._v("#")]),t._v(" 4.1.2 高速缓存和磁盘缓存")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("高速缓存 Cache")]),t._v(" "),_("p",[t._v("解决 Memory 与 CPU 速度不匹配的问题")])]),t._v(" "),_("li",[_("p",[t._v("磁盘缓存")]),t._v(" "),_("p",[t._v("解决磁盘 I/O 与 Memory 速度不匹配的问题，使用 Memory 部分空间作为磁盘的缓存区，用于暂存频繁使用的磁盘数据")])])]),t._v(" "),_("h4",{attrs:{id:"_4-1-3-内存管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-内存管理"}},[t._v("#")]),t._v(" 4.1.3 内存管理")]),t._v(" "),_("p",[t._v("（概述，后面详细阐述）")]),t._v(" "),_("ul",[_("li",[t._v("内存的分配与回收\n"),_("ul",[_("li",[t._v("直接分配 程序内地址为固定值")]),t._v(" "),_("li",[t._v("静态分配 作业装入内存后地址固定不变")]),t._v(" "),_("li",[t._v("动态分配 作业装入内存后地址可变")])])]),t._v(" "),_("li",[t._v("地址转换\n"),_("ul",[_("li",[t._v("逻辑地址：源程序内的变量等地址经过编译或汇编后生成逻辑地址")]),t._v(" "),_("li",[t._v("物理地址：程序由操作系统装入内存后所指的真实内存地址")])])]),t._v(" "),_("li",[t._v("内存保护\n"),_("ul",[_("li",[t._v("防止进程的数据被非法访问")]),t._v(" "),_("li",[t._v("防止越界\n"),_("ul",[_("li",[t._v("上下界寄存器")]),t._v(" "),_("li",[t._v("基址、限长寄存器")])])])])]),t._v(" "),_("li",[t._v("内存共享\n"),_("ul",[_("li",[t._v("多个进程共享内存中的同一段信息")])])]),t._v(" "),_("li",[t._v("内存扩充\n"),_("ul",[_("li",[t._v("覆盖 让常用功能常驻内存，非常用功能按需装入")]),t._v(" "),_("li",[t._v("对换 挂起不用的程序段")]),t._v(" "),_("li",[t._v("虚拟存储器 利用程序的局部性原理，将"),_("strong",[t._v("部分程序装入")])])])])]),t._v(" "),_("h3",{attrs:{id:"_4-2-程序的装入和链接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-程序的装入和链接"}},[t._v("#")]),t._v(" 4.2 程序的装入和链接")]),t._v(" "),_("h4",{attrs:{id:"_4-2-1-程序的装入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-程序的装入"}},[t._v("#")]),t._v(" 4.2.1 程序的装入")]),t._v(" "),_("blockquote",[_("p",[t._v("即上面的三种分配方式")])]),t._v(" "),_("ul",[_("li",[t._v("绝对装入方式 直接")]),t._v(" "),_("li",[t._v("可重定位装入方式\n"),_("ul",[_("li",[t._v("静态重定位 程序执行之前地址转换完毕")]),t._v(" "),_("li",[t._v("动态重定位 程序执行期间进行地址转换")])])])]),t._v(" "),_("h4",{attrs:{id:"_4-2-2-程序的链接"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-程序的链接"}},[t._v("#")]),t._v(" 4.2.2 程序的链接")]),t._v(" "),_("p",[_("img",{attrs:{src:a(408),alt:"OS13"}})]),t._v(" "),_("ul",[_("li",[t._v("静态链接 程序运行前链接")]),t._v(" "),_("li",[t._v("装入时动态链接 运行前将所有可能需要运行的模块装入链接\n"),_("ul",[_("li",[t._v("便于修改和更新")]),t._v(" "),_("li",[t._v("便于实现对目标模块的共享")])])]),t._v(" "),_("li",[t._v("运行时动态链接 运行时按需装入链接（如 "),_("code",[t._v("dll")]),t._v("）")])]),t._v(" "),_("h3",{attrs:{id:"_4-3-连续分配方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-连续分配方式"}},[t._v("#")]),t._v(" 4.3 连续分配方式")]),t._v(" "),_("h4",{attrs:{id:"_4-3-1-单一连续分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-单一连续分配"}},[t._v("#")]),t._v(" 4.3.1 单一连续分配")]),t._v(" "),_("p",[_("strong",[t._v("单用户、单任务")]),t._v("，只需要考虑系统区和用户区，用户区也只有一个任务……")]),t._v(" "),_("h4",{attrs:{id:"_4-3-2-固定分区分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-固定分区分配"}},[t._v("#")]),t._v(" 4.3.2 固定分区分配")]),t._v(" "),_("p",[_("strong",[t._v("一个分区一道作业")]),t._v("，所以就需要划分分区咯")]),t._v(" "),_("h4",{attrs:{id:"_4-3-3-动态分区分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-动态分区分配"}},[t._v("#")]),t._v(" 4.3.3 动态分区分配")]),t._v(" "),_("p",[t._v("根据进程的实际需要，"),_("strong",[t._v("动态地为之分配内存空间")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("数据结构")]),t._v(" "),_("ul",[_("li",[t._v("空闲分区表")]),t._v(" "),_("li",[t._v("空闲分区链 （就是个链表）")])])]),t._v(" "),_("li",[_("p",[t._v("分区分配算法")]),t._v(" "),_("ul",[_("li",[t._v("首次适应算法 从头找，能放下该作业就放")]),t._v(" "),_("li",[t._v("循环首次适应算法 使用一个指针，这样就不会每次都从头找啦")]),t._v(" "),_("li",[t._v("最佳适应算法 每次找满足条件的最小分区\n"),_("ul",[_("li",[t._v("易形成碎片")])])]),t._v(" "),_("li",[t._v("最坏适应算法 每次找最大的分区，分割出一部分分配给该作业使用\n"),_("ul",[_("li",[t._v("使得存储器中缺乏大的空闲分区")]),t._v(" "),_("li",[t._v("查找效率高")]),t._v(" "),_("li",[t._v("产生碎片少")])])])])])]),t._v(" "),_("blockquote",[_("ul",[_("li",[t._v("内碎片 分区内部未利用的空间")]),t._v(" "),_("li",[t._v("外碎片 分区之间未利用的空间")])])]),t._v(" "),_("ul",[_("li",[t._v("分区回收算法\n"),_("ul",[_("li",[t._v("看上下有没有空闲区咯，有的话当然要合并~")])])])]),t._v(" "),_("h4",{attrs:{id:"_4-3-4-可重定位分区分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-4-可重定位分区分配"}},[t._v("#")]),t._v(" 4.3.4 可重定位分区分配")]),t._v(" "),_("p",[t._v("依赖于 4.1.3 中提到的"),_("em",[t._v("动态分配")]),t._v("技术，这样分区就可以移动啦，然后我们就可以将分区进行拼接、使之紧凑起来")]),t._v(" "),_("h3",{attrs:{id:"_4-4-基本分页存储管理方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-基本分页存储管理方式"}},[t._v("#")]),t._v(" 4.4 基本分页存储管理方式")]),t._v(" "),_("p",[t._v("将内存分为好多好多页，支持不连续分配，使用页表形成地址映射，"),_("strong",[t._v("每个进程一个页表")])]),t._v(" "),_("ul",[_("li",[t._v("可实现虚存")]),t._v(" "),_("li",[t._v("避免移动")]),t._v(" "),_("li",[t._v("避免外部碎片")])]),t._v(" "),_("h4",{attrs:{id:"_4-4-1-页面与页表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-页面与页表"}},[t._v("#")]),t._v(" 4.4.1 页面与页表")]),t._v(" "),_("ul",[_("li",[_("strong",[t._v("页面")]),t._v("就是将"),_("strong",[t._v("逻辑地址空间")]),t._v("分为大小相等的片，其大小应为 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("msup",[_("mn",[t._v("2")]),_("mi",[t._v("n")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("2^n")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.664392em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[_("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight"},[t._v("n")])])])])])])])])])])])]),t._v(" "),_("li",[_("strong",[t._v("物理块")]),t._v("是"),_("strong",[t._v("物理地址空间")]),t._v("对应的与页面大小相同的存储块")]),t._v(" "),_("li",[_("strong",[t._v("页表")]),t._v("就是将"),_("strong",[t._v("页（面）号与（物理）块号")]),t._v("对应起来的映射表")])]),t._v(" "),_("p",[t._v("当然，现在寻址的话需要两部分地址号了，一部分是页号，一部分是页内号（位移量），一般情况下页内大小为 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("4")]),_("mi",[t._v("K")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("4K")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("4")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")])])])]),t._v(" ，故页内号需要使用 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("12")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("12bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("1")]),_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 的地址，如果是 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("32")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("32bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("3")]),_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 系统的话，那么剩下 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("20")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("20bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"mord"},[t._v("0")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 就是页号地址空间啦，即最多 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("1")]),_("mi",[t._v("M")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1M")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("1")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.10903em"}},[t._v("M")])])])]),t._v(" 个页")]),t._v(" "),_("h4",{attrs:{id:"_4-4-2-地址变换机构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-地址变换机构"}},[t._v("#")]),t._v(" 4.4.2 地址变换机构")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("基本的地址变换机构")]),t._v(" "),_("p",[t._v("那么我们如何将逻辑地址转换成物理地址呢？")]),t._v(" "),_("p",[_("img",{attrs:{src:a(409),alt:"OS14"}})]),t._v(" "),_("p",[t._v("首先，获取页号和位移量，然后根据页表寄存器中的页面始址与页号获得该页的实际物理地址（开始位置），然后再加上页内的偏移量就得到了要找的物理地址")]),t._v(" "),_("p",[t._v("但是，我们的页表已经非常大了，寄存器是肯定放不下了，需要放到内存中去，也就是说，我们每次访存需要先访问内存中的页表，然后据此再得到真正想要访问的地址，也就是访存次数多了一倍，效率大大降低……")])]),t._v(" "),_("li",[_("p",[t._v("具有快表的地址变换机构")]),t._v(" "),_("p",[_("img",{attrs:{src:a(410),alt:"OS15"}})]),t._v(" "),_("p",[t._v("根据局部性原理，我们增加一个快表（联想寄存器），存储最近访问过的页表项，据统计，快表命中率可达 90% 以上，大大降低了页表方式带来的效率降低影响")])])]),t._v(" "),_("h4",{attrs:{id:"_4-4-3-两级和多级页表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-两级和多级页表"}},[t._v("#")]),t._v(" 4.4.3 两级和多级页表")]),t._v(" "),_("p",[_("img",{attrs:{src:a(411),alt:"OS16"}})]),t._v(" "),_("p",[t._v("我们的页表方式实现了非连续存储，但是我们的页表本身却也是放在内存里的，而且其大小也超过了一页的大小（"),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("1")]),_("mi",[t._v("K")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1K")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("1")]),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.07153em"}},[t._v("K")])])])]),t._v("），这样问题就来了，页表到底是要如何存储呢？")]),t._v(" "),_("p",[t._v("回到最初，我们是如何将离散存储的内存页组织起来的？很明显是通过页表，但是现在要求连续存储的页表也要离散存储了，我们如何将其组织起来呢？那就再加一层页表咯，这就形成了两级页表")]),t._v(" "),_("p",[t._v("事实上，在 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("64")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("64bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("6")]),_("span",{staticClass:"mord"},[t._v("4")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 系统下，三级页表都是不够的，但是我们事实上也用不上那么大的地址空间（等内存能那么大得多少年后啊……），所以暂时使用三级页表也是能满足现在的需求的")]),t._v(" "),_("h4",{attrs:{id:"_4-4-4-页式管理的分配与回收"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-4-页式管理的分配与回收"}},[t._v("#")]),t._v(" 4.4.4 页式管理的分配与回收")]),t._v(" "),_("p",[_("img",{attrs:{src:a(412),alt:"OS17"}})]),t._v(" "),_("p",[t._v("根据位示图进行分配与回收即可")]),t._v(" "),_("h4",{attrs:{id:"_4-4-5-页式管理的特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-页式管理的特点"}},[t._v("#")]),t._v(" 4.4.5 页式管理的特点")]),t._v(" "),_("ul",[_("li",[t._v("优点\n"),_("ul",[_("li",[t._v("分配与回收简单")]),t._v(" "),_("li",[t._v("消除外碎片")]),t._v(" "),_("li",[t._v("可实现虚存、共享")])])]),t._v(" "),_("li",[t._v("缺点\n"),_("ul",[_("li",[t._v("页面划分不考虑程序的逻辑结构")]),t._v(" "),_("li",[t._v("共享受限")]),t._v(" "),_("li",[t._v("二次访内，速度慢")])])])]),t._v(" "),_("h3",{attrs:{id:"_4-5-分段存储管理方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-分段存储管理方式"}},[t._v("#")]),t._v(" 4.5 分段存储管理方式")]),t._v(" "),_("p",[t._v("分页实现了对内存的高效利用，消除了外碎片，但是其对于用户来说仍然只是取某个地址，然后操作系统根据后 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("12")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("12bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("1")]),_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 作为页内地址，前 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mn",[t._v("20")]),_("mi",[t._v("b")]),_("mi",[t._v("i")]),_("mi",[t._v("t")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("20bit")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord"},[t._v("2")]),_("span",{staticClass:"mord"},[t._v("0")]),_("span",{staticClass:"mord mathdefault"},[t._v("b")]),_("span",{staticClass:"mord mathdefault"},[t._v("i")]),_("span",{staticClass:"mord mathdefault"},[t._v("t")])])])]),t._v(" 为页号，实际过程对用户并不可见，用户只需要按原来的方式取某个地址就好")]),t._v(" "),_("p",[t._v("所以说，分页存储可以说是在底层的一种管理实现方式，大多是与硬件相耦合的，可以做到对内存的更高效利用")]),t._v(" "),_("p",[t._v("引入本节的分段存储方式，并不是说分页存储不好，因为它们根本是在两种层级上的问题，后面会介绍它们相互结合的方式——段页式存储——就很好地结合了两者的优点，在底层仍然使用分页式存储，上层逻辑存储使用分段式存储，但是这里，我们底层仍然使用的是连续存储方式哦")]),t._v(" "),_("p",[t._v("那么分段有什么优点呢？")]),t._v(" "),_("h4",{attrs:{id:"_4-5-1-分段存储管理方式的引入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-1-分段存储管理方式的引入"}},[t._v("#")]),t._v(" 4.5.1 分段存储管理方式的引入")]),t._v(" "),_("ul",[_("li",[t._v("方便编程 我们可以为某一段程序（比如一个函数）分配一段连续的空间，这样就可以很方便地使用段内的偏移量进行编程了")]),t._v(" "),_("li",[t._v("信息共享 我们很容易分出一个段来供进程来共享")]),t._v(" "),_("li",[t._v("信息保护")]),t._v(" "),_("li",[t._v("动态增长")]),t._v(" "),_("li",[t._v("动态链接")])]),t._v(" "),_("h4",{attrs:{id:"_4-5-2-分段系统的基本原理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-2-分段系统的基本原理"}},[t._v("#")]),t._v(" 4.5.2 分段系统的基本原理")]),t._v(" "),_("p",[t._v("既然逻辑空间仍然划分为不等长的几段，这几段也是分别放在不同的位置，所以，我们还是需要一个表建立索引关系，只不过这次我们需要记录的有段号、段长、基址（某段的首地址）三个信息，因为我们现在"),_("strong",[t._v("每段不等长")]),t._v("了，形成的表格称为段表，也放在内存内")]),t._v(" "),_("p",[t._v("相应地，我们现在给出的地址必须由段号和段内偏移两部分组成（真的是二维的寻址方式，而分页仍然使用一维寻址，两个号由操作系统自动计算得出），当然，我们仍然是两次访存，想要快点也是要建立快表")]),t._v(" "),_("h4",{attrs:{id:"_4-5-3-信息共享"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-3-信息共享"}},[t._v("#")]),t._v(" 4.5.3 信息共享")]),t._v(" "),_("p",[t._v("比如一个多用户操作系统运行一个文本编辑进程，但多个用户每人一个数据区，如果是分页式是如何的呢？")]),t._v(" "),_("p",[_("img",{attrs:{src:a(413),alt:"OS18"}})]),t._v(" "),_("p",[t._v("emmm 虽说共用一个进程吧，但是每个页表都要记录该进程的各个页")]),t._v(" "),_("p",[t._v("相对来说，下面的分段式就很好看啦~")]),t._v(" "),_("p",[_("img",{attrs:{src:a(414),alt:"OS19"}})]),t._v(" "),_("h4",{attrs:{id:"_4-5-4-段式管理的特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-4-段式管理的特点"}},[t._v("#")]),t._v(" 4.5.4 段式管理的特点")]),t._v(" "),_("p",[t._v("缺点的话，就是连续式存储的一些缺点，但这个的话我们下面的段页式可以解决")]),t._v(" "),_("p",[t._v("优点就不用说了，前面介绍好久了都~")]),t._v(" "),_("h4",{attrs:{id:"_4-5-5-段页式存储管理方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-5-段页式存储管理方式"}},[t._v("#")]),t._v(" 4.5.5 段页式存储管理方式")]),t._v(" "),_("p",[t._v("使用分段的逻辑存储方式，加之以底层分页式存储方式，每个进程建立一个段表，每个段建立一个页表，当然，我们现在需要三次访存咯，不建立快表没法用的说")]),t._v(" "),_("p",[_("img",{attrs:{src:a(415),alt:"OS20"}})]),t._v(" "),_("ul",[_("li",[_("p",[t._v("共享的实现")]),t._v(" "),_("p",[t._v("段页式和分段式是同样容易实现共享的，因为我们在逻辑层面上使用相同的段存储一段共享数据，在段表内只需要一项，而页表内也没有重复的，只需要该段与实际存储地址之间的映射关系")])])]),t._v(" "),_("p",[t._v("很好地结合了两者的优点，所以说，两者根本不冲突嘛，他们是两种层级上的方案，或者我们这么看")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("逻辑\\物理")]),t._v(" "),_("th",[t._v("连续")]),t._v(" "),_("th",[t._v("分页")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("不分段")]),t._v(" "),_("td",[t._v("连续分配")]),t._v(" "),_("td",[t._v("分页式")])]),t._v(" "),_("tr",[_("td",[t._v("分段")]),t._v(" "),_("td",[t._v("分段式")]),t._v(" "),_("td",[t._v("段页式")])])])]),t._v(" "),_("p",[t._v("嗯，我们所学的四种，大概就是这样的关系~")]),t._v(" "),_("p",[t._v("只不过逻辑分段与物理分页有着相似的实现方式，所以我们可能会认为他们是相同层级的方式，从原因与涉及的层面来看，它们并无太大关系")]),t._v(" "),_("h3",{attrs:{id:"_4-6-虚拟存储器的基本概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-虚拟存储器的基本概念"}},[t._v("#")]),t._v(" 4.6 虚拟存储器的基本概念")]),t._v(" "),_("p",[t._v("前面所述的存储方式虽然实现了非连续存储，进而提高了内存的利用率，但每次都还是将整个进程装入内存，下面有个更逆天的方式，极大地提高内存利用率，那就是虚拟存储器")]),t._v(" "),_("p",[t._v("为什么需要虚拟存储器？因为我们的整个程序往往是很大的，很容易就将内存撑爆了，根据局部性原理，我们可以只将当前运行的部分调入内存，这样就可以大大降低内存臃肿的状态啦")]),t._v(" "),_("h4",{attrs:{id:"_4-6-1-虚拟存储器的引入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-1-虚拟存储器的引入"}},[t._v("#")]),t._v(" 4.6.1 虚拟存储器的引入")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("局部性原理")]),t._v(" "),_("ul",[_("li",[t._v("时间局部性")]),t._v(" "),_("li",[t._v("空间局部性")])])]),t._v(" "),_("li",[_("p",[t._v("虚拟存储器定义")]),t._v(" "),_("p",[t._v("基于局部性原理，应用程序在运行之前，没有必要全部装入内存，仅需将那些单前要运行的少数页面或段先装入内存便可运行，其余部分暂留在盘上")]),t._v(" "),_("ul",[_("li",[t._v("请求调页 如果要访问的页（段）在内存则直接执行；否则需要发生请求调页中断")]),t._v(" "),_("li",[t._v("页面置换 若内存已满，则将暂时不用的页调入硬盘")])])]),t._v(" "),_("li",[_("p",[t._v("虚拟存储器特征")]),t._v(" "),_("ul",[_("li",[t._v("多次性 多次调入")]),t._v(" "),_("li",[t._v("对换性")]),t._v(" "),_("li",[t._v("虚拟性 从逻辑上扩充内存容量")])])])]),t._v(" "),_("h3",{attrs:{id:"_4-7-请求分页存储管理方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-请求分页存储管理方式"}},[t._v("#")]),t._v(" 4.7 请求分页存储管理方式")]),t._v(" "),_("p",[t._v("需要扩展页表以支持请求分页存储")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("页号")]),t._v(" "),_("th",[t._v("物理块号")]),t._v(" "),_("th",[t._v("状态位 P")]),t._v(" "),_("th",[t._v("访问字段 A")]),t._v(" "),_("th",[t._v("修改位 M")]),t._v(" "),_("th",[t._v("外存地址")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("0")]),t._v(" "),_("td",[t._v("10")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("120")])]),t._v(" "),_("tr",[_("td",[t._v("1")]),t._v(" "),_("td",[t._v("14")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("123")])]),t._v(" "),_("tr",[_("td",[t._v("2")]),t._v(" "),_("td",[t._v("15")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("134")])]),t._v(" "),_("tr",[_("td",[t._v("3")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("0")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("135")])])])]),t._v(" "),_("h4",{attrs:{id:"_4-7-1-请求分页中的硬件支持"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-1-请求分页中的硬件支持"}},[t._v("#")]),t._v(" 4.7.1 请求分页中的硬件支持")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("页表机制")]),t._v(" "),_("p",[t._v("其中各字段说明：")]),t._v(" "),_("ul",[_("li",[t._v("状态位 P ：该页是否调入内存")]),t._v(" "),_("li",[t._v("访问字段 A ： 本页在一段时间内被访问的次数，作为选择换出页面参考")]),t._v(" "),_("li",[t._v("修改位 M ： 记录调入内存后是否被修改过，如果被修改过，换出时需要重新写入内存")]),t._v(" "),_("li",[t._v("外存地址")])])]),t._v(" "),_("li",[_("p",[t._v("缺页中断机构")]),t._v(" "),_("p",[t._v("请求分页时，需要的页不在内存时，产生缺页中断")]),t._v(" "),_("p",[t._v("与一般中断的区别")]),t._v(" "),_("ul",[_("li",[t._v("在指令"),_("strong",[t._v("执行期间")]),t._v("产生和处理中断信号")]),t._v(" "),_("li",[_("strong",[t._v("一条指令")]),t._v("在执行期间可能产生"),_("strong",[t._v("多次")]),t._v("缺页中断，比如该指令本身跨两个页，所需要的两个数据块分别又跨两个页，共产生 6 次缺页中断")])])]),t._v(" "),_("li",[_("p",[t._v("地址变换机构")])])]),t._v(" "),_("h4",{attrs:{id:"_4-7-2-内存分配策略和分配算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-2-内存分配策略和分配算法"}},[t._v("#")]),t._v(" 4.7.2 内存分配策略和分配算法")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("最小物理块数的确定")]),t._v(" "),_("p",[t._v("保证进程正常运行的最小物理块数")])]),t._v(" "),_("li",[_("p",[t._v("内存分配策略\n分配策略分为固定和可变分配策略，而置换时还有全局置换和局部置换两种置换策略")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("固定分配局部置换")]),t._v(" "),_("p",[t._v("每个进程分配固定数量的物理块")])]),t._v(" "),_("li",[_("p",[t._v("可变分配全局置换")]),t._v(" "),_("p",[t._v("进程的物理块数可动态调整，当所需页不在内存时，从"),_("strong",[t._v("空闲内存或者其他进程内存")]),t._v("选择一块换出，即该进程内存空间会增加")])]),t._v(" "),_("li",[_("p",[t._v("可变分配局部置换")]),t._v(" "),_("p",[t._v("进程物理块数仍可动态调整，发生缺页中断从"),_("strong",[t._v("该进程内存")]),t._v("中选择一页换出，当频繁发生缺页中断时，才可以为该进程增加物理块数，反之，若缺页率特别低，则可适当减少该进程物理块数")])])])]),t._v(" "),_("li",[_("p",[t._v("物理块分配算法")]),t._v(" "),_("ul",[_("li",[t._v("平均分配算法 所有进程分配的物理块数一样，很明显不公平")]),t._v(" "),_("li",[t._v("按比例分配算法 按照进程大小按比例分配")]),t._v(" "),_("li",[t._v("考虑优先权的分配算法 在按比例分配算法基础上考虑重要的紧急的任务，可为该类任务额外分配物理块以使之更快地完成任务")])])])]),t._v(" "),_("h4",{attrs:{id:"_4-7-3-调页策略"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-3-调页策略"}},[t._v("#")]),t._v(" 4.7.3 调页策略")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("调入页面的时机")]),t._v(" "),_("ul",[_("li",[t._v("预调页策略 额外调入连续的几页")]),t._v(" "),_("li",[t._v("请求调页策略 当发现不在内存时，调入该页")])])]),t._v(" "),_("li",[_("p",[t._v("确定从何处调入页面")]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),_("p",[t._v("外存分为")]),t._v(" "),_("ul",[_("li",[t._v("文件区 离散的分配方式，读写慢")]),t._v(" "),_("li",[t._v("对换区 连续的分配方式，读写快")])])]),t._v(" "),_("ul",[_("li",[t._v("系统拥有足够的对换区空间，可全部从对换区调入所需页面")]),t._v(" "),_("li",[t._v("系统缺少足够的对换区空间，需要修改的放到对换区，以便需要时从对换区调入")]),t._v(" "),_("li",[t._v("UNIX 方式，未运行的从文件区调入，运行过换出到对换区，下次可直接从对换区调入（甚至可能已经被其他进程调入内存）")])])]),t._v(" "),_("li",[_("p",[t._v("页面调入过程")]),t._v(" "),_("p",[t._v("访问需考虑是否缺页、换出需考虑是否修改过")])]),t._v(" "),_("li",[_("p",[t._v("缺页率")])])]),t._v(" "),_("h3",{attrs:{id:"_4-8-页面置换算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-页面置换算法"}},[t._v("#")]),t._v(" 4.8 页面置换算法")]),t._v(" "),_("h4",{attrs:{id:"_4-8-1-最佳置换算法和先进先出算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-1-最佳置换算法和先进先出算法"}},[t._v("#")]),t._v(" 4.8.1 最佳置换算法和先进先出算法")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("最佳（Optimal）置换算法")]),t._v(" "),_("p",[t._v("每次换出的页应该是以后永不使用的或在最长（未来）时间内不再被访问的页面，很明显，我们并无法得知这样的页面是哪个，所以该算法仅仅是理论上的算法，虽然无法实现，但可以据此评估其他算法")])]),t._v(" "),_("li",[_("p",[t._v("先入先出（FIFO）页面置换算法")]),t._v(" "),_("p",[t._v("顾名思义，每次换出在内存中驻留时间最久的页面，可以为内存中的页面设置一个链表很容易地实现")])])]),t._v(" "),_("h4",{attrs:{id:"_4-8-2-最近最久未使用（lru）置换算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-2-最近最久未使用（lru）置换算法"}},[t._v("#")]),t._v(" 4.8.2 最近最久未使用（LRU）置换算法")]),t._v(" "),_("p",[t._v("选择"),_("strong",[t._v("最近最久未使用")]),t._v("的页面予以淘汰，可为每个页面赋予一个访问字段进行实现")]),t._v(" "),_("ul",[_("li",[t._v("硬件支持\n"),_("ul",[_("li",[t._v("寄存器 用位记录最近访问行为，每次右移，若该次访问了则将最左位置 1 ，故每次只需淘汰值最小的即可")]),t._v(" "),_("li",[t._v("栈 用于记录访问页面，访问之后放到栈顶，置换时从栈底置换")])])])]),t._v(" "),_("h4",{attrs:{id:"_4-8-3-clock-置换算法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-3-clock-置换算法"}},[t._v("#")]),t._v(" 4.8.3 Clock 置换算法")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("简单的 Clock 置换算法")]),t._v(" "),_("p",[t._v("LRU 算法的一种近似算法，在页表内设一个访问位，另外设一替换指针，以免每次从头扫描")]),t._v(" "),_("ul",[_("li",[t._v("访问页面后，将该页面访问位置 1")]),t._v(" "),_("li",[t._v("缺页导致需要扫描时，从替换指针向后扫描，若该页面访问位为 1 ，则将其置 0，若为 0 ，则替换出去")])])]),t._v(" "),_("li",[_("p",[t._v("改进型 Clock 置换算法")]),t._v(" "),_("p",[t._v("由于修改过的页需要写回磁盘，所以置换修改过的页代价相对会高些，所以该算法在考虑访问位的基础上，考虑到了修改位，在访问位一致的情况下，优先淘汰修改位为 0 的页面")]),t._v(" "),_("p",[t._v("具体实现就是多扫描几次，开销增大不少")])])]),t._v(" "),_("h3",{attrs:{id:"_4-9-请求分段存储管理方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-请求分段存储管理方式"}},[t._v("#")]),t._v(" 4.9 请求分段存储管理方式")]),t._v(" "),_("p",[t._v("类似于请求分页，但是有少许的区别，该方式会更容易实现共享与保护")]),t._v(" "),_("h4",{attrs:{id:"_4-9-1-分段的共享与保护"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-1-分段的共享与保护"}},[t._v("#")]),t._v(" 4.9.1 分段的共享与保护")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("共享")]),t._v(" "),_("p",[t._v("可使用共享段表来实现，可内记录共享段以及相应进程信息")])]),t._v(" "),_("li",[_("p",[t._v("保护")]),t._v(" "),_("ul",[_("li",[t._v("越界检查")]),t._v(" "),_("li",[t._v("存储控制检查 在段表表项中设存取控制字段")])])])]),t._v(" "),_("blockquote",[_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/OS/memory_management/",target:"_blank",rel:"noopener noreferrer"}},[t._v("作业"),_("OutboundLink")],1)])]),t._v(" "),_("h2",{attrs:{id:"_5-设备管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-设备管理"}},[t._v("#")]),t._v(" 5 设备管理")]),t._v(" "),_("h3",{attrs:{id:"_5-1-i-o-系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-i-o-系统"}},[t._v("#")]),t._v(" 5.1 I/O 系统")]),t._v(" "),_("p",[t._v("I/O 很容易成为系统性能的瓶颈，而且多而杂，甚至一个操作系统的 2/3 代码都是 I/O 相关代码")]),t._v(" "),_("h4",{attrs:{id:"_5-1-1-i-o-设备"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-i-o-设备"}},[t._v("#")]),t._v(" 5.1.1 I/O 设备")]),t._v(" "),_("ul",[_("li",[t._v("分类\n"),_("ul",[_("li",[t._v("按设备的使用特性分类\n"),_("ul",[_("li",[t._v("存储设备")]),t._v(" "),_("li",[t._v("输入/输出设备")])])]),t._v(" "),_("li",[t._v("按传输速率分类\n"),_("ul",[_("li",[t._v("低速设备")]),t._v(" "),_("li",[t._v("中速设备")]),t._v(" "),_("li",[t._v("高速设备")])])]),t._v(" "),_("li",[t._v("按信息交换的单位分类\n"),_("ul",[_("li",[t._v("字符设备 以字节为单位，如打印机")]),t._v(" "),_("li",[t._v("块设备 以块为单位，如磁盘")])])]),t._v(" "),_("li",[t._v("按设备的共享属性分类\n"),_("ul",[_("li",[t._v("独占设备（临界资源）")]),t._v(" "),_("li",[t._v("共享设备")]),t._v(" "),_("li",[t._v("虚拟设备")])])])])])]),t._v(" "),_("h3",{attrs:{id:"_5-2-i-o-控制（数据传输）方式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-i-o-控制（数据传输）方式"}},[t._v("#")]),t._v(" 5.2 I/O 控制（数据传输）方式")]),t._v(" "),_("ul",[_("li",[t._v("四种 I/O 控制方式（组原里讲的那些）\n"),_("ul",[_("li",[t._v("程序 I/O 方式（循环等待，Polling）")]),t._v(" "),_("li",[t._v("中断驱动 I/O 方式（Interrupts）")]),t._v(" "),_("li",[t._v("直接存储器存取（DMA）")]),t._v(" "),_("li",[t._v("I/O 通道控制方式（Channel）")])])])]),t._v(" "),_("h3",{attrs:{id:"_5-3-缓冲管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-缓冲管理"}},[t._v("#")]),t._v(" 5.3 缓冲管理")]),t._v(" "),_("h4",{attrs:{id:"_5-3-1-缓冲的引入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-缓冲的引入"}},[t._v("#")]),t._v(" 5.3.1 缓冲的引入")]),t._v(" "),_("ul",[_("li",[t._v("缓和 CPU 与 I/O 设备间速度不匹配的矛盾")]),t._v(" "),_("li",[t._v("减少对 CPU 的中断频率，放宽对 CPU 中断响应时间的限制")]),t._v(" "),_("li",[t._v("提高 CPU 和 I/O 设备之间的并行性")])]),t._v(" "),_("h4",{attrs:{id:"_5-3-2-单缓冲和双缓冲"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-单缓冲和双缓冲"}},[t._v("#")]),t._v(" 5.3.2 单缓冲和双缓冲")]),t._v(" "),_("ul",[_("li",[t._v("单缓冲\n"),_("img",{attrs:{src:a(416),alt:"OS21"}})]),t._v(" "),_("li",[t._v("双缓冲\n"),_("img",{attrs:{src:a(417),alt:"OS22"}})])]),t._v(" "),_("h4",{attrs:{id:"_5-3-3-循环缓冲"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-3-循环缓冲"}},[t._v("#")]),t._v(" 5.3.3 循环缓冲")]),t._v(" "),_("p",[_("img",{attrs:{src:a(418),alt:"OS23"}})]),t._v(" "),_("h4",{attrs:{id:"_5-3-4-缓冲池"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-4-缓冲池"}},[t._v("#")]),t._v(" 5.3.4 缓冲池")]),t._v(" "),_("p",[_("img",{attrs:{src:a(419),alt:"OS24"}})]),t._v(" "),_("h3",{attrs:{id:"_5-4-i-o-软件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-i-o-软件"}},[t._v("#")]),t._v(" 5.4 I/O 软件")]),t._v(" "),_("h4",{attrs:{id:"_5-4-1-i-o-软件的设计目标和原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-i-o-软件的设计目标和原则"}},[t._v("#")]),t._v(" 5.4.1 I/O 软件的设计目标和原则")]),t._v(" "),_("ul",[_("li",[t._v("与具体设备无关 上层的操作不应该考虑底层到底是什么设备")]),t._v(" "),_("li",[t._v("统一命名 对设备进行统一逻辑命名")]),t._v(" "),_("li",[t._v("对错误的处理 低层软件能够解决的错误就不让高层软件感知")]),t._v(" "),_("li",[t._v("缓冲技术 向高层提供相同大小的数据块或字符单元")]),t._v(" "),_("li",[t._v("设备的分配和释放 进程管理问题，防止死锁的发生")]),t._v(" "),_("li",[t._v("I/O 控制方式 I/O 软件应向高层软件提供统一的操作接口")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(420),alt:"OS25"}})]),t._v(" "),_("h4",{attrs:{id:"_5-4-2-用户层的-i-o-软件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-2-用户层的-i-o-软件"}},[t._v("#")]),t._v(" 5.4.2 用户层的 I/O 软件")]),t._v(" "),_("p",[t._v("需要通过系统调用获得操作系统服务（可通过库函数实现）")]),t._v(" "),_("h4",{attrs:{id:"_5-4-3-设备独立性软件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-3-设备独立性软件"}},[t._v("#")]),t._v(" 5.4.3 设备独立性软件")]),t._v(" "),_("p",[t._v("应用程序独立于具体使用的物理设备")]),t._v(" "),_("ul",[_("li",[t._v("在应用程序中，使用逻辑设备名称来请求使用某类设备")]),t._v(" "),_("li",[t._v("系统在实际执行时，还必须使用物理设备名称")])]),t._v(" "),_("p",[t._v("这就需要操作系统能够完成这种转换功能")]),t._v(" "),_("p",[t._v("这可以带来以下好处")]),t._v(" "),_("ul",[_("li",[t._v("设备分配时的灵活性")]),t._v(" "),_("li",[t._v("易于实现 I/O 重定向")])]),t._v(" "),_("p",[t._v("设备独立性软件功能主要有")]),t._v(" "),_("ul",[_("li",[t._v("执行所有设备的公有操作")]),t._v(" "),_("li",[t._v("向用户层（或文件层）软件提供统一接口")])]),t._v(" "),_("p",[t._v("逻辑设备名到物理设备名映射的实现")]),t._v(" "),_("p",[t._v("使用逻辑设备表（LUT），内含逻辑设备名、物理设备名、设备驱动程序的入口地址")]),t._v(" "),_("h4",{attrs:{id:"_5-4-4-设备驱动程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-4-设备驱动程序"}},[t._v("#")]),t._v(" 5.4.4 设备驱动程序")]),t._v(" "),_("p",[t._v("I/O 进程与设备控制器之间的通信程序")]),t._v(" "),_("p",[t._v("功能：")]),t._v(" "),_("ul",[_("li",[t._v("接收由设备独立性软件发来的命令和参数")]),t._v(" "),_("li",[t._v("检查用户 I/O 请求的合法性")]),t._v(" "),_("li",[t._v("发出 I/O 命令")]),t._v(" "),_("li",[t._v("及时响应由控制器或通道发来的中断请求")]),t._v(" "),_("li",[t._v("对于设置有通道的计算机系统，驱动程序还应能够根据用户的 I/O 请求，自动地构成通道程序")])]),t._v(" "),_("p",[t._v("特点：")]),t._v(" "),_("ul",[_("li",[t._v("设备驱动程序主要是指在请求 I/O 的进程与设备控制器间的一个通信和转换程序")]),t._v(" "),_("li",[t._v("驱动程序与设备控制器和 I/O 设备的硬件特性紧密相关，因而对不同类型的设备一个配置不同而驱动程序")]),t._v(" "),_("li",[t._v("驱动程序与 I/O 设备所采用的 I/O 空盒子方式紧密相关")]),t._v(" "),_("li",[t._v("由于驱动程序与硬件紧密相关，因而其中的一部分必须用汇编语言书写")])]),t._v(" "),_("h4",{attrs:{id:"_5-4-5-中断处理程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-5-中断处理程序"}},[t._v("#")]),t._v(" 5.4.5 中断处理程序")]),t._v(" "),_("ul",[_("li",[t._v("唤醒被阻塞的驱动（程序）进程")]),t._v(" "),_("li",[t._v("保护被中断进程的 CPU 环境")]),t._v(" "),_("li",[t._v("转入相应的设备处理程序")]),t._v(" "),_("li",[t._v("中断处理")]),t._v(" "),_("li",[t._v("恢复被中断进程的现场")])]),t._v(" "),_("h3",{attrs:{id:"_5-5-设备分配"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-设备分配"}},[t._v("#")]),t._v(" 5.5 设备分配")]),t._v(" "),_("h4",{attrs:{id:"_5-5-1-设备分配中的数据结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-1-设备分配中的数据结构"}},[t._v("#")]),t._v(" 5.5.1 设备分配中的数据结构")]),t._v(" "),_("ul",[_("li",[t._v("系统设备表（SDT， 整个系统一张）：设备名、设备控制块指针")]),t._v(" "),_("li",[t._v("设备控制块（DCT， 每设备一张）：设备状态、分配状态、等待队列、控制器控制块指针")]),t._v(" "),_("li",[t._v("控制器控制块（COCT， 每控制器一张）：控制器状态、等待队列、通道控制块、指针")]),t._v(" "),_("li",[t._v("通道控制块（CHCT， 每通道一张）：通道状态、等待序列")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(421),alt:"OS26"}})]),t._v(" "),_("h4",{attrs:{id:"_5-5-2-设备分配时应考虑的因素"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-2-设备分配时应考虑的因素"}},[t._v("#")]),t._v(" 5.5.2 设备分配时应考虑的因素")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("设备的固有属性")]),t._v(" "),_("ul",[_("li",[t._v("独占性（是否是临界资源）")]),t._v(" "),_("li",[t._v("共享性")]),t._v(" "),_("li",[t._v("可虚拟设备")])])]),t._v(" "),_("li",[_("p",[t._v("设备分配算法")]),t._v(" "),_("ul",[_("li",[t._v("先来先服务")]),t._v(" "),_("li",[t._v("优先级高者优先")])])])]),t._v(" "),_("h4",{attrs:{id:"_5-5-3-独占设备的分配程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-3-独占设备的分配程序"}},[t._v("#")]),t._v(" 5.5.3 独占设备的分配程序")]),t._v(" "),_("ul",[_("li",[t._v("基本的设备分配程序\n"),_("ul",[_("li",[t._v("分配设备")]),t._v(" "),_("li",[t._v("分配控制器")]),t._v(" "),_("li",[t._v("分配通道")])])]),t._v(" "),_("li",[t._v("设备分配程序的改进\n"),_("ul",[_("li",[t._v("增加设备的独立性 使用逻辑设备名而非物理设备名")]),t._v(" "),_("li",[t._v("考虑多通路情况")])])])]),t._v(" "),_("h4",{attrs:{id:"_5-5-4-spooling-技术"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-4-spooling-技术"}},[t._v("#")]),t._v(" 5.5.4 SPOOLing 技术")]),t._v(" "),_("p",[t._v("为了缓和 CPU 的高速性与 I/O 设备低速型之间的矛盾而引入了脱机输入、脱机输出技术，使用专门控制的外围机将低速 I/O 设备上的数据传送到高速磁盘上")]),t._v(" "),_("p",[t._v("SPOOLing 技术由脱机输入输出技术发展而来，使用输入进程和输出进程替代其中的输入处理器和输出处理器")]),t._v(" "),_("ul",[_("li",[t._v("组成\n"),_("img",{attrs:{src:a(422),alt:"OS27"}}),t._v(" "),_("ul",[_("li",[t._v("输入井和输出井")]),t._v(" "),_("li",[t._v("输入缓冲区和输出缓冲区")]),t._v(" "),_("li",[t._v("输入进程 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("msub",[_("mi",[t._v("P")]),_("mi",[t._v("I")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("SP_I")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.07847em"}},[t._v("I")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])]),t._v(" 和输出进程 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("S")]),_("msub",[_("mi",[t._v("P")]),_("mi",[t._v("O")])],1)],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("SP_O")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),_("span",{staticClass:"mord"},[_("span",{staticClass:"mord mathdefault",staticStyle:{"margin-right":"0.13889em"}},[t._v("P")]),_("span",{staticClass:"msupsub"},[_("span",{staticClass:"vlist-t vlist-t2"},[_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.32833099999999993em"}},[_("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.13889em","margin-right":"0.05em"}},[_("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),_("span",{staticClass:"sizing reset-size6 size3 mtight"},[_("span",{staticClass:"mord mathdefault mtight",staticStyle:{"margin-right":"0.02778em"}},[t._v("O")])])])]),_("span",{staticClass:"vlist-s"},[t._v("​")])]),_("span",{staticClass:"vlist-r"},[_("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[_("span")])])])])])])])])])])]),t._v(" "),_("li",[t._v("特点\n"),_("ul",[_("li",[t._v("提高了 I/O 的速度")]),t._v(" "),_("li",[t._v("将独占设备改造为共享设备")]),t._v(" "),_("li",[t._v("实现了虚拟设备功能")])])])]),t._v(" "),_("h3",{attrs:{id:"_5-6-磁盘存储器的管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-磁盘存储器的管理"}},[t._v("#")]),t._v(" 5.6 磁盘存储器的管理")]),t._v(" "),_("h4",{attrs:{id:"_5-6-1-磁盘性能简述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-1-磁盘性能简述"}},[t._v("#")]),t._v(" 5.6.1 磁盘性能简述")]),t._v(" "),_("p",[_("img",{attrs:{src:a(423),alt:"OS28"}})]),t._v(" "),_("ul",[_("li",[_("p",[t._v("数据的组织和格式")]),t._v(" "),_("ul",[_("li",[t._v("每个磁盘片分一个或两个存储面")]),t._v(" "),_("li",[t._v("每个磁盘面被组织成若干个同心环，这种环称为磁道（同一半径的磁道总和称为柱面）")]),t._v(" "),_("li",[t._v("每条磁道又被逻辑上划分为若干个扇区")])]),t._v(" "),_("blockquote",[_("p",[t._v("当然，这样的话，就会有一个三维的物理地址 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mo",{attrs:{stretchy:"false"}},[t._v("(")]),_("mi",[t._v("c")]),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("mi",[t._v("h")]),_("mo",{attrs:{separator:"true"}},[t._v(",")]),_("mi",[t._v("s")]),_("mo",{attrs:{stretchy:"false"}},[t._v(")")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("(c, h, s)")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),_("span",{staticClass:"mopen"},[t._v("(")]),_("span",{staticClass:"mord mathdefault"},[t._v("c")]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("h")]),_("span",{staticClass:"mpunct"},[t._v(",")]),_("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("s")]),_("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v(" 与一维的块号 "),_("span",{staticClass:"katex"},[_("span",{staticClass:"katex-mathml"},[_("math",[_("semantics",[_("mrow",[_("mi",[t._v("b")])],1),_("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("b")])],1)],1)],1),_("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[_("span",{staticClass:"base"},[_("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),_("span",{staticClass:"mord mathdefault"},[t._v("b")])])])]),t._v(" 之间的转换关系，简单的进制转换算法，不赘述")])])]),t._v(" "),_("li",[_("p",[t._v("磁盘的类型")]),t._v(" "),_("ul",[_("li",[t._v("固定头磁盘 每个磁道一个磁头，不需移臂")]),t._v(" "),_("li",[t._v("移动头磁盘 只在每个盘面配有一个磁头，需要移臂")])])]),t._v(" "),_("li",[_("p",[t._v("磁盘访问时间")]),t._v(" "),_("blockquote",[_("p",[t._v("地址：柱面号、磁头号、扇区号")])]),t._v(" "),_("ul",[_("li",[t._v("柱面定位时间 花费时间最多")]),t._v(" "),_("li",[t._v("旋转延迟时间")]),t._v(" "),_("li",[t._v("数据传送时间")])])])]),t._v(" "),_("h4",{attrs:{id:"_5-6-2-磁盘调度"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-2-磁盘调度"}},[t._v("#")]),t._v(" 5.6.2 磁盘调度")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("先来先服务 FCFS")])]),t._v(" "),_("li",[_("p",[t._v("最短寻道时间优先 SSTF")]),t._v(" "),_("p",[t._v("每次都找离当前磁头最近的磁道")])]),t._v(" "),_("li",[_("p",[t._v("扫描 SCAN")]),t._v(" "),_("p",[t._v("为避免 SSTF 所带来的“饥饿”现象，使用类似于电梯的算法，每次都先沿一个方向走到最后一个（并非尽头），然后再改变方向")])])]),t._v(" "),_("h4",{attrs:{id:"_5-6-3-磁盘高速缓存"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-3-磁盘高速缓存"}},[t._v("#")]),t._v(" 5.6.3 磁盘高速缓存")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("磁盘高速缓存的形式")]),t._v(" "),_("p",[t._v("将内存上的一部分存储空间作为磁盘的 Cache 使用，会缓存一些最近用过的从磁盘中取出的盘快，逻辑上属于磁盘、物理上是驻留在内存中的盘块")])]),t._v(" "),_("li",[_("p",[t._v("数据交付方式")]),t._v(" "),_("ul",[_("li",[t._v("缓存中有，则从缓存中取")]),t._v(" "),_("li",[t._v("若无，则从盘中取出，并存入缓存")])])]),t._v(" "),_("li",[_("p",[t._v("置换算法 类似于请求调页算法中的置换算法，比如 LRU，下面列举一些不同点")]),t._v(" "),_("ul",[_("li",[t._v("访问频率 对联想寄存器的访问频率远远高于对高速缓存的访问频率")]),t._v(" "),_("li",[t._v("可预见性 高速缓存中对于哪些数据是会再次访问是有一定的可预见性的")]),t._v(" "),_("li",[t._v("数据的一致性 出现问题时使得缓存与磁盘之间未同步的问题")]),t._v(" "),_("li",[t._v("周期性地写回磁盘 按照 LRU 算法，经常使用的数据块是不会写回磁盘的，如果此时发生了故障，数据是会丢失的，所以我们可以周期性地写回磁盘以避免该问题")])])])]),t._v(" "),_("h4",{attrs:{id:"_5-6-4-提高磁盘-i-o-速度的其他方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-4-提高磁盘-i-o-速度的其他方法"}},[t._v("#")]),t._v(" 5.6.4 提高磁盘 I/O 速度的其他方法")]),t._v(" "),_("ul",[_("li",[t._v("提前读 当要读取文件的时候，由于大多采用顺序访问，故可提前读取下一个盘块数据")]),t._v(" "),_("li",[t._v("延迟写 有很大概率在不久之后再次访问")]),t._v(" "),_("li",[t._v("优化物理块的分布")])]),t._v(" "),_("h2",{attrs:{id:"_6-文件管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-文件管理"}},[t._v("#")]),t._v(" 6 文件管理")]),t._v(" "),_("h3",{attrs:{id:"_6-1-文件与文件系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-文件与文件系统"}},[t._v("#")]),t._v(" 6.1 文件与文件系统")]),t._v(" "),_("h4",{attrs:{id:"_6-1-1-文件的概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-文件的概念"}},[t._v("#")]),t._v(" 6.1.1 文件的概念")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("定义")]),t._v(" "),_("p",[t._v("文件是计算机系统中信息存放的一种组织形式")])]),t._v(" "),_("li",[_("p",[t._v("文件的属性")]),t._v(" "),_("p",[t._v("用于系统对文件进行管理，常见属性如下")]),t._v(" "),_("ul",[_("li",[t._v("保护信息")]),t._v(" "),_("li",[t._v("创建者")]),t._v(" "),_("li",[t._v("只读标志位")]),t._v(" "),_("li",[t._v("隐藏标志位")]),t._v(" "),_("li",[t._v("系统标志位")]),t._v(" "),_("li",[t._v("创建时间、最后访问时间、最后修改时间")]),t._v(" "),_("li",[t._v("文件长度")])])])]),t._v(" "),_("h4",{attrs:{id:"_6-1-2-文件的类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-文件的类型"}},[t._v("#")]),t._v(" 6.1.2 文件的类型")]),t._v(" "),_("ul",[_("li",[t._v("以文件的性质和用途分类\n"),_("ul",[_("li",[t._v("系统文件")]),t._v(" "),_("li",[t._v("库文件")]),t._v(" "),_("li",[t._v("用户文件")])])]),t._v(" "),_("li",[t._v("按文件的存取控制属性分类\n"),_("ul",[_("li",[t._v("只读文件")]),t._v(" "),_("li",[t._v("读写文件")]),t._v(" "),_("li",[t._v("执行文件")])])]),t._v(" "),_("li",[t._v("按文件的组织形式分类\n"),_("blockquote",[_("p",[t._v("UNIX 依此组织文件")])]),t._v(" "),_("ul",[_("li",[t._v("普通文件")]),t._v(" "),_("li",[t._v("目录文件 由文件目录项组成的文件")]),t._v(" "),_("li",[t._v("特别文件 将设备作为文件进行管理")])])])]),t._v(" "),_("h4",{attrs:{id:"_6-1-3-文件的操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-3-文件的操作"}},[t._v("#")]),t._v(" 6.1.3 文件的操作")]),t._v(" "),_("ul",[_("li",[t._v("建立文件")]),t._v(" "),_("li",[t._v("打开文件")]),t._v(" "),_("li",[t._v("读文件")]),t._v(" "),_("li",[t._v("写文件")]),t._v(" "),_("li",[t._v("关闭文件")]),t._v(" "),_("li",[t._v("删除文件")]),t._v(" "),_("li",[t._v("文件指针定位")])]),t._v(" "),_("h4",{attrs:{id:"_6-1-4-文件系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-4-文件系统"}},[t._v("#")]),t._v(" 6.1.4 文件系统")]),t._v(" "),_("p",[t._v("OS 中负责处理文件相关事宜的程序和数据结构，包括文件的查找、存放、保护、共享、命名、文件常用操作的实现以及文件存储器的管理等等")]),t._v(" "),_("h3",{attrs:{id:"_6-2-文件结构与存储设备"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-文件结构与存储设备"}},[t._v("#")]),t._v(" 6.2 文件结构与存储设备")]),t._v(" "),_("h4",{attrs:{id:"_6-2-1-文件的逻辑结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-文件的逻辑结构"}},[t._v("#")]),t._v(" 6.2.1 文件的逻辑结构")]),t._v(" "),_("ul",[_("li",[t._v("流式文件（无结构文件） 基本信息单位是字节或字，其长度是所含字节的数量\n"),_("blockquote",[_("p",[t._v("UNIX 中，所有的文件都被看做是流式文件，即便是有结构文件，也被视为流式文件，系统不对文件进行格式处理")])])]),t._v(" "),_("li",[t._v("记录式文件（有结构文件） 是一种结构文件，由若干个记录组成\n"),_("ul",[_("li",[t._v("定长记录 处理方便，开销小")]),t._v(" "),_("li",[t._v("变长记录")])])])]),t._v(" "),_("h4",{attrs:{id:"_6-2-2-文件的存取方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-2-文件的存取方法"}},[t._v("#")]),t._v(" 6.2.2 文件的存取方法")]),t._v(" "),_("ul",[_("li",[t._v("顺序存取")]),t._v(" "),_("li",[t._v("随机存取（直接存取）")]),t._v(" "),_("li",[t._v("按键存取 使用 Hash 进行索引存取")])]),t._v(" "),_("h4",{attrs:{id:"_6-2-3-文件的物理结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-3-文件的物理结构"}},[t._v("#")]),t._v(" 6.2.3 文件的物理结构")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("连续结构 文件的全部信息存放在外存的一片连续编号的物理块中")]),t._v(" "),_("ul",[_("li",[t._v("优点 简单，支持顺序存取和随机存取")]),t._v(" "),_("li",[t._v("缺点 文件不易动态增长，预留空间浪费，不利于文件的插入和删除，存在外部碎片问题")])])]),t._v(" "),_("li",[_("p",[t._v("串联结构（链接结构） 非连续的结构，存放文件信息的每一"),_("strong",[t._v("物理块中有一个指针")]),t._v("，指向下一个物理块")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("优点")]),t._v(" "),_("ul",[_("li",[t._v("提高了磁盘空间利用率")]),t._v(" "),_("li",[t._v("有利于文件插入和删除")]),t._v(" "),_("li",[t._v("有利于文件动态扩充")])])]),t._v(" "),_("li",[_("p",[t._v("缺点")]),t._v(" "),_("ul",[_("li",[t._v("存取速度慢，不适合随机存取")]),t._v(" "),_("li",[t._v("链接指针占用一定的空间")]),t._v(" "),_("li",[t._v("可靠性问题，如指针出错")])])])])]),t._v(" "),_("li",[_("p",[t._v("索引结构 文件信息存放在若干不连续物理块中，系统为每个文件建立一个专用数据结构——索引表，并将这些块的块号存放在索引表中")]),t._v(" "),_("blockquote",[_("p",[t._v("注意，索引表也是存在物理块中的，我们使用 "),_("code",[t._v("open")]),t._v(" （比如 "),_("code",[t._v("C")]),t._v(" 啦， "),_("code",[t._v("Python")]),t._v(" 啦）操作实际是将该文件的索引表加载到内存中")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(424),alt:"OS29"}})]),t._v(" "),_("ul",[_("li",[_("p",[t._v("优点")]),t._v(" "),_("ul",[_("li",[t._v("保持了链接结构的优点又解决了其缺点，能顺序存取，又能随机存取")]),t._v(" "),_("li",[t._v("满足了文件动态增长，插入删除的要求")]),t._v(" "),_("li",[t._v("能充分利用外存空间")])])]),t._v(" "),_("li",[_("p",[t._v("缺点")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("索引表本身带来了系统开销，如：内外存空间，存取时间开销等")]),t._v(" "),_("blockquote",[_("p",[t._v("当索引表本身很大时，可考虑建立多级索引")])]),t._v(" "),_("p",[_("img",{attrs:{src:a(425),alt:"OS30"}})])])])])])]),t._v(" "),_("li",[_("p",[t._v("混合索引结构（多重索引，UNIX 采用）\n"),_("img",{attrs:{src:a(426),alt:"OS31"}})]),t._v(" "),_("p",[t._v("首先假设一个磁盘块 "),_("code",[t._v("512 Bytes")]),t._v(" ，可存储 "),_("code",[t._v("128")]),t._v(" 个 "),_("code",[t._v("4 Bytes")]),t._v(" 的索引号，我们将主索引表分为以下区域")]),t._v(" "),_("ul",[_("li",[t._v("直接地址 使用 10 个直接地址项，如果文件小于 "),_("code",[t._v("10 * 512 Bytes")]),t._v(" ，就用不到后面的啦")]),t._v(" "),_("li",[t._v("一次间接地址 当超过十个直接地址项所能索引的大小时，一次间接地址指向一个磁盘块，将其作为索引表，很明显，我们又可以索引 "),_("code",[t._v("128")]),t._v(" 个磁盘块，此时最大索引 "),_("code",[t._v("10 + 128")]),t._v(" 个磁盘块")]),t._v(" "),_("li",[t._v("多次间接地址 上述地址不足，则需要继续使用更高级的索引表……")])])])]),t._v(" "),_("h4",{attrs:{id:"_6-2-4-文件的存储设备"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-4-文件的存储设备"}},[t._v("#")]),t._v(" 6.2.4 文件的存储设备")]),t._v(" "),_("p",[t._v("磁带、磁盘、光盘、闪存 ……")]),t._v(" "),_("h3",{attrs:{id:"_6-3-文件目录管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-文件目录管理"}},[t._v("#")]),t._v(" 6.3 文件目录管理")]),t._v(" "),_("h4",{attrs:{id:"_6-3-1-文件控制块与文件目录"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-1-文件控制块与文件目录"}},[t._v("#")]),t._v(" 6.3.1 文件控制块与文件目录")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("目录项（文件控制块，FCB） 用于记录文件相关信息\n"),_("img",{attrs:{src:a(427),alt:"OS32"}})]),t._v(" "),_("p",[t._v("将真正的文件属性存储在 iNode 中，更容易实现文件共享的操作")]),t._v(" "),_("p",[_("img",{attrs:{src:a(428),alt:"OS33"}})]),t._v(" "),_("p",[t._v("如果只有根目录 inode 在内存，那么还需要读取根目录的目录文件，s1 i_node ，s1 目录的目录文件，...，经过 6 次磁盘读取得到 file1 i_node ，之后需要读取 5 次磁盘，即最多共 11 次，如果 file1 i_node 已经在内存，只需要读取 5 次磁盘即可")])])]),t._v(" "),_("h4",{attrs:{id:"_6-3-2-目录结构"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-2-目录结构"}},[t._v("#")]),t._v(" 6.3.2 目录结构")]),t._v(" "),_("ul",[_("li",[t._v("单级目录结构")]),t._v(" "),_("li",[t._v("二级目录结构")]),t._v(" "),_("li",[t._v("多级目录结构 树形")])]),t._v(" "),_("h3",{attrs:{id:"_6-4-文件存储空间管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-文件存储空间管理"}},[t._v("#")]),t._v(" 6.4 文件存储空间管理")]),t._v(" "),_("h4",{attrs:{id:"_6-4-1-空闲表法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-1-空闲表法"}},[t._v("#")]),t._v(" 6.4.1 空闲表法")]),t._v(" "),_("p",[t._v("每个文件分配一块"),_("strong",[t._v("连续")]),t._v("的存储空间，外存的所有空闲区建立一张空闲表")]),t._v(" "),_("p",[_("img",{attrs:{src:a(429),alt:"OS34"}})]),t._v(" "),_("h4",{attrs:{id:"_6-4-2-空闲链表法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-2-空闲链表法"}},[t._v("#")]),t._v(" 6.4.2 空闲链表法")]),t._v(" "),_("p",[t._v("用链表来表示磁盘的空闲空间列表")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("空闲盘块链")]),t._v(" "),_("p",[_("img",{attrs:{src:a(430),alt:"OS35"}})])]),t._v(" "),_("li",[_("p",[t._v("空闲盘区链")])])]),t._v(" "),_("h4",{attrs:{id:"_6-4-3-位示图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-3-位示图"}},[t._v("#")]),t._v(" 6.4.3 位示图")]),t._v(" "),_("p",[t._v("以位示图来表征空闲区，可分配连续的区域，但是占用额外的空间")]),t._v(" "),_("p",[_("img",{attrs:{src:a(431),alt:"OS36"}})]),t._v(" "),_("h4",{attrs:{id:"_6-4-4-成组链接法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-4-成组链接法"}},[t._v("#")]),t._v(" 6.4.4 成组链接法")]),t._v(" "),_("p",[t._v("UNIX 内采用的方法，使用空闲盘块号栈进行分配回收")]),t._v(" "),_("h3",{attrs:{id:"_6-5-文件的共享"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-文件的共享"}},[t._v("#")]),t._v(" 6.5 文件的共享")]),t._v(" "),_("ul",[_("li",[t._v("外存共享 （用户）")]),t._v(" "),_("li",[t._v("内存共享 （进程）")])]),t._v(" "),_("h3",{attrs:{id:"_6-6-文件的保护、保密与安全"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-文件的保护、保密与安全"}},[t._v("#")]),t._v(" 6.6 文件的保护、保密与安全")]),t._v(" "),_("h4",{attrs:{id:"_6-6-1-文件的存取控制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-1-文件的存取控制"}},[t._v("#")]),t._v(" 6.6.1 文件的存取控制")]),t._v(" "),_("ul",[_("li",[t._v("存取控制矩阵 存储占用大，验证费时")]),t._v(" "),_("li",[t._v("存取控制表")])]),t._v(" "),_("h4",{attrs:{id:"_6-6-2-文件的保密"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-2-文件的保密"}},[t._v("#")]),t._v(" 6.6.2 文件的保密")]),t._v(" "),_("ul",[_("li",[t._v("口令")]),t._v(" "),_("li",[t._v("密码")])]),t._v(" "),_("h1",{attrs:{id:"experiment"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#experiment"}},[t._v("#")]),t._v(" Experiment")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/OS/Experiment",target:"_blank",rel:"noopener noreferrer"}},[t._v("本课程配套实验"),_("OutboundLink")],1)]),t._v(" "),_("h1",{attrs:{id:"change-log"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#change-log"}},[t._v("#")]),t._v(" Change Log")]),t._v(" "),_("ol",[_("li",[t._v("190311 #1 Finished")]),t._v(" "),_("li",[t._v("190326 "),_("a",{attrs:{href:"https://github.com/SigureMo/notev/tree/master/Codes/OS/process_sync",target:"_blank",rel:"noopener noreferrer"}},[t._v("process_sync"),_("OutboundLink")],1),t._v(" Finished")]),t._v(" "),_("li",[t._v("190404 #2 Finished")]),t._v(" "),_("li",[t._v("190418 #3 Finished")]),t._v(" "),_("li",[t._v("190513 #4 Finished")]),t._v(" "),_("li",[t._v("190523 #5 Finished")]),t._v(" "),_("li",[t._v("190530 #6 Finished")])]),t._v(" "),_("h1",{attrs:{id:"reference"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),_("ol",[_("li",[t._v("杨志豪老师课程及其"),_("a",{attrs:{href:"http://faculty.dlut.edu.cn/zhyang_CS/zh_CN/jxzy/749840/content/1641.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("配套课件"),_("OutboundLink")],1)]),t._v(" "),_("li",[t._v("《计算机操作系统》 汤小丹 梁红兵 哲凤屏 汤子瀛")])])])}),[],!1,null,null,null);s.default=v.exports}}]);